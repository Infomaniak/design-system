import{T as e,r as t}from"./iframe-BZHB_wgx.js";var n;function r(e){if(!n)if(typeof document<`u`)n=document.createElement(`textarea`);else return;var t=`&`+e+`;`;n.innerHTML=t;var r=n.value;return r===t?void 0:r}var i={},a=e(t(),1),o=Object.defineProperty,s=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})},c=32,l=9,u=13,d=10,f=96,p=126,m=91,h=94,g=62,_=35,v=36,y=37,b=45,x=61,S=92,C=42,w=95,T=60,E=64,D=93,O=33,k=38,A=58,j=70,M=102,N=104,P=119,F=116,I=112,L=115,ee=160,R=12,te=44,z=59,ne=63,re=46,B=47,V=39,ie=34,ae=43,oe=124,se=123,ce=125,le=40,ue=41,de=30,fe=31,H=48,U=57,W=65,G=90,pe=97,me=122,he=128,ge=32,K={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22};s({},{startsWith:()=>De,slugify:()=>Ee,skipWhitespace:()=>rt,shouldFilterTag:()=>pt,sanitizer:()=>Se,parseFrontmatterBounds:()=>_e,normalizeInput:()=>nt,isVoidElement:()=>Ae,isUnicodeWhitespace:()=>Qe,isUnicodePunctuation:()=>$e,isSpaceOrTabCode:()=>qe,isDigitCode:()=>Ye,isAlphaCode:()=>Je,isAlnumCode:()=>Te,isASCIIWhitespace:()=>Ke,isASCIIPunctuation:()=>Ge,inlineCharTypeTable:()=>We,htmlAttrsToJSXProps:()=>ye,hasKeys:()=>it,getTag:()=>ct,getOverrideProps:()=>lt,get:()=>at,findLineEnd:()=>et,extractPlainText:()=>ut,endsWith:()=>Oe,encodeUrlTarget:()=>ot,decodeEntityReferences:()=>Y,cx:()=>st,containsTagfilterTag:()=>mt,charClassTable:()=>Ue,applyTagFilterToText:()=>ht,VOID_ELEMENTS:()=>ke,SHOULD_RENDER_AS_BLOCK_R:()=>be,SANITIZE_R:()=>xe,NAMED_CODES_TO_UNICODE:()=>ve,HTML_TO_JSX_MAP:()=>J,HTML_CHAR_CODE_R:()=>q,CC_WHITESPACE:()=>Me,CC_SPACE_TAB:()=>Le,CC_PUNCTUATION:()=>Ne,CC_NEWLINE:()=>Ie,CC_DIGIT:()=>Fe,CC_ALPHA_UPPER:()=>Re,CC_ALPHA:()=>Pe,ATTRIBUTES_TO_SANITIZE:()=>je});function _e(e){if(!De(e,`---`))return null;let t=3;for(;t<e.length&&(e[t]===` `||e[t]===`	`);)t++;if(t<e.length&&e[t]===`\r`&&t++,t>=e.length||e[t]!==`
`)return null;t++;let n=!1;for(;t<e.length;){let r=t;for(;t<e.length&&e[t]!==`
`&&e[t]!==`\r`;)t++;if(t>=e.length)break;let i=t;if(e[t]===`\r`&&t++,t<e.length&&e[t]===`
`&&t++,De(e,`---`,r))return{endPos:t,hasValidYaml:n};let a=e.indexOf(`:`,r);a!==-1&&a<i&&(n=!0)}return null}var ve=i,q=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,J={class:`className`,for:`htmlFor`,allowfullscreen:`allowFullScreen`,allowtransparency:`allowTransparency`,autocomplete:`autoComplete`,autofocus:`autoFocus`,autoplay:`autoPlay`,cellpadding:`cellPadding`,cellspacing:`cellSpacing`,charset:`charSet`,classid:`classId`,colspan:`colSpan`,contenteditable:`contentEditable`,contextmenu:`contextMenu`,crossorigin:`crossOrigin`,enctype:`encType`,formaction:`formAction`,formenctype:`formEncType`,formmethod:`formMethod`,formnovalidate:`formNoValidate`,formtarget:`formTarget`,frameborder:`frameBorder`,hreflang:`hrefLang`,inputmode:`inputMode`,keyparams:`keyParams`,keytype:`keyType`,marginheight:`marginHeight`,marginwidth:`marginWidth`,maxlength:`maxLength`,mediagroup:`mediaGroup`,minlength:`minLength`,novalidate:`noValidate`,radiogroup:`radioGroup`,readonly:`readOnly`,rowspan:`rowSpan`,spellcheck:`spellCheck`,srcdoc:`srcDoc`,srclang:`srcLang`,srcset:`srcSet`,tabindex:`tabIndex`,usemap:`useMap`,viewbox:`viewBox`};function ye(e){var t={};for(var n in e){var r=J[n.toLowerCase()];if(r)t[r]=e[n];else{var i=n.indexOf(`:`);i===-1?t[n]=e[n]:t[n.slice(0,i)+n[i+1].toUpperCase()+n.slice(i+2)]=e[n]}}return t}var be=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function Y(e){return e.indexOf(`&`)===-1?e:e.replace(q,(e,t)=>{var n=r(t);if(n)return n;if(t[0]===`#`){var i=t[1]===`x`||t[1]===`X`?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return i===0||i>=55296&&i<=57343||i>1114111?`�`:i<=65535?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023))}return e})}var xe=/(javascript|vbscript|data(?!:image)):/i;function Se(e){if(xe.test(e))return null;if(e.indexOf(`%`)===-1)return e;try{let t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,``);if(xe.test(t))return null}catch{return null}return e}var Ce={},we,X;for(we=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],X=0;X<we.length;X++)Ce[we[X]]=`a`;for(Ce[231]=Ce[199]=`c`,Ce[240]=Ce[208]=`d`,we=[200,201,202,203,233,232,234,235],X=0;X<we.length;X++)Ce[we[X]]=`e`;for(we=[207,239,206,238,205,237,204,236],X=0;X<we.length;X++)Ce[we[X]]=`i`;for(Ce[209]=Ce[241]=`n`,we=[248,216,339,338,213,245,212,244,211,243,210,242],X=0;X<we.length;X++)Ce[we[X]]=`o`;for(we=[220,252,219,251,218,250,217,249],X=0;X<we.length;X++)Ce[we[X]]=`u`;Ce[376]=Ce[255]=Ce[221]=Ce[253]=`y`;function Te(e){return e<he&&(Ue[e]&(Pe|Fe))!==0}function Ee(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(Te(r))r>=W&&r<=G?t.push(String.fromCharCode(r+ge)):t.push(e[n]);else if(r===c||r===b)t.push(`-`);else{var i=Ce[r];i&&t.push(i)}}return t.join(``)}function De(e,t,n){return e.startsWith(t,n)}function Oe(e,t,n){return e.startsWith(t,(n===void 0?e.length:n)-t.length)}var ke=new Set([`area`,`base`,`br`,`col`,`embed`,`hr`,`img`,`input`,`link`,`meta`,`param`,`source`,`track`,`wbr`,`circle`,`ellipse`,`line`,`path`,`polygon`,`polyline`,`rect`,`use`,`stop`,`animate`,`set`]);function Ae(e){let t=e.toLowerCase();if(ke.has(t))return!0;let n=t.indexOf(`:`);return n===-1?!1:(t=t.slice(n+1),ke.has(t))}var je=[`src`,`href`,`data`,`formAction`,`srcDoc`,`action`],Me=1,Ne=2,Pe=4,Fe=8,Ie=16,Le=32,Re=64,ze=1,Be=2,Ve=3,He=4,Ue=(function(){let e=new Uint8Array(128),t;for(e[l]=Me|Le,e[d]=Me|Ie,e[R]=Me,e[u]=Me|Ie,e[c]=Me|Le,t=O;t<=B;t++)e[t]=Ne;for(t=A;t<=E;t++)e[t]=Ne;for(t=m;t<=f;t++)e[t]=Ne;for(t=se;t<=p;t++)e[t]=Ne;for(t=H;t<=U;t++)e[t]=Fe;for(t=W;t<=G;t++)e[t]=Pe|Re;for(t=pe;t<=me;t++)e[t]=Pe;return e})(),We=(function(){let e=new Uint8Array(128);return e[S]=Be,e[m]=He,e[C]=e[w]=e[p]=e[x]=Ve,e[f]=e[T]=e[E]=e[D]=e[d]=e[c]=e[O]=ze,e[M]=e[N]=e[P]=ze,e})();function Ge(e){return e<he&&(Ue[e]&Ne)!==0}function Ke(e){return e<he&&(Ue[e]&Me)!==0}function qe(e){return e<he&&(Ue[e]&Le)!==0}function Je(e){return e<he&&(Ue[e]&Pe)!==0}function Ye(e){return e<he&&(Ue[e]&Fe)!==0}var Xe=/[\p{P}\p{S}]/u,Ze=/\p{Zs}/u;function Qe(e){if(!e)return!0;let t=e.charCodeAt(0);return t<he?(Ue[t]&Me)!==0:Ze.test(e)}function $e(e){if(typeof e==`number`)return e<he&&(Ue[e]&Ne)!==0;if(!e)return!1;let t=e.charCodeAt(0);return t<he?(Ue[t]&Ne)!==0:Xe.test(e)}function et(e,t){let n=e.indexOf(`
`,t);return n===-1?e.length:n>0&&e.charCodeAt(n-1)===u?n-1:n}var tt=[];function nt(e){var t=e.indexOf(`\r`),n=e.indexOf(`\0`);if(t===-1&&n===-1)return e;var r=e.length;tt.length=0;var i=0,a=0;for(a=t===-1?n:n===-1||t<n?t:n;a<r;a++){var o=e.charCodeAt(a);o===u?(i<a&&tt.push(e.slice(i,a)),a+1<r&&e.charCodeAt(a+1)===d&&a++,tt.push(`
`),i=a+1):o===0&&(i<a&&tt.push(e.slice(i,a)),tt.push(`�`),i=a+1)}return i<r&&tt.push(e.slice(i)),tt.join(``)}function rt(e,t,n){let r=n??e.length;for(;t<r&&(e[t]===` `||e[t]===`	`);)t++;return t}function it(e){if(!e)return!1;for(var t in e)return!0;return!1}function at(e,t,n){for(var r=e,i=t.split(`.`),a=0;a<i.length&&(r=r?.[i[a]],r!==void 0);)a++;return r||n}function ot(e){for(var t=!1,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=c||r===ie||r===y||r===T||r===g||r===m||r===S||r===D||r===h||r===f||r>=123){t=!0;break}}if(!t)return e;for(var i=``,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r===y&&n+2<e.length){var a=e.charCodeAt(n+1),o=e.charCodeAt(n+2);if((a>=H&&a<=U||a>=W&&a<=j||a>=pe&&a<=M)&&(o>=H&&o<=U||o>=W&&o<=j||o>=pe&&o<=M)){i+=e[n]+e[n+1]+e[n+2],n+=2;continue}}i+=encodeURI(e[n])}return i}function st(...e){return e.filter(Boolean).join(` `)}function ct(e,t){if(!t)return e;let n=at(t,e,void 0);return typeof n==`string`?n:typeof n==`object`&&n.component?n.component:e}function lt(e,t){if(!t)return{};let n=at(t,e,void 0);return typeof n==`object`&&n.props?n.props:{}}function ut(e,t){for(var n=``,r=0,i=e.length;r<i;r++){var a=e[r],o=a.type;if(o===t.text||o===t.codeInline){var s=a.text;s&&(n+=s)}else o===t.textFormatted||o===t.link?a.children&&(n+=ut(a.children,t)):o===t.image&&a.alt&&(n+=a.alt)}return n}var dt=new Set([`title`,`textarea`,`style`,`xmp`,`iframe`,`noembed`,`noframes`,`script`,`plaintext`]),ft=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function pt(e){return dt.has(e.toLowerCase())}function mt(e){return ft.lastIndex=0,ft.test(e)}function ht(e){return ft.lastIndex=0,e.replace(ft,function(e,t,n,r){return`&lt;`+t+n+r})}var gt=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,_t=/^<[A-Z]/,vt=[`script`,`pre`,`style`,`textarea`],yt=new Set(vt),bt=/<(?:pre|script|style|textarea)\b/i,xt=new Set([`table`,`thead`,`tbody`,`tfoot`,`tr`,`td`,`th`]),St=new Uint8Array(128);(function(){for(var e=[f,C,w,p,x,m,O,T,S,fe,N,P,M],t=0;t<e.length;t++)St[e[t]]=1})();var Ct=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function wt(e){return yt.has(e)}function Tt(e){return bt.test(e)}function Et(e,t,n){for(var r=t,i=n;r<i&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;if(r>=i)return!1;e.charCodeAt(r)===oe&&r++;for(var a=0;r<i;){for(;r<i&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;if(r>=i)break;if(e.charCodeAt(r)===oe&&a>0){for(var o=r+1;o<i&&(e.charCodeAt(o)===c||e.charCodeAt(o)===l);)o++;if(o>=i)return!0}if(e.charCodeAt(r)===A&&r++,r>=i||e.charCodeAt(r)!==b)return!1;for(;r<i&&e.charCodeAt(r)===b;)r++;for(r<i&&e.charCodeAt(r)===A&&r++,a++;r<i&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;if(r<i)if(e.charCodeAt(r)===oe)r++;else return!1}return a>0}function Dt(e,t){if(e.charCodeAt(t)!==T)return null;let n=t+1,r=e.length,i=!1;e.charCodeAt(n)===B&&(n++,i=!0);let a=n,o=e.charCodeAt(n);if(!(o>=pe&&o<=me||o>=W&&o<=G))return null;for(;n<r&&(e.charCodeAt(n)>=pe&&e.charCodeAt(n)<=me||e.charCodeAt(n)>=W&&e.charCodeAt(n)<=G||e.charCodeAt(n)>=H&&e.charCodeAt(n)<=U||e.charCodeAt(n)===b);)n++;let s=e.slice(a,n);if(!s)return null;let u=n;for(;n<r&&(e.charCodeAt(n)===c||e.charCodeAt(n)===l||e.charCodeAt(n)===d);)n++;let p=e.slice(u,n);if(n===u&&n<r){var m=e.charCodeAt(n);if(m!==g&&m!==B)return null}let h=n,_={},v=!1;for(;n<r;){let t=e.charCodeAt(n);if(t===g){let t=e.slice(h,n);return{tag:s,attrs:_,selfClosing:!1,end:n+1,rawAttrs:t,whitespaceBeforeAttrs:p,isClosing:i,hasSpaceBeforeSlash:v}}if(t===c||t===l||t===d){n++;continue}if(t===B&&n+1<r&&e.charCodeAt(n+1)===g){let t=e.slice(h,n);return v=n>h&&e.charCodeAt(n-1)===c,{tag:s,attrs:_,selfClosing:!0,end:n+2,rawAttrs:t,whitespaceBeforeAttrs:p,isClosing:i,hasSpaceBeforeSlash:v}}var y=n,S=e.charCodeAt(n);if(!(S>=pe&&S<=me||S>=W&&S<=G||S===w||S===A))return null;for(n++;n<r;){var C=e.charCodeAt(n);if(C>=pe&&C<=me||C>=W&&C<=G||C>=H&&C<=U||C===w||C===re||C===A||C===b)n++;else break}for(var E=e.slice(y,n);n<r&&(e.charCodeAt(n)===c||e.charCodeAt(n)===l);)n++;if(e.charCodeAt(n)!==x){_[E]=``;continue}for(n++;n<r&&(e.charCodeAt(n)===c||e.charCodeAt(n)===l);)n++;var D=e.charCodeAt(n);if(D===ie||D===V){n++;for(var O=n;n<r&&e.charCodeAt(n)!==D;)n++;if(n>=r)return null;if(_[E]=e.slice(O,n),n++,n<r){var k=e.charCodeAt(n);if(k!==c&&k!==l&&k!==d&&k!==g&&k!==B)return null}}else if(D===se){var j=1,O=n;for(n++;n<r&&j>0;){var C=e.charCodeAt(n);C===se?j++:C===ce&&j--,n++}_[E]=e.slice(O,n)}else{for(var O=n;n<r;){var M=e.charCodeAt(n);if(M===c||M===l||M===g||M===d||M===ie||M===V||M===x||M===T||M===f)break;n++}if(n===O)return null;_[E]=e.slice(O,n)}}return null}function Ot(e,t,n){for(var r=0,i=e.length,a=!1;r<i;){for(var o=e.indexOf(`
`,r),s=o<0?i:o,u=r,v=0;u<s&&v<4;)if(e.charCodeAt(u)===c)v++,u++;else if(e.charCodeAt(u)===l)v+=4,u++;else break;if(u>=s){a=!1,r=o<0?i:o+1;continue}if(v<4){var y=e.charCodeAt(u);if(y===f||y===p){for(var x=y,S=0,T=u;T<s&&e.charCodeAt(T)===x;)S++,T++;if(S>=3){a=!1;for(var E=o<0?i:o+1;E<i;){for(var D=E,O=0;D<i&&O<4;){var k=e.charCodeAt(D);if(k===c)O++,D++;else if(k===l)O+=4,D++;else break}if(O<4&&D<i&&e.charCodeAt(D)===x){for(var A=0;D<i&&e.charCodeAt(D)===x;)A++,D++;if(A>=S){for(;D<i&&(e.charCodeAt(D)===c||e.charCodeAt(D)===l);)D++;if(D>=i||e.charCodeAt(D)===d){r=D>=i?i:D+1;break}}}for(;E<i&&e.charCodeAt(E)!==d;)E++;E<i&&E++}E>=i&&(r=i);continue}}}for(var j=u;j<s&&e.charCodeAt(j)===g;){j++,j<s&&e.charCodeAt(j)===c&&j++;for(var M=0;j<s&&M<4;)if(e.charCodeAt(j)===c)M++,j++;else if(e.charCodeAt(j)===l)M+=4,j++;else break;if(M>=4)break;a=!1}if(!a&&v<4&&j<s&&e.charCodeAt(j)===m&&!(j+1<i&&e.charCodeAt(j+1)===h)){var N=kt(e,j,t);if(N){r=N,a=!1;continue}}var P=e.charCodeAt(u);if(P===_&&v<4)a=!1;else if(v<4&&(P===b||P===C||P===w)){for(var F=u,I=0;F<s;){var L=e.charCodeAt(F);if(L===P)I++;else if(L!==c&&L!==l)break;F++}a=!(I>=3&&F>=s)}else a=!0;r=o<0?i:o+1}}function kt(e,t,n){let r=e.length;if(e.charCodeAt(t)!==m)return null;let i=t+1<r&&e.charCodeAt(t+1)===h,a=t+1;for(;a<r;){var o=e.charCodeAt(a);if(o===D){a++;break}if(o===m)return null;o===S&&a+1<r&&a++,a++}if(a>r||e.charCodeAt(a-1)!==D)return null;let s=e.slice(t+1,a-1);if(s.length>999)return null;let u=Lt(s);if(!u||a>=r||e.charCodeAt(a)!==A)return null;a++;let f=!1;for(;a<r;){let t=e.charCodeAt(a);if(t===c||t===l)a++;else if(t===d&&!f)f=!0,a++;else break}if(i){let t=e.indexOf(`
`,a),i=t<0?r:t;return n[u]={target:e.slice(a,i).trim(),title:void 0},t<0?r:t+1}var p;if(a<r&&e.charCodeAt(a)===T){a++;for(var _=a;a<r&&e.charCodeAt(a)!==g&&e.charCodeAt(a)!==d;)e.charCodeAt(a)===S&&a+1<r&&a++,a++;if(a>=r||e.charCodeAt(a)!==g)return null;p=e.slice(_,a),a++;for(var v=e.indexOf(`
`,a),y=v<0?r:v,b=a;b<y&&(e.charCodeAt(b)===c||e.charCodeAt(b)===l);)b++;if(b<y){if(b===a)return null;var x=e.charCodeAt(b);if(x!==ie&&x!==V&&x!==le)return null}}else{for(var _=a,C=0;a<r;){var o=e.charCodeAt(a);if(o===le)C++;else if(o===ue){if(C===0)break;C--}else{if(o===c||o===l||o===d)break;o===S&&a+1<r&&a++}a++}if(p=e.slice(_,a),!p)return null}for(;a<r&&(e.charCodeAt(a)===c||e.charCodeAt(a)===l);)a++;var w=e.indexOf(`
`,a),E=w<0?r:w,O,k=!1,j=a,M=a;if(a===E&&a<r)for(M=a+1;M<r&&(e.charCodeAt(M)===c||e.charCodeAt(M)===l);)M++;if(M<r){var N=e.charCodeAt(M);if(N===ie||N===V||N===le){for(var P=N===le?41:N,F=M+1,I=F;F<r;){var L=e.charCodeAt(F);if(L===P){for(var ee=F+1;ee<r&&(e.charCodeAt(ee)===c||e.charCodeAt(ee)===l);)ee++;(ee>=r||e.charCodeAt(ee)===d)&&(O=e.slice(I,F),k=!0,j=ee<r?ee+1:r);break}if(L===S&&F+1<r){F+=2;continue}if(L===d&&F+1<r&&e.charCodeAt(F+1)===d)break;F++}if(!k&&M===a)return null}}if(k)return n[u]||(n[u]={target:zt(p),title:O===void 0?O:zt(O)}),j;for(;a<E&&(e.charCodeAt(a)===c||e.charCodeAt(a)===l);)a++;return a<E?null:(n[u]||(n[u]={target:zt(p),title:O}),w<0?r:w+1)}var At=1,jt=2,Z=4,Mt=8,Nt=16,Pt=32,Ft=64,Q=new Uint8Array(128);Q[c]=At,Q[l]=At,Q[d]=At|jt,Q[u]=At|jt,Q[_]=Pt|Z,Q[g]=Pt|Z,Q[b]=Pt|Ft|Z,Q[ae]=Pt|Z,Q[C]=Pt|Ft|Z,Q[w]=Pt|Ft|Z,Q[f]=Pt|Ft|Z,Q[p]=Pt|Ft|Z,Q[T]=Pt|Ft|Z,Q[m]=Ft|Z,Q[O]=Ft|Z,Q[oe]=Pt|Z;for(let e=H;e<=U;e++)Q[e]=Nt|Pt;for(let e=W;e<=G;e++)Q[e]=Mt;for(let e=pe;e<=me;e++)Q[e]=Mt;Q[S]=Z,Q[D]=Z,Q[le]=Z,Q[ue]=Z,Q[A]=Z,Q[ie]=Z,Q[V]=Z,Q[k]=Z,Q[x]=Z,Q[v]=Z,Q[y]=Z,Q[te]=Z,Q[re]=Z,Q[B]=Z,Q[z]=Z,Q[ne]=Z,Q[E]=Z,Q[h]=Z,Q[se]=Z,Q[ce]=Z;function It(e){if(e.indexOf(`[`)<0&&e.indexOf(`]`)<0)return!1;for(var t=0;t<e.length;t++){if(e.charCodeAt(t)===S){t++;continue}if(e.charCodeAt(t)===m||e.charCodeAt(t)===D)return!0}return!1}function Lt(e){var t=e.replace(/\s+/g,` `).trim();return t.indexOf(`ẞ`)===-1?t.toLowerCase():t.replace(/\u1E9E/g,`ss`).toLowerCase()}function Rt(e){return e<he?Q[e]:e===ee?At:0}function zt(e){return e.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,`$1`)}function Bt(e,t){var n=e.indexOf(`
`,t);return n<0?e.length:n}function $(e,t){let n=Bt(e,t);return n<e.length?n+1:n}function Vt(e,t,n){for(;t<n;){let n=e.charCodeAt(t);if(n!==c&&n!==l)break;t++}return t}function Ht(e,t){let n=$(e,t);for(;n<e.length;){let t=Bt(e,n);if(qt(e,n,t))return n;n=$(e,n)}return e.length}function Ut(e,t,n,r){let i=0;for(;t+i<n&&e.charCodeAt(t+i)===r;)i++;return i}var Wt=0,Gt=0;function Kt(e,t,n){for(Wt=0,Gt=0;t+Gt<n;){let n=e.charCodeAt(t+Gt);if(n===l)Wt+=4-Wt%4;else if(n===c)Wt++;else break;Gt++}}function qt(e,t,n){return Vt(e,t,n)>=n}function Jt(e,t,n,r){let i=Bt(e,t);if(Kt(e,t,i),Wt>3)return null;let a=t+Gt;if(e.charCodeAt(a)!==_)return null;let o=Ut(e,a,i,35);if(o<1||o>6||(a+=o,a<i&&e.charCodeAt(a)!==c&&e.charCodeAt(a)!==l))return null;a=Vt(e,a,i);for(var s=i;s>a&&e.charCodeAt(s-1)===c;)s--;for(var u=s;s>a&&e.charCodeAt(s-1)===_;)s--;if(s<u)if(s===a||e.charCodeAt(s-1)===c)for(;s>a&&e.charCodeAt(s-1)===c;)s--;else s=u;let d=e.slice(a,s),f=Bn(d,0,d.length,n,r),p=(r?.slugify||Ee)(d);return{node:{type:K.heading,level:o,children:f,id:p},end:$(e,i)}}function Yt(e,t){let n=Bt(e,t);if(Kt(e,t,n),Wt>3)return null;let r=t+Gt,i=e.charCodeAt(r);if(i!==b&&i!==C&&i!==w)return null;let a=0;for(;r<n;){let t=e.charCodeAt(r);if(t===i)a++;else if(t!==c&&t!==l)return null;r++}return a<3?null:{node:{type:K.breakThematic},end:$(e,n)}}function Xt(e,t,n){let r=Bt(e,t);if(Kt(e,t,r),Wt>3)return null;let i=Wt,a=t+Gt,o=e.charCodeAt(a);if(o!==f&&o!==p)return null;let s=Ut(e,a,r,o);if(s<3)return null;a+=s;let u=Vt(e,a,r),m=r;if(o===f){for(let t=u;t<r;t++)if(e.charCodeAt(t)===f)return null}for(;m>u&&(e.charCodeAt(m-1)===c||e.charCodeAt(m-1)===l);)m--;let h=e.slice(u,m),g=``,_=``,v=h.indexOf(` `);v===-1?g=h:(g=h.slice(0,v),_=h.slice(v+1).trim()),g=zt(g);var y=void 0;if(_){Ct.lastIndex=0;for(var b;(b=Ct.exec(_))!==null;)y||={},y[b[1]]=b[2]===void 0?b[3]:b[2]}let x=$(e,r),S=x,C=e.length;for(;S<e.length;){let t=Bt(e,S);if(Kt(e,S,t),Wt<4){let n=S+Gt;var w=Ut(e,n,t,o);if(w>=s&&qt(e,n+w,t)){C=$(e,t);break}}S=$(e,t)}var T;if(i===0)T=S>x&&e.charCodeAt(S-1)===d?e.slice(x,S-1):e.slice(x,S);else{T=``;for(var E=x;E<S;){var D=Bt(e,E);Kt(e,E,D);var O=Math.min(Gt,i);T+=e.slice(E+O,D)+`
`,E=$(e,D)}T.length>0&&T.charCodeAt(T.length-1)===d&&(T=T.slice(0,-1))}return{node:{type:K.codeBlock,lang:g||void 0,text:T,infoString:_||void 0,attrs:y},end:C}}function Zt(e,t){if(Kt(e,t,Bt(e,t)),Wt<4)return null;let n=``,r=t;for(;r<e.length;){let t=Bt(e,r);if(Kt(e,r,t),qt(e,r,t)){for(var i=0,a=$(e,t);a<e.length;){var o=Bt(e,a);if(qt(e,a,o)){i++,a=$(e,o);continue}if(Kt(e,a,o),Wt>=4){for(var s=0;s<=i;s++)n+=`
`;r=a;break}break}if(r!==a)break;continue}if(Wt<4)break;let d=0,m=0;var c=0;for(let n=r;n<t&&m<4;n++){if(e.charCodeAt(n)===l){var u=4-m%4;m+u>4&&(c=m+u-4),m+=u}else m++;d++}var f=``;if(c>0)for(var p=0;p<c;p++)f+=` `;f+=e.slice(r+d,t),n+=f+`
`,r=$(e,t)}for(;n.length>0&&n.charCodeAt(n.length-1)===d;)n=n.slice(0,-1);for(;n.length>0&&n.charCodeAt(n.length-1)===d;)n=n.slice(0,-1);return n?{node:{type:K.codeBlock,text:n},end:r}:null}function Qt(e,t,n,r){if(Kt(e,t,Bt(e,t)),Wt>3)return null;let i=t+Gt;if(e.charCodeAt(i)!==g)return null;let a=``,o=t,s,u=!1,d=!1,m=!1;for(;o<e.length;){let t=Bt(e,o);Kt(e,o,t);let n=o+Gt;if(e.charCodeAt(n)===g){let r=n+1;var h=Wt+1,v=!1;if(r<t){var y=e.charCodeAt(r);y===c?(r++,h++,v=!0):y===l&&(v=!0)}for(var x=``,S=!1,E=r;E<t;E++)if(e.charCodeAt(E)===l){S=!0;break}if(S){var D=h;if(v&&r<t&&e.charCodeAt(r)===l){for(var O=4-D%4,k=0;k<O-1;k++)x+=` `;D+=O,r++}for(var A=r;A<t;A++)if(e.charCodeAt(A)===l){for(var j=4-D%4,M=0;M<j;M++)x+=` `;D+=j}else x+=e[A],D++}else x=e.slice(r,t);if(!a&&!s){let n=x.match(/^\[!([A-Z]+)\]\s*$/);if(n){s=n[1],o=$(e,t);continue}}a+=x+`
`;var N=x.trimStart();N.startsWith("```")||N.startsWith(`~~~`)?m=!m:x.startsWith(`    `)||x.startsWith(`	`)?m=!0:N.length>0&&!m&&(m=!1),d=N.length>0,o=$(e,t)}else if(a&&!qt(e,o,t)&&d){if(Wt<4){var P=o+Gt,F=P<t?e.charCodeAt(P):0;if(F===_||F===g||F===f||F===p||F===T||(F===b||F===C||F===w)&&Yt(e,o)||(F===b||F===C||F===ae)&&P+1<t&&(e.charCodeAt(P+1)===c||e.charCodeAt(P+1)===l))break;if(F>=H&&F<=U){for(var I=P;I<t&&e.charCodeAt(I)>=H&&e.charCodeAt(I)<=U;)I++;if(I<t&&(e.charCodeAt(I)===re||e.charCodeAt(I)===ue))break}}if(m)break;a+=e.slice(o,t)+`
`,u=!0,o=$(e,t)}else break}if(!a&&!s)return null;var{inBlockQuote:L,f:ee}=n;n.inBlockQuote=!0,u&&(n.f=!0);let R=Hn(a||``,n,r);n.inBlockQuote=L,n.f=ee;let te={type:K.blockQuote,children:R};return s&&(te.alert=s),{node:te,end:o}}function $t(e,t,n){for(var r=0,i=t;i<n;i++)e.charCodeAt(i)===l?r+=4-r%4:r++;return r}function en(e,t,n){if(Kt(e,t,n),Wt>3)return null;var r=t+Gt;if(r>=n)return null;var i=e.charCodeAt(r),a=Wt,o=r;if(i===b||i===C||i===ae){if(o=r+1,o<n&&e.charCodeAt(o)!==c&&e.charCodeAt(o)!==l&&e.charCodeAt(o)!==d)return null}else if(i>=H&&i<=U){for(var s=r;s<n&&s-r<9;){var u=e.charCodeAt(s);if(u<H||u>U)break;s++}if(s>r&&s<n){var f=e.charCodeAt(s);if(f===re||f===ue){if(o=s+1,o<n&&e.charCodeAt(o)!==c&&e.charCodeAt(o)!==l&&e.charCodeAt(o)!==d)return null}else return null}else return null}else return null;var p=o,m=$t(e,t,o),h=0,g=p,_=m;if(p>=n)return{ordered:i>=H&&i<=U,marker:i>=H&&i<=U?e[s]:e[r],start:i>=H&&i<=U?parseInt(e.slice(r,s),10):void 0,contentStart:p,contentCol:m+1,markerCol:a,isEmpty:!0};for(;g<n&&(e.charCodeAt(g)===c||e.charCodeAt(g)===l);){if(e.charCodeAt(g)===l){var v=4-_%4;_+=v}else _++;g++,h++}var y=g>=n,x=_-m;return y||x>4?(_=m+1,g=p+1,h=1):h===0&&(_=m+1,g=p,h=1),{ordered:i>=H&&i<=U,marker:i>=H&&i<=U?e[s]:e[r],start:i>=H&&i<=U?parseInt(e.slice(r,s),10):void 0,contentStart:g,contentCol:_,markerCol:a,isEmpty:y}}var tn=0;function nn(e,t,n,r){var i=0,a=t;for(tn=0;a<n&&i<r;){var o=e.charCodeAt(a);if(o===l){var s=4-i%4;if(i+s>r){tn=i+s-r,a++,i=r;break}i+=s}else if(o===c)i++;else break;a++}return a}function rn(e,t,n,r){var i=Bt(e,t),a=en(e,t,i);if(!a)return null;var o=[],s=t,h=a.contentCol,v=``,y=a.isEmpty,x=!1,S=!1;if(!a.isEmpty){for(var E=!1,O=a.contentStart;O<i;O++)if(e.charCodeAt(O)===l){E=!0;break}if(E){var k=``,A=$t(e,t,a.contentStart),j=A-a.contentCol;if(j>0)for(var M=0;M<j;M++)k+=` `;for(var N=a.contentStart;N<i;N++)if(e.charCodeAt(N)===l){for(var P=4-A%4,F=0;F<P;F++)k+=` `;A+=P}else k+=e[N],A++;v=k+`
`}else v=e.slice(a.contentStart,i)+`
`}for(s=$(e,i);s<e.length;){var I=Bt(e,s);Kt(e,s,I);var L=e.charCodeAt(s+Gt);if(Wt<h&&(L===b||L===C||L===w)&&Wt<=3&&Yt(e,s))break;var ee=en(e,s,I);if(ee&&ee.ordered===a.ordered&&ee.marker===a.marker&&ee.markerCol<h){o.push({contentCol:h,raw:v,hasBlankAfter:x,isEmpty:y}),x&&(S=!0),h=ee.contentCol,y=ee.isEmpty,x=!1,v=ee.isEmpty?``:e.slice(ee.contentStart,I)+`
`,s=$(e,I);continue}if(qt(e,s,I)){v+=`
`,s=$(e,I);for(var R=!1,te=0;te<v.length;te++){var z=v.charCodeAt(te);if(z!==d&&z!==u&&z!==c&&z!==l){R=!0;break}}if(y&&!R)if(s<e.length){var ne=Bt(e,s),re=en(e,s,ne);if(!re||re.ordered!==a.ordered||re.marker!==a.marker)break;x=!0}else break;if(s<e.length){var B=Bt(e,s);Kt(e,s,B);var V=e.charCodeAt(s+Gt);if((V===b||V===C||V===w)&&Wt<=3&&Yt(e,s))break;var ie=en(e,s,B);if(ie&&ie.ordered===a.ordered&&ie.marker===a.marker&&ie.markerCol<h){x=!0;continue}if(!qt(e,s,B)&&Wt<h)break}continue}if(Wt>=h){var oe=nn(e,s,I,h);if(tn>0){for(var se=``,ce=h,le=0;le<tn;le++)se+=` `,ce++;for(var ue=oe;ue<I;ue++)if(e.charCodeAt(ue)===l){for(var de=4-ce%4,fe=0;fe<de;fe++)se+=` `;ce+=de}else se+=e[ue],ce++;v+=se+`
`}else v+=e.slice(oe,I)+`
`;s=$(e,I);continue}for(var W=!1,G=0;G<v.length;G++){var pe=v.charCodeAt(G);if(pe!==d&&pe!==u&&pe!==c&&pe!==l){W=!0;break}}if(!x&&W&&!y){var me=s+Gt,he=e.charCodeAt(me);if(!(he===_||he===g||he===T||he===f||he===p||(he===b||he===C||he===w||he===ae)&&(Yt(e,s)!==null||en(e,s,I)!==null)||he>=H&&he<=U&&en(e,s,I)!==null)){v+=``+e.slice(me,I)+`
`,s=$(e,I);continue}}break}if(o.push({contentCol:h,raw:v,hasBlankAfter:x,isEmpty:y}),o.length===0)return null;var ge=S;if(!ge)for(var _e=0;_e<o.length;_e++){if(o[_e].hasBlankAfter&&_e<o.length-1){ge=!0;break}if(!o[_e].isEmpty){for(var ve=o[_e].raw,q=ve.length,J=0,ye=!1,be=!1,Y=!1,xe=!1,Se=0,Ce=0,we=-1;J<q;){var X=ve.indexOf(`
`,J);if(X<0&&(X=q),xe){Kt(ve,J,X);for(var Te=ve.slice(J+Gt,X),Ee=0;Ee<Te.length&&Te.charCodeAt(Ee)===Se;)Ee++;Ee>=Ce&&Te.slice(Ee).trim()===``&&(xe=!1),J=X<q?X+1:q;continue}if(qt(ve,J,X)){we>=0?Y=!0:ye&&(be=!0),J=X<q?X+1:q;continue}if(Kt(ve,J,X),we>=0){if(Wt>=we){J=X<q?X+1:q;continue}var De=en(ve,J,X);if(De&&De.markerCol<we&&De.contentCol<=we){J=X<q?X+1:q;continue}if(De){J=X<q?X+1:q;continue}we=-1,Y&&=(be=!0,!1)}var Oe=ve.slice(J+Gt,X),ke=Oe.charCodeAt(0);if((ke===f||ke===p)&&Wt<=3){for(var Ae=0;Ae<Oe.length&&Oe.charCodeAt(Ae)===ke;)Ae++;if(Ae>=3){if(be&&ye){ge=!0;break}xe=!0,Se=ke,Ce=Ae,ye=!0,J=X<q?X+1:q;continue}}var je=Wt<=3?en(ve,J,X):null;if(je&&ye){if(be){ge=!0;break}we=je.contentCol,Y=!1,J=X<q?X+1:q,ye=!0;continue}if(be){ge=!0;break}ye=!0,J=X<q?X+1:q}if(ge)break}}for(var Me=[],Ne=0;Ne<o.length;Ne++){for(var Pe=o[Ne],Fe=Pe.raw,Ie=Fe.length;Ie>0&&Fe.charCodeAt(Ie-1)===d;)Ie--;var Le=Ie<Fe.length?Fe.slice(0,Ie):Fe,Re=null;if(Le.length>=3&&Le.charCodeAt(0)===m){var ze=Le[1];(ze===` `||ze===`x`||ze===`X`)&&Le.charCodeAt(2)===D&&(Re={type:K.gfmTask,completed:ze===`x`||ze===`X`},Le=Le.slice(3))}var Be;if(Pe.isEmpty&&Le.trim()===``)Be=[];else if(ge){var Ve=n.inList;n.inList=!0,Be=Hn(Le,n,r),n.inList=Ve}else{var He=n.inList;if(n.inList=!0,Be=Hn(Le,n,r),n.inList=He,Be.length===1&&Be[0].type===K.paragraph)Be=Be[0].children;else{for(var Ue=[],We=0;We<Be.length;We++)if(Be[We].type===K.paragraph)for(var Ge=Be[We].children,Ke=0;Ke<Ge.length;Ke++)Ue.push(Ge[Ke]);else Ue.push(Be[We]);Be=Ue}}Re?Me.push([Re,{type:K.text,text:` `},...Be]):Me.push(Be)}return{node:{type:a.ordered?K.orderedList:K.unorderedList,start:a.ordered?a.start:void 0,items:Me},end:s}}var an=new Set(`address.article.aside.base.basefont.blockquote.body.caption.center.col.colgroup.dd.details.dialog.dir.div.dl.dt.fieldset.figcaption.figure.footer.form.frame.frameset.h1.h2.h3.h4.h5.h6.head.header.hr.html.iframe.legend.li.link.main.menu.menuitem.nav.noframes.ol.optgroup.option.p.param.search.section.summary.table.tbody.td.tfoot.th.thead.title.tr.track.ul`.split(`.`));function on(e,t,n){let r={};for(let[o,s]of Object.entries(e)){let e=o,c=o.toLowerCase();if(c===`style`&&typeof s==`string`){let t={},n=[],i=0,a=0;for(let e=0;e<s.length;e++){let t=s.charCodeAt(e);t===le?i++:t===ue?i--:t===z&&i===0&&(n.push(s.slice(a,e)),a=e+1)}a<s.length&&n.push(s.slice(a));let o=!1;n.forEach(e=>{let n=e.indexOf(`:`);if(n===-1)return;let r=e.slice(0,n).trim(),i=e.slice(n+1).trim();if(r&&i){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(i)){o=!0;return}let e=r.indexOf(`-`)===-1?r:r.replace(/-([a-z])/g,(e,t)=>t.toUpperCase());t[e]=i}}),!o&&Object.keys(t).length>0&&(r[e]=t)}else if((c===`href`||c===`src`)&&n?.sanitizer){let i=n.sanitizer(s,t,c);i!==null&&(r[e]=i)}else if(s===``)r[e]=!0;else if(s.length>=2&&s.charCodeAt(0)===se&&s.charCodeAt(s.length-1)===ce){var i=s.slice(1,-1);if(i.length>0){var a=i.charCodeAt(0);if(a===m||a===se)try{r[e]=JSON.parse(i);continue}catch{}}if(i===`true`){r[e]=!0;continue}if(i===`false`){r[e]=!1;continue}if(n?.evalUnserializableExpressions)try{r[e]=(0,eval)(`(`+i+`)`);continue}catch{}r[e]=i}else r[e]=s}return r}function sn(e,t,n){let r=t.length;var i=t.charCodeAt(0);i>=W&&i<=G&&(i+=ge);for(let o=n;o<=e.length-r;o++){var a=e.charCodeAt(o);if(a>=W&&a<=G&&(a+=ge),a!==i)continue;let n=!0;for(let i=1;i<r;i++){let r=e.charCodeAt(o+i),a=t.charCodeAt(i);if(r>=W&&r<=G&&(r+=ge),a>=W&&a<=G&&(a+=ge),r!==a){n=!1;break}}if(n)return o}return-1}function cn(e,t,n){let r=t.length;var i=t.charCodeAt(0);i>=W&&i<=G&&(i+=ge);for(let o=Math.min(n,e.length-r);o>=0;o--){var a=e.charCodeAt(o);if(a>=W&&a<=G&&(a+=ge),a!==i)continue;let n=!0;for(let i=1;i<r;i++){let r=e.charCodeAt(o+i),a=t.charCodeAt(i);if(r>=W&&r<=G&&(r+=ge),a>=W&&a<=G&&(a+=ge),r!==a){n=!1;break}}if(n)return o}return-1}var ln=-1;function un(e,t,n){let r=n.toLowerCase(),i=`<`+r,a=`</`+r,o=1,s=t,u=e.length;for(ln=-1;s<u&&o>0;){let t=sn(e,i,s),n=sn(e,a,s);if(n===-1)return-1;if(t!==-1&&t<n){let n=Dt(e,t);n?(n.tag.toLowerCase()===r&&!n.isClosing&&!n.selfClosing&&!Ae(n.tag)&&o++,s=n.end):s=t+1}else{var f=n+a.length,p=f<u?e.charCodeAt(f):62;if((p===g||p===c||p===l||p===d)&&(o--,o===0)){ln=n;let t=n+a.length;for(;t<u&&e.charCodeAt(t)!==g;)t++;return t+1}s=n+1}}return-1}function dn(e,t,n,r){if(r.ignoreHTMLBlocks||r.disableParsingRawHTML)return null;var i=Bt(e,t);if(Kt(e,t,i),Wt>3&&!n.inHTML)return null;var a=t+Gt;if(e.charCodeAt(a)!==T)return null;var o=e.indexOf(`>`,a+1);if(o!==-1&&o<i){var s=e.slice(a+1,o);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(s)||/^[^\s@]+@[^\s@]+$/.test(s))return null}var u=fn(e,a);if(u>=1&&u<=5){var f=e.length;if(u===1){for(var p=e.length,m=0;m<vt.length;m++){var h=sn(e,`</`+vt[m]+`>`,a);h>=0&&h<p&&(p=h)}if(p<e.length){var _=e.indexOf(`>`,p);f=_>=0?$(e,_+1):e.length}}else{var v=u===2?`-->`:u===3?`?>`:u===4?`>`:`]]>`,y=e.indexOf(v,a);y>=0&&(f=$(e,y+v.length))}var b=e.slice(a,f);if(u>=2)return{node:{type:K.htmlComment,text:b,raw:!0,endPos:f},end:f};var x=`div`,S=b.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);S&&(x=S[1]);var C=Dt(e,a),w={},E;C&&!C.isClosing&&(w=on(C.attrs,x,r),E=C.whitespaceBeforeAttrs+C.rawAttrs);var D=[],O=sn(b,`</`+x.toLowerCase(),0),k=b,A=``;if(C&&C.isClosing)for(k=b.slice(C.end-a);k.length>0&&k.charCodeAt(k.length-1)===d;)k=k.slice(0,-1);else if(C&&!C.isClosing){var j=C.end-a;if(O!==-1)for(k=b.slice(j),k.charCodeAt(0)===d&&(k=k.slice(1));k.length>0&&k.charCodeAt(k.length-1)===d;)k=k.slice(0,-1);else for(k=b;k.length>0&&k.charCodeAt(k.length-1)===d;)k=k.slice(0,-1);if(O!==-1&&(A=b.slice(j,O).trim(),A)){var{inline:M,inHTML:N}=n;n.inline=!0,n.inHTML=!0,D=Bn(A,0,A.length,n,r),n.inline=M,n.inHTML=N}}var P=C?C.isClosing:!1;return{node:{type:K.htmlBlock,tag:x,attrs:w,e:E,children:D,a:k,text:A,d:!0,b:P,endPos:f,canInterruptParagraph:!0},end:f}}if(u===6||u===7){var F=Ht(e,t),I=F<e.length?F:e.length,L=e.slice(a,I),ee=F<e.length?$(e,F):e.length,R=Dt(e,a);if(R){var te=R.tag,z=te.toLowerCase();if(R.isClosing){var ne=e.slice(R.end,I);return{node:{type:K.htmlBlock,tag:te,attrs:{},children:[],a:ne,text:ne,d:!0,b:!0,endPos:I,canInterruptParagraph:u===6},end:ee}}var re=n.c||0,V=e.slice(a,I),ie=-1,ae=-1;if(!R.selfClosing&&!Ae(te)&&re<10){for(var oe=`</`+z,se=R.end-a,ce=1,le=se;le<V.length&&ce>0;){var ue=sn(V,`<`+z,le),de=sn(V,oe,le);if(de===-1)break;if(ue!==-1&&ue<de){var fe=ue+z.length+1;if(fe<V.length){var H=V.charCodeAt(fe);(H===c||H===l||H===d||H===g||H===B)&&ce++}le=ue+1}else{var U=de+oe.length;if(U<V.length){var pe=V.charCodeAt(U);if((pe===g||pe===c||pe===l||pe===d)&&(ce--,ce===0)){ie=de;for(var me=U;me<V.length&&V.charCodeAt(me)!==g;)me++;ae=me+1;break}}else if(ce--,ce===0){ie=de,ae=V.length;break}le=de+1}}var he=!1;if(ie===-1&&u===6&&!R.isClosing&&!xt.has(z)){var ge=e.slice(R.end),_e=sn(ge,oe,0);if(_e!==-1&&ge.slice(0,_e).indexOf(`

`)!==-1){for(var ve=R.end+_e,q=ve+oe.length;q<e.length&&e.charCodeAt(q)!==g;)q++;if(q<e.length&&e.charCodeAt(q)===g){var J=q+1,ye=Bt(e,J);I=ye,ee=$(e,ye),V=e.slice(a,I),L=e.slice(a,I),ie=ve-a,ae=J-a,he=!0}}}}var be=R.rawAttrs.indexOf(`
`)!==-1||R.whitespaceBeforeAttrs.indexOf(`
`)!==-1,Y=!1;ie!==-1&&(Y=V.slice(ae).trim().length===0);var xe=!1,Se=I,Ce=ee;if(ie!==-1){var we=a+ae,X=Bt(e,we-1);if(we<X){for(var Te=we;Te<X&&(e.charCodeAt(Te)===c||e.charCodeAt(Te)===l);)Te++;if(Te<X&&e.charCodeAt(Te)===T){var Ee=Dt(e,Te);Ee&&!Ee.isClosing&&(xe=!0,Se=we,Ce=we,Y=!0)}}if(!xe){var De=$(e,X);if(De<I){for(var Oe=De;Oe<I&&(e.charCodeAt(Oe)===c||e.charCodeAt(Oe)===l);)Oe++;Oe<I&&e.charCodeAt(Oe)===T&&Dt(e,Oe)&&(xe=!0,Se=X,Ce=De,Y=!0)}}!xe&&n.inHTML&&(xe=!0,Se=X,Ce=$(e,X),Y=e.slice(we,X).trim().length===0)}var ke=[],je=``;if(ie!==-1){je=V.slice(R.end-a,ie);var Me=je.trim();if(Me){var{inline:Ne,inHTML:Pe,c:Fe}=n;if(n.inHTML=!0,n.c=re+1,z===`p`)n.inline=!0,ke=Bn(Me,0,Me.length,n,r);else{var Ie=je.indexOf(`

`)!==-1,Le=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(Me),Re=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(Me);Ie||Le||n.inHTML&&Re||Re?(n.inline=!1,ke=Hn(je,n,r)):(n.inline=!0,ke=Bn(Me,0,Me.length,n,r))}n.inline=Ne,n.inHTML=Pe,n.c=Fe}}var ze=!1;if(u===6&&ie!==-1&&!n.inHTML&&!be){var Be=je,Ve=/<[a-zA-Z][^>]*>/.test(Be),He=/\n\n/.test(Be)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(Be);Ve&&!He&&(ze=!0)}if(n.inHTML||u===7||be||!Y||ze){var Ue;if(ie!==-1&&xe){var We=!1;if(n.inHTML&&ae<V.length){for(var Ge=ae;Ge<V.length&&V.charCodeAt(Ge)!==d;)Ge++;var Ke=V.slice(ae,Ge).trim();We=Ke.length>1&&Ke.charCodeAt(0)===T&&Ke.charCodeAt(1)!==B}Ue=We?V.slice(R.end-a):je}else (u===7||n.inHTML)&&ie!==-1?(Ue=V.slice(R.end-a),Ue.charCodeAt(0)===d&&(Ue=Ue.slice(1))):xe?Ue=e.slice(a,Se):be?Ue=L:(Ue=V.slice(R.end-a),Ue.charCodeAt(0)===d&&(Ue=Ue.slice(1)));return{node:{type:K.htmlBlock,tag:te,attrs:on(R.attrs,te,r),e:R.whitespaceBeforeAttrs+R.rawAttrs,children:ke,a:Ue,text:Ue,d:!0,b:!1,endPos:Se,canInterruptParagraph:u===6},end:Ce}}return{node:{type:K.htmlBlock,tag:te,attrs:on(R.attrs,te,r),e:R.whitespaceBeforeAttrs+R.rawAttrs,children:ke,a:he?``:je,text:je,d:!1,b:!1,endPos:Se,canInterruptParagraph:u===6},end:Ce}}var qe=L.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),Je=qe?qe[2]:`div`,Ye=qe?qe[1]===`/`:!1,Xe=L;if(Ye){var Ze=L.indexOf(`>`);Ze!==-1&&(Xe=L.slice(Ze+1))}return{node:{type:K.htmlBlock,tag:Je,attrs:{},children:[],a:Xe,text:Xe,d:!0,b:Ye,endPos:I,canInterruptParagraph:u===6},end:ee}}var Qe=Dt(e,a);if(!Qe)return null;var $e=Qe.tag,et=$e.toLowerCase(),tt=$e.charCodeAt(0),nt=tt>=W&&tt<=G;if(!nt&&!an.has(et)&&!yt.has(et)&&!et.includes(`-`))return null;if(Qe.isClosing)return{node:{type:K.htmlSelfClosing,tag:$e,attrs:{},endPos:Qe.end,b:!0,a:e.slice(a,Qe.end)},end:Qe.end};var rt=un(e,Qe.end,$e),it=[];if(rt!==-1){var at=ln,ot=e.slice(Qe.end,at),st=ot.trim();if(st){var ct=ot.indexOf(`

`)!==-1,lt=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(st),ut=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(st),dt=n.inline,ft=n.inHTML,pt=n.c;n.inHTML=!0,n.c=(n.c||0)+1,ct||lt||ut?(n.inline=!1,it=Hn(ot,n,r)):(n.inline=!0,it=Bn(st,0,st.length,n,r)),n.inline=dt,n.inHTML=ft,n.c=pt}var mt=Bt(e,rt),ht=e.slice(rt,mt).trim()?rt:$(e,rt),gt=nt?e.slice(a,rt):e.slice(a,ht),_t=nt?rt:ht;return{node:{type:K.htmlBlock,tag:$e,attrs:on(Qe.attrs,$e,r),e:Qe.whitespaceBeforeAttrs+Qe.rawAttrs,children:it,a:gt,text:nt?ot:gt,d:!0,b:!1,endPos:_t,canInterruptParagraph:!1},end:ht}}var bt=Ht(e,Qe.end),St=bt<e.length?$(e,bt):bt,Ct=e.slice(Qe.end,bt);if(Ct.trim()){var{inline:wt,inHTML:Tt,c:Et}=n;n.inline=!1,n.inHTML=!0,n.c=(n.c||0)+1,it=Hn(Ct,n,r),n.inline=wt,n.inHTML=Tt,n.c=Et}var Ot=e.slice(Qe.end,bt);return{node:{type:K.htmlBlock,tag:$e,attrs:on(Qe.attrs,$e,r),e:Qe.whitespaceBeforeAttrs+Qe.rawAttrs,children:it,a:Ot,text:Ct,d:!0,b:!1,endPos:bt,canInterruptParagraph:!1},end:St}}function fn(e,t){if(e.charCodeAt(t)!==T)return 0;var n=t+1,r=e.length;if(e.charCodeAt(n)===O&&e.charCodeAt(n+1)===b&&e.charCodeAt(n+2)===b)return 2;if(e.charCodeAt(n)===ne)return 3;if(e.charCodeAt(n)===O){var i=e.charCodeAt(n+1);if(i>=W&&i<=G)return 4;if(e.slice(n+1,n+8)===`[CDATA[`)return 5}for(var a=e.charCodeAt(n)===B,o=a?n+1:n,s=o;s<r;){var u=e.charCodeAt(s);if(u>=W&&u<=G||u>=pe&&u<=me||u>=H&&u<=U||u===b)s++;else break}if(s===o)return 0;var f=e.slice(o,s);if(yt.has(f.toLowerCase())){if(a)return 0;var p=e.charCodeAt(s);return p===c||p===l||p===g||p===d||s>=r?1:0}if(an.has(f.toLowerCase())){if(a){for(var m=s;m<r&&(e.charCodeAt(m)===c||e.charCodeAt(m)===l);)m++;return m<r&&e.charCodeAt(m)===g?6:0}var h=s<r?e.charCodeAt(s):-1;return h===c||h===l||h===g||h===d||h===B||h===-1?6:0}if(a){for(var _=s;_<r&&(e.charCodeAt(_)===c||e.charCodeAt(_)===l);)_++;if(_<r&&e.charCodeAt(_)===g){var v=Bt(e,t);if(e.slice(_+1,v).trim()===``)return 7}}else{var y=Bt(e,t),x=Dt(e,t);if(x&&x.end<=y&&e.slice(x.end,y).trim()===``)return 7}return 0}function pn(e,t,n){for(var r=0,i=e.length;r<i&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;for(;i>r&&(e.charCodeAt(i-1)===c||e.charCodeAt(i-1)===l);)i--;r<i&&e.charCodeAt(r)===oe&&r++,i>r&&e.charCodeAt(i-1)===oe&&(i-2<r||e.charCodeAt(i-2)!==S)&&i--;for(var a=[],o=r,s=!1,u=[],d=r;d<i;){var p=e.charCodeAt(d);if(p===S&&d+1<i){e.charCodeAt(d+1)===oe?(s||(s=!0,u=[]),u.push(e.slice(o,d)),u.push(`|`),d+=2,o=d):d+=2;continue}if(p===f){for(var m=0;d<i&&e.charCodeAt(d)===f;)m++,d++;for(var h=!1;d<i&&!h;){for(var g=0;d<i&&e.charCodeAt(d)===f;)g++,d++;g===m?h=!0:g===0&&d++}continue}if(p===oe){var _=s?(u.push(e.slice(o,d)),u.join(``)):e.slice(o,d);a.push(_.trim()),d++,o=d,s=!1,u=[];continue}d++}var v=s?(u.push(e.slice(o,i)),u.join(``)):e.slice(o,i);return a.push(v.trim()),a.map(function(e){var r=e.indexOf(`\\|`)===-1?e:e.replace(/\\\|/g,`|`);return Bn(r,0,r.length,t,n)})}function mn(e,t,n,r){let i=Bt(e,t);var a=e.indexOf(`|`,t);if(a<0||a>=i)return null;let o=$(e,i);if(o>=e.length)return null;let s=Bt(e,o);if(!Et(e,o,s))return null;let u=e.slice(t,i),d=e.slice(o,s);for(var m=[],h=0,v=d.length;h<v&&(d.charCodeAt(h)===c||d.charCodeAt(h)===l);)h++;for(h<v&&d.charCodeAt(h)===oe&&h++;h<v;){for(;h<v&&(d.charCodeAt(h)===c||d.charCodeAt(h)===l);)h++;if(h>=v||d.charCodeAt(h)===oe)break;var y=d.charCodeAt(h)===A;for(y&&h++;h<v&&d.charCodeAt(h)===b;)h++;var x=h<v&&d.charCodeAt(h)===A;for(x&&h++,m.push(y&&x?`center`:x?`right`:y?`left`:null);h<v&&(d.charCodeAt(h)===c||d.charCodeAt(h)===l);)h++;h<v&&d.charCodeAt(h)===oe&&h++}let S=pn(u,n,r);if(m.length!==S.length)return null;let T=[],E=$(e,s);for(;E<e.length;){let t=Bt(e,E),i=e.slice(E,t);if(qt(e,E,t))break;if(Kt(e,E,t),Wt<4){var D=e.charCodeAt(E+Gt);if(D===g||D===_||(D===b||D===C||D===w)&&Yt(e,E))break;if(D===f||D===p){for(var O=E+Gt,k=0;O<t&&e.charCodeAt(O)===D;)k++,O++;if(k>=3)break}}T.push(pn(i,n,r)),E=$(e,t)}if((r.streaming||r.optimizeForStreaming)&&T.length===0)return null;for(var j=S.length,M=0;M<T.length;M++)if(T[M].length<j)for(;T[M].length<j;)T[M].push([]);else T[M].length>j&&(T[M].length=j);return{node:{type:K.table,header:S,cells:T,align:m},end:E}}function hn(e,t,n){if(Kt(e,t,Bt(e,t)),Wt>3)return null;var r=t+Gt;if(e.charCodeAt(r)!==m)return null;if(r+1<e.length&&e.charCodeAt(r+1)===h)return gn(e,r,n)||null;n.refs||={};var i=kt(e,r,n.refs);return i===null?null:{node:{type:K.refCollection},end:i}}function gn(e,t,n){var r=e.length;if(e.charCodeAt(t)!==m||t+1>=r||e.charCodeAt(t+1)!==h)return null;for(var i=t+2,a=i;i<r&&e.charCodeAt(i)!==D;){if(e.charCodeAt(i)===d)return null;i++}if(i>=r)return null;var o=(`^`+e.slice(a,i)).toLowerCase();if(i++,i>=r||e.charCodeAt(i)!==A)return null;for(i++;i<r&&(e.charCodeAt(i)===c||e.charCodeAt(i)===l);)i++;if(i<r&&e.charCodeAt(i)===d)for(i++;i<r&&(e.charCodeAt(i)===c||e.charCodeAt(i)===l);)i++;var s=e.indexOf(`
`,i);s<0&&(s=r);for(var u=e.slice(i,s).trim(),f=s<r?s+1:r;f<r;){var p=Bt(e,f);if(Kt(e,f,p),Wt>=2&&!qt(e,f,p))u+=`
`+e.slice(f,p),f=$(e,p);else if(qt(e,f,p)){var g=$(e,p);if(g<r&&(Kt(e,g,Bt(e,g)),Wt>=2)){u+=`
`,f=$(e,p);continue}break}else break}return n.refs[o]||(n.refs[o]={target:u,title:void 0}),{node:{type:K.footnote},end:f}}function _n(e,t,n,r){let i=t,a=0,o=0,s=-1;for(;i<e.length;){let t=s>=0?s:Bt(e,i);if(s=-1,qt(e,i,t))break;if(Kt(e,i,t),Wt<4&&o>0&&!n.f){let n=e.charCodeAt(i+Gt);if(n===x||n===b){let r=i+Gt;for(;r<t&&e.charCodeAt(r)===n;)r++;for(;r<t&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;if(r>=t){a=n===x?1:2,i=$(e,t);break}}}o=t;let u=$(e,t);if(u<e.length){if(e.charCodeAt(u)===de){var m=Bt(e,u);i=$(e,m),o=m;continue}let t=Bt(e,u);if(s=t,Kt(e,u,t),Wt<4){let a=e.charCodeAt(u+Gt);if(a===g){i=u;break}if(a===_&&Jt(e,u,n,r)){i=u;break}if(a===f||a===p){for(var h=u+Gt,v=0;h<t&&e.charCodeAt(h)===a;)v++,h++;if(v>=3){i=u;break}}if(a===T){var y=u+Gt+1,S=y<t?e.charCodeAt(y):0,E=S===O||S===ne;if(!E&&S===B){for(var D=y+1,k=D;k<t&&(e.charCodeAt(k)>=W&&e.charCodeAt(k)<=G||e.charCodeAt(k)>=pe&&e.charCodeAt(k)<=me||e.charCodeAt(k)>=H&&e.charCodeAt(k)<=U||e.charCodeAt(k)===b);)k++;k>D&&(E=an.has(e.slice(D,k).toLowerCase()))}else if(!E){for(var A=y;A<t&&(e.charCodeAt(A)>=W&&e.charCodeAt(A)<=G||e.charCodeAt(A)>=pe&&e.charCodeAt(A)<=me||e.charCodeAt(A)>=H&&e.charCodeAt(A)<=U||e.charCodeAt(A)===b);)A++;if(A>y){var j=e.slice(y,A).toLowerCase();E=an.has(j)||yt.has(j)}}if(E&&dn(e,u,n,r)){i=u;break}}if(a===b||a===C||a===ae){let n=u+Gt+1;if(n<t&&(e.charCodeAt(n)===c||e.charCodeAt(n)===l)&&Vt(e,n,t)<t&&!Yt(e,u)){i=u;break}}if(a>=H&&a<=U){let n=u+Gt;for(;n<t&&e.charCodeAt(n)>=H&&e.charCodeAt(n)<=U;)n++;if(n<t&&(e.charCodeAt(n)===re||e.charCodeAt(n)===ue)&&n-(u+Gt)===1&&e.charCodeAt(u+Gt)===49){var M=n+1;if(M<t&&(e.charCodeAt(M)===c||e.charCodeAt(M)===l)&&Vt(e,M,t)<t){i=u;break}}}if(a===oe){let n=$(e,t);if(n<e.length&&Et(e,n,Bt(e,n))){i=u;break}}if((a===b||a===C||a===w)&&Yt(e,u)){if(a!==b){i=u;break}let n=0,r=u+Gt;for(;r<t&&e.charCodeAt(r)===b;)n++,r++;for(;r<t&&(e.charCodeAt(r)===c||e.charCodeAt(r)===l);)r++;if(r<t){i=u;break}}}}i=$(e,t)}for(var N=a?o:i;N>t&&(e.charCodeAt(N-1)===d||e.charCodeAt(N-1)===u||e.charCodeAt(N-1)===c||e.charCodeAt(N-1)===l);)N--;for(var P=t;P<N&&(e.charCodeAt(P)===c||e.charCodeAt(P)===l);)P++;if(P>=N)return null;for(var F=!1,I=P;I<N;I++)if(e.charCodeAt(I)===de){F=!0;break}var L=F?e.slice(P,N).replace(/\u001E/g,``):e.slice(P,N);if(!L)return null;let ee=vn(L,0,L.length,n,r);if(a){let e=(r?.slugify||Ee)(L);return{node:{type:K.heading,level:a,children:ee,id:e},end:i}}return{node:{type:K.paragraph,children:ee},end:i}}function vn(e,t,n,r,i){var a=e.indexOf(`
`,t);if(a<0||a>=n)return Bn(e,t,n,r,i);for(var o=``,s=t,l=t;l<n;){var u=e.charCodeAt(l);if(u===f){var p=bn(e,l,n);if(p>l){for(var m=!1,h=l;h<p;h++)if(e.charCodeAt(h)===d){m=!0;break}m&&(o+=e.slice(s,l),o+=e.slice(l,p).replace(/\n/g,` `),s=p),l=p;continue}}if(u===T){var g=xn(e,l,n);if(g>l){l=g;continue}}if(u===d){var _=!1,v=0;if(l>t&&e.charCodeAt(l-1)===S)_=!0,v=1;else{for(var y=0,b=l-1;b>=t&&e.charCodeAt(b)===c;)y++,b--;y>=2&&(_=!0,v=y)}for(_?(o+=e.slice(s,l-v),o+=``):o+=e.slice(s,l+1),l++;l<n&&e.charCodeAt(l)===c;)l++;s=l;continue}l++}return s<n&&(o+=e.slice(s,n)),Bn(o,0,o.length,r,i)}function yn(e,t,n){if(e.charCodeAt(t)!==f)return null;let r=Ut(e,t,n,96),i=t+r;for(;i<n;){let a=e.indexOf("`",i);if(a<0||a>=n)return null;let o=Ut(e,a,n,96);if(o===r){let n=e.slice(t+r,a);return n=n.replace(/\n/g,` `),n.length>0&&n[0]===` `&&n[n.length-1]===` `&&n.trim().length>0&&(n=n.slice(1,-1)),{node:{type:K.codeInline,text:n},end:a+o}}i=a+o}return null}function bn(e,t,n){if(e.charCodeAt(t)!==f)return t;let r=Ut(e,t,n,96),i=t+r;for(;i<n;){let a=e.indexOf("`",i);if(a<0||a>=n)return t;let o=Ut(e,a,n,96);if(o===r)return a+o;i=a+o}return t}function xn(e,t,n){if(e.charCodeAt(t)!==T)return t;if(t+1<n&&e.charCodeAt(t+1)===B){let r=t+2;for(;r<n&&e.charCodeAt(r)!==g;)r++;return r<n?r+1:t}if(t+3<n&&e.charCodeAt(t+1)===O&&e.charCodeAt(t+2)===b&&e.charCodeAt(t+3)===b){let n=e.indexOf(`-->`,t+4);return n>=0?n+3:t}let r=t+1,i=r;for(;r<n;){let t=e.charCodeAt(r);if(t>=W&&t<=G||t>=pe&&t<=me||t>=H&&t<=U||t===b)r++;else break}if(r===i)return t;let a=e.slice(i,r).toLowerCase(),o=!1;for(;r<n;){let i=e.charCodeAt(r);if(i===g){r++;break}if(i===B&&r+1<n&&e.charCodeAt(r+1)===g){r+=2,o=!0;break}if(i===ie||i===V){var s=i;for(r++;r<n&&e.charCodeAt(r)!==s;)r++;r<n&&r++;continue}if(i===d)return t;r++}if(o||Ae(a))return r;let c=1;for(;r<n&&c>0;)if(e.charCodeAt(r)===T)if(r+1<n&&e.charCodeAt(r+1)===B){let t=r+2,i=t;for(;i<n&&(e.charCodeAt(i)>=W&&e.charCodeAt(i)<=G||e.charCodeAt(i)>=pe&&e.charCodeAt(i)<=me);)i++;if(e.slice(t,i).toLowerCase()===a){for(;i<n&&e.charCodeAt(i)!==g;)i++;if(i<n&&i++,c--,c===0)return i}r=i}else{let t=r+1,i=t;for(;i<n&&(e.charCodeAt(i)>=W&&e.charCodeAt(i)<=G||e.charCodeAt(i)>=pe&&e.charCodeAt(i)<=me);)i++;e.slice(t,i).toLowerCase()===a&&c++,r++}else r++;return r}function Sn(e,t,n,r,i){if(e.charCodeAt(t)!==p||t+1>=n||e.charCodeAt(t+1)!==p)return null;let a=t+2;for(;a+1<n;){let o=e.charCodeAt(a);if(o===f){let t=bn(e,a,n);if(t>a){a=t;continue}}if(o===p&&e.charCodeAt(a+1)===p){let n=e.slice(t+2,a),o=Bn(n,0,n.length,r,i);return{node:{type:K.textFormatted,tag:`del`,children:o},end:a+2}}o===S&&a+1<n&&a++,a++}return null}function Cn(e,t,n,r,i){if(e.charCodeAt(t)!==x||t+1>=n||e.charCodeAt(t+1)!==x)return null;let a=t+2;for(;a+1<n;){let o=e.charCodeAt(a);if(o===f){let t=bn(e,a,n);if(t>a){a=t;continue}}if(o===x&&e.charCodeAt(a+1)===x&&a>t+2){let n=e.slice(t+2,a),o=Bn(n,0,n.length,r,i);return{node:{type:K.textFormatted,tag:`mark`,children:o},end:a+2}}o===S&&a+1<n&&a++,a++}return null}var wn=/[\p{P}\p{S}]/u;function Tn(e,t,n){return e<he?!!(Rt(e)&Z):wn.test(t[n])}function En(e,t,n){return e<he?!!(Rt(e)&At):/\p{Zs}/u.test(t[n])}function Dn(e,t,n){var r=e.charCodeAt(t);if(r!==C&&r!==w)return null;var i=Ut(e,t,n,r);if(i===0)return null;var a=t>0?e.charCodeAt(t-1):32,o=t+i<n?e.charCodeAt(t+i):32,s=En(a,e,t-1),c=En(o,e,t+i),l=t>0?Tn(a,e,t-1):!1,u=t+i<n?Tn(o,e,t+i):!1,d=!c&&(!u||s||l),f=!s&&(!l||c||u),p,m;return r===C?(p=d,m=f):(p=d&&(!f||l),m=f&&(!d||u)),{len:i,canOpen:p,canClose:m}}function On(e,t,n,r){if(t.length!==0){for(var i=[],a=0;a<12;a++)i[a]=-1;for(var o=0;o<t.length;){var s=t[o];if(!s.active||!s.canClose){o++;continue}for(var c=(s.ch===C?0:1)*6+s.len%3*2+(s.canOpen?1:0),l=i[c]===void 0?-1:i[c],u=-1,d=o-1;d>l;d--){var f=t[d];if(!(!f.active||f.ch!==s.ch||!f.canOpen)&&!((s.canOpen||f.canClose)&&(f.len+s.len)%3==0&&f.len%3!=0)){u=d;break}}if(u<0){i[c]=o-1,!s.canOpen&&(s.active=!1),o++;continue}var p=t[u],m=p.len>=2&&s.len>=2,h=m?2:1;p.len-=h,s.len-=h;var g=e[p.idx],_=e[s.idx];g.text=g.text.slice(0,g.text.length-h),_.text=_.text.slice(h);var v=p.idx+1,y=s.idx,b=e.slice(v,y),x={type:K.textFormatted,tag:m?`strong`:`em`,children:b};e.splice(v,y-v,x);for(var S=y-v-1,w=0;w<t.length;w++)t[w].idx>p.idx&&(t[w].idx-=S);for(var T=u+1;T<o;T++)t[T].active=!1;if(p.len===0&&(p.active=!1,g.text===``)){e.splice(p.idx,1);for(var E=0;E<t.length;E++)t[E].idx>p.idx?t[E].idx--:t[E].idx===p.idx&&(t[E].idx=-1)}if(s.len===0){s.active=!1;var D=s.idx;if(_.text===``){e.splice(D,1);for(var O=0;O<t.length;O++)t[O].idx>D?t[O].idx--:t[O].idx===D&&(t[O].idx=-1)}}else continue;o++}for(var k=0,A=0;A<e.length;A++){var j=e[A];if(j.type===K.text){var M=j;if(M.text===``)continue;if(k>0&&e[k-1].type===K.text){e[k-1].text+=M.text;continue}}e[k++]=j}e.length=k}}function kn(e,t,n,r,i){let a=e.charCodeAt(t)===O,o=a?t+1:t;if(e.charCodeAt(o)!==m)return null;var s=e.indexOf(`]`,o+1);if(s<0||s>=n)return null;for(var l=o+1,u=1;l<n&&u>0;){var p=e.charCodeAt(l);if(p===S&&l+1<n){l+=2;continue}if(p===f){var h=bn(e,l,n);if(h>l){l=h;continue}}if(p===T){var _=An(e,l,n);if(_){l=_.end;continue}var v=xn(e,l,n);if(v>l){l=v;continue}}p===m?u++:p===D&&u--,l++}if(u!==0)return null;var y=l-1,b=e.slice(o+1,y),x=l<n?e.charCodeAt(l):0,C=!1;if(x===le){var w=!0;for(l++;l<n&&(e.charCodeAt(l)===c||e.charCodeAt(l)===d);)l++;var E=``,k=l;if(l<n&&e.charCodeAt(l)===T){for(l++,k=l;k<n&&e.charCodeAt(k)!==g;){if(e.charCodeAt(k)===S&&k+1<n){k+=2;continue}if(e.charCodeAt(k)===d){w=!1;break}k++}w&&(k>=n||e.charCodeAt(k)!==g)&&(w=!1),w&&(E=e.slice(l,k),k++)}else if(w){for(var A=0;k<n;){var j=e.charCodeAt(k);if(j===S&&k+1<n){k+=2;continue}if(j===le)A++;else if(j===ue){if(A===0)break;A--}else if(j===c||j===d)break;k++}E=e.slice(l,k)}if(w){for(l=k;l<n&&(e.charCodeAt(l)===c||e.charCodeAt(l)===d);)l++;var M;if(l<n){var N=e.charCodeAt(l);if(N===ie||N===V||N===le){var P=N===le?41:N;l++;for(var F=l;l<n&&e.charCodeAt(l)!==P;)e.charCodeAt(l)===S&&l+1<n&&l++,l++;l>=n?w=!1:(M=e.slice(F,l),l++)}}if(w){for(;l<n&&(e.charCodeAt(l)===c||e.charCodeAt(l)===d);)l++;(l>=n||e.charCodeAt(l)!==ue)&&(w=!1)}}if(w){l++,E=zt(E),M!==void 0&&(M=zt(M));var I=(i?.sanitizer||Se)(E,a?`img`:`a`,a?`src`:`href`)===null?null:E;if(a){var L=Fn(Bn(b,0,b.length,r,i));return{node:{type:K.image,target:I,alt:L,title:M},end:l}}else{var ee=r.inAnchor;r.inAnchor=!0;var R=ee?[{type:K.text,text:b}]:Bn(b,0,b.length,r,i);return r.inAnchor=ee,!r.inAnchor&&Pn(R)?null:{node:{type:K.link,target:I,title:M,children:R},end:l}}}else l=y+1,C=!0}var te=``,z=l;if(!C&&x===m){var ne=l+1;z=ne;for(var re=!1;z<n&&e.charCodeAt(z)!==D;){if(e.charCodeAt(z)===S&&z+1<n){z+=2;continue}if(e.charCodeAt(z)===m){re=!0;break}z++}if(re||z>=n)return null;var B=e.slice(ne,z);if(B.trim())te=Lt(B);else{if(It(b))return null;te=Lt(b)}z+=1}else{if(It(b))return null;te=Lt(b)}var ae=r.refs[te];if(!ae)return null;if(a)return{node:{type:K.image,target:ae.target,alt:Fn(Bn(b,0,b.length,r,i)),title:ae.title},end:z};var oe=r.inAnchor;r.inAnchor=!0;var R=oe?[{type:K.text,text:b}]:Bn(b,0,b.length,r,i);return r.inAnchor=oe,!r.inAnchor&&Pn(R)?null:{node:{type:K.link,target:ae.target,title:ae.title,children:R},end:z}}function An(e,t,n){if(e.charCodeAt(t)!==T)return null;for(var r=t+1;r<n;){var i=e.charCodeAt(r);if(i===g)break;if(i===c||i===d||i===u||i===T)return null;r++}if(r>=n||e.charCodeAt(r)!==g)return null;var a=e.slice(t+1,r);return a.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/)?{node:{type:K.link,target:a,children:[{type:K.text,text:a}]},end:r+1}:a.indexOf(`@`)!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)?{node:{type:K.link,target:`mailto:`+a,children:[{type:K.text,text:a}]},end:r+1}:null}function jn(e,t,n,r){if(e.charCodeAt(t)!==m||t+1>=n||e.charCodeAt(t+1)!==h)return null;let i=t+2;for(;i<n&&e.charCodeAt(i)!==D&&e.charCodeAt(i)!==d;)i++;if(i>=n||e.charCodeAt(i)!==D)return null;let a=e.slice(t+2,i);return a?{node:{type:K.footnoteReference,target:`#`+Ee(a),text:a},end:i+1}:null}function Mn(e,t,n,r){if(r.disableBareUrls)return null;var i=``,a=!1,o=e.charCodeAt(t);if(o===N||o===72?t+8<=n&&e.charCodeAt(t+1)===F&&e.charCodeAt(t+2)===F&&e.charCodeAt(t+3)===I&&(e.charCodeAt(t+4)===L&&e.charCodeAt(t+5)===A&&e.charCodeAt(t+6)===B&&e.charCodeAt(t+7)===B?i=`https://`:e.charCodeAt(t+4)===A&&e.charCodeAt(t+5)===B&&e.charCodeAt(t+6)===B&&(i=`http://`)):o===M||o===70?t+6<=n&&e.charCodeAt(t+1)===F&&e.charCodeAt(t+2)===I&&e.charCodeAt(t+3)===A&&e.charCodeAt(t+4)===B&&e.charCodeAt(t+5)===B&&(i=`ftp://`):(o===P||o===87)&&t+4<=n&&e.charCodeAt(t+1)===P&&e.charCodeAt(t+2)===P&&e.charCodeAt(t+3)===re&&(i=`www.`,a=!0),!i)return null;let s=t+i.length;for(;s<n;){let t=e.charCodeAt(s);if(t===c||t===d||t===l||t===u||t===T||t===g)break;s++}for(var f=0,p=0,m=t;m<s;m++){var h=e.charCodeAt(m);h===le?f++:h===ue&&p++}let _=s;for(;_>t+i.length;){let n=e.charCodeAt(_-1);if(n===re||n===te||n===A||n===O||n===ne||n===ue){if(n===ue){if(f>=p)break;p--}_--}else if(n===z){for(var v=_-2;v>t&&(e.charCodeAt(v)>=W&&e.charCodeAt(v)<=G||e.charCodeAt(v)>=pe&&e.charCodeAt(v)<=me||e.charCodeAt(v)>=H&&e.charCodeAt(v)<=U);)v--;v>=t&&e.charCodeAt(v)===k?_=v:_--}else break}if(_<=t+i.length)return null;var y=t+(a?4:i.length),b=e.indexOf(`/`,y);if((b<0||b>_)&&(b=_),a&&e.indexOf(`.`,y)===-1)return null;for(var x=-1,S=-1,C=b-1;C>=y;C--)if(e.charCodeAt(C)===re)if(x<0)x=C;else{S=C;break}for(var C=S>=0?S+1:y;C<b;C++)if(e.charCodeAt(C)===w)return null;var E=e.slice(t,_),D=a?`http://`+E:E;return{node:{type:K.link,target:D,children:[{type:K.text,text:E}]},end:_}}function Nn(e,t,n,r){if(r.disableBareUrls)return null;for(var i=t,a=i;i<n;){var o=e.charCodeAt(i);if(o>=W&&o<=G||o>=pe&&o<=me||o>=H&&o<=U||o===re||o===O||o===_||o===36||o===y||o===k||o===V||o===C||o===ae||o===B||o===x||o===ne||o===h||o===w||o===f||o===se||o===oe||o===ce||o===p||o===b)i++;else break}if(i===a||i>=n||e.charCodeAt(i)!==E)return null;i++;for(var s=i,c=-1;i<n;){var o=e.charCodeAt(i);if(o>=W&&o<=G||o>=pe&&o<=me||o>=H&&o<=U)i++;else if((o===b||o===w)&&i>s)i++;else if(o===re){if(i===s)break;var l=e.charCodeAt(i-1);if(l===b||l===w)break;if(i+1<n){var u=e.charCodeAt(i+1);if(u>=W&&u<=G||u>=pe&&u<=me||u>=H&&u<=U)c=i,i++;else break}else break}else break}if(c<0)return null;var d=e.charCodeAt(i-1);if(!(d>=W&&d<=G||d>=pe&&d<=me||d>=H&&d<=U)||i<=c+1)return null;for(var m=-1,g=c-1;g>=s;g--)if(e.charCodeAt(g)===re){m=g;break}for(var g=m>=0?m+1:s;g<i;g++)if(e.charCodeAt(g)===w)return null;var v=e.slice(t,i);return{node:{type:K.link,target:`mailto:`+v,children:[{type:K.text,text:v}]},end:i}}function Pn(e){for(var t=0;t<e.length;t++)if(e[t].type===K.link||`children`in e[t]&&Array.isArray(e[t].children)&&Pn(e[t].children))return!0;return!1}function Fn(e){for(var t=``,n=0;n<e.length;n++){var r=e[n];r.type===K.text?t+=r.text:r.type===K.breakLine?t+=` `:r.type===K.codeInline?t+=r.text:`children`in r&&Array.isArray(r.children)?t+=Fn(r.children):r.type===K.image?t+=r.alt||``:r.type===K.link&&(t+=Fn(r.children))}return t}function In(e){let t=e.includes(`&`)?Y(e):e;return{type:K.text,text:t}}function Ln(e,t,n,r,i){if(e.charCodeAt(t)!==T)return null;var a=t+1;if(a>=n)return null;var o=e.charCodeAt(a);if(o===O&&a+1<n&&e.charCodeAt(a+1)===b&&a+2<n&&e.charCodeAt(a+2)===b){var s=a+3;if(s<n&&e.charCodeAt(s)===g)return{node:{type:K.htmlComment,text:``,endsWithGreaterThan:!0},end:s+1};if(s+1<n&&e.charCodeAt(s)===b&&e.charCodeAt(s+1)===g)return{node:{type:K.htmlComment,text:`-`,endsWithGreaterThan:!0},end:s+2};var u=e.indexOf(`-->`,s);return u!==-1&&u<=n-3?{node:{type:K.htmlComment,text:e.slice(t+4,u)},end:u+3}:null}if(o===ne){var f=e.indexOf(`?>`,a+1);return f!==-1&&f<n?{node:{type:K.htmlSelfClosing,tag:`?`,attrs:{},a:e.slice(t,f+2)},end:f+2}:null}if(o===O&&a+1<n){var p=e.charCodeAt(a+1);if(p===m&&e.slice(a+1,a+8)===`[CDATA[`){var h=e.indexOf(`]]>`,a+8);return h!==-1&&h<n?{node:{type:K.htmlSelfClosing,tag:`![CDATA[`,attrs:{},a:e.slice(t,h+3)},end:h+3}:null}if(p>=W&&p<=G){var _=e.indexOf(`>`,a+2);return _!==-1&&_<n?{node:{type:K.htmlSelfClosing,tag:`!`+e.slice(a+1,_),attrs:{},a:e.slice(t,_+1)},end:_+1}:null}}if(o===B){var v=a+1;if(v>=n)return null;var y=e.charCodeAt(v);if(!(y>=W&&y<=G||y>=pe&&y<=me))return null;for(v++;v<n;){var x=e.charCodeAt(v);if(x>=W&&x<=G||x>=pe&&x<=me||x>=H&&x<=U||x===b)v++;else break}for(;v<n&&(e.charCodeAt(v)===c||e.charCodeAt(v)===l||e.charCodeAt(v)===d);)v++;if(v<n&&e.charCodeAt(v)===g){var S=e.slice(a+1,v).trim();return{node:{type:K.htmlSelfClosing,tag:S,attrs:{},a:e.slice(t,v+1),b:!0},end:v+1}}return null}if(!(o>=W&&o<=G||o>=pe&&o<=me))return null;var C=Dt(e,t);if(!C)return null;var w=C.tag,E=w.toLowerCase();if(C.selfClosing||Ae(w))return{node:{type:K.htmlSelfClosing,tag:w,attrs:on(C.attrs,w,i),a:e.slice(t,C.end)},end:C.end};var D=yt.has(E),k=un(e.slice(0,n),C.end,w);if(k===-1)return{node:{type:K.htmlSelfClosing,tag:w,attrs:on(C.attrs,w,i),a:e.slice(t,C.end)},end:C.end};var A=cn(e,`</`+E,k),j=e.slice(C.end,A),M=[];if(D)j.trim()&&(M=[{type:K.text,text:j}]);else{var N=j.trim();if(N){var{inAnchor:P,inline:F}=r;E===`a`&&(r.inAnchor=!0),N.indexOf(`

`)!==-1||/^#{1,6}\s/.test(N)?(r.inline=!1,M=Hn(N,r,i)):M=Bn(N,0,N.length,r,i),r.inAnchor=P,r.inline=F}}return{node:{type:K.htmlBlock,tag:w,attrs:on(C.attrs,w,i),e:C.rawAttrs,children:M,text:j,d:!1},end:k}}var Rn=200,zn=0;function Bn(e,t,n,r,i){if(zn++,zn>Rn)return zn--,[{type:K.text,text:e.slice(t,n)}];let a=r;if(i.streaming||i.optimizeForStreaming){let r=function(e,t){for(var n=1,r=t+1;r<e.length;r++){var i=e.charCodeAt(r);if(i===m)n++;else if(i===D&&(n--,n===0))return r}return-1},i=e.slice(t,n),a=i;for(var o=0,s=0,c=0,l=0,u=0,d=-1,g=-1,_=-1,v=-1,y=-1,b=0;b<i.length;b++){var E=i.charCodeAt(b);E===C?b+1<i.length&&i.charCodeAt(b+1)===C?(o++,d=b,b++):(s++,g=b):E===w?b+1<i.length&&i.charCodeAt(b+1)===w?(c++,_=b,b++):(l++,v=b):E===p&&b+1<i.length&&i.charCodeAt(b+1)===p&&(u++,y=b,b++)}var k=[];u%2==1&&y>=0&&k.push([y,2]),c%2==1&&_>=0&&k.push([_,2]),l%2==1&&v>=0&&k.push([v,1]),o%2==1&&d>=0&&k.push([d,2]),s%2==1&&g>=0&&k.push([g,1]),k.sort(function(e,t){return t[0]-e[0]});for(var A=0;A<k.length;A++){var j=k[A][0],F=k[A][1];i=i.slice(0,j)+i.slice(j+F)}let h=0,x=-1;for(let e=0;e<i.length;e++)i.charCodeAt(e)===f&&(h++,x=e);if(h%2==1&&x!==-1){let e=!1,t=-1,n=0;for(;n<i.length;)i.charCodeAt(n)===f&&(e?(e=!1,t=-1):(t=n,e=!0)),n++;e&&t!==-1&&(i=i.slice(0,t))}for(var I=!0;I;){I=!1;for(var L=-1,ee=-1,R=-1,te=!1,z=0;z<i.length;z++)if(i.charCodeAt(z)===m&&(z===0||i.charCodeAt(z-1)!==S)){var ne=z>0&&i.charCodeAt(z-1)===O,re=ne?z-1:z,B=r(i,z);if(B===-1)L=re,te=ne,ee=z+1,R=i.length;else{var V=B+1;if(V>=i.length)L=re,te=ne,ee=z+1,R=B;else if(i.charCodeAt(V)===le){var ie=i.indexOf(`)`,V+1);ie===-1?(L=re,te=ne,ee=z+1,R=B,z=i.length):z=ie}else if(i.charCodeAt(V)===m){var ae=i.indexOf(`]`,V+1);ae===-1?(L=re,te=ne,ee=z+1,R=B,z=i.length):z=ae}else z=B}}if(L>=0){var oe=te?``:i.slice(ee,R);i=i.slice(0,L)+oe,I=!0}}let T=i.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(T&&T.index!==void 0){for(var se=!1,ce=0,ue=0;ue<T.index;ue++)i.charCodeAt(ue)===f&&ce++;if(se=ce%2==1,!se){let e=T[1];sn(i,`</`+e,0)===-1&&(i=i.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,`$1`))}}i!==a&&(e=e.slice(0,t)+i,n=t+i.length)}let de=[];var ge=[];let _e=t;var ve=i.disableAutoLink||i.disableBareUrls||a.inAnchor?-1:e.indexOf(`@`,t);for(ve>=n&&(ve=-1);t<n;){let r=e.charCodeAt(t),o=null;if(r===f){if(o=yn(e,t,n),!o){var q=Ut(e,t,n,f);t+=q-1}}else if(r===C||r===w){var J=Dn(e,t,n);if(J){if(J.canOpen||J.canClose){t>_e&&de.push(In(e.slice(_e,t)));var ye=In(e.slice(t,t+J.len));ge.push({idx:de.length,ch:r,len:J.len,canOpen:J.canOpen,canClose:J.canClose,active:!0}),de.push(ye),t+=J.len,_e=t;continue}t+=J.len-1}}else r===p?o=Sn(e,t,n,a,i):r===x?o=Cn(e,t,n,a,i):r===m?(t+1<n&&e.charCodeAt(t+1)===h&&(o=jn(e,t,n,a)),o||=kn(e,t,n,a,i)):r===O&&t+1<n&&e.charCodeAt(t+1)===m?o=kn(e,t,n,a,i):r===T?(o=An(e,t,n),!o&&!i.disableParsingRawHTML&&!i.ignoreHTMLBlocks&&(o=Ln(e,t,n,a,i))):(r===N||r===P||r===M)&&!a.inAnchor&&!i.disableAutoLink&&(t===0||e.charCodeAt(t-1)!==T)&&(o=Mn(e,t,n,i));if(!o&&ve>=0&&ve-t<=64&&!a.inAnchor&&!i.disableAutoLink&&!i.disableBareUrls&&(r>=W&&r<=G||r>=pe&&r<=me||r>=H&&r<=U)&&(o=Nn(e,t,n,i),!o&&t>=ve&&(ve=e.indexOf(`@`,t+1),ve>=n&&(ve=-1))),r===fe){t>_e&&de.push(In(e.slice(_e,t))),de.push({type:K.breakLine}),t++,_e=t;continue}if(o)t>_e&&de.push(In(e.slice(_e,t))),de.push(o.node),t=o.end,_e=t;else{if(r===S&&t+1<n&&Rt(e.charCodeAt(t+1))&Z){t>_e&&de.push(In(e.slice(_e,t))),de.push(In(e[t+1])),t+=2,_e=t;continue}if(t++,ve<0||ve-t>64)for(;t<n;){var be=e.charCodeAt(t);if(be<he&&!St[be])t++;else break}}}if(n>_e){let t=e.slice(_e,n);(i.streaming||i.optimizeForStreaming)&&(t=t.replace(/\*\*([^*]+)$/,`$1`),t.match(/\*[^*]+$/)&&(t=t.replace(/\*([^*]+)$/,`$1`)),t=t.replace(/__([^_]+)$/,`$1`),t.match(/_[^_]+$/)&&(t=t.replace(/_([^_]+)$/,`$1`)),t=t.replace(/~~([^~]+)$/,`$1`),t=t.replace(/\[([^\]]+)$/,`$1`),t=t.replace(/\[([^\]]+)\]\([^)]*$/,`$1`)),t&&de.push(In(t))}return ge.length>0&&On(de,ge,r,i),zn--,de}var Vn=500;function Hn(e,t,n){var r=t.g||0;if(r>Vn)return[{type:K.text,text:e}];if(t.g=r+1,n.streaming||n.optimizeForStreaming){var i=e.length;i>0&&e.charCodeAt(i-1)===d&&i--;for(var a=i;a>0&&e.charCodeAt(a-1)!==d;)a--;if(a>0&&e.charCodeAt(a)===oe){for(var o=!0,s=a;s<i;s++){var u=e.charCodeAt(s);if(u!==c&&u!==l&&u!==b&&u!==A&&u!==oe){o=!1;break}}if(o){for(var h=a-1;h>0&&e.charCodeAt(h-1)!==d;)h--;e.charCodeAt(h)===oe&&(e=e.slice(0,h).trimEnd())}}var v=e.trim(),y=v.lastIndexOf(`
`),x=y===-1?v:v.slice(y+1);if(x.length>0&&x.charCodeAt(0)===oe){for(var S=!1,E=!1,D=1;D<x.length;D++){var O=x.charCodeAt(D);O===oe&&(S=!0),O===b&&(E=!0)}S&&E&&(e=y===-1?``:e.slice(0,e.lastIndexOf(x)).trimEnd())}for(var k=-1,j=-1,M=-1,N=e.length-1;N>=0;N--)if(e.charCodeAt(N)===T){var P=N+1<e.length?e.charCodeAt(N+1):0;if(P>=W&&P<=G||P>=pe&&P<=me){for(var F=N+2;F<e.length;){var I=e.charCodeAt(F);if(I>=W&&I<=G||I>=pe&&I<=me||I>=H&&I<=U)F++;else break}for(var L=F;L<e.length&&e.charCodeAt(L)!==g;)L++;if(L<e.length){for(var ee=!1,R=L+1;R<e.length;R++)if(e.charCodeAt(R)===T){ee=!0;break}ee||(k=N,j=F,M=L+1)}}break}if(k>=0){for(var te=0,z=0;z<k;z++)e.charCodeAt(z)===f&&te++;if(te%2==0){var ne=e.slice(k+1,j);sn(e,`</`+ne,0)===-1&&(e=e.slice(0,k)+e.slice(M))}}var B=e.length;if(B>0){for(var V=e.lastIndexOf(`
`),ie=V===-1?0:V+1,se=B,ce=ie,le=0;ce<se&&e.charCodeAt(ce)===c&&le<3;)ce++,le++;if(ce<se){var fe=e.charCodeAt(ce),he=!1;if(fe===C||fe===b||fe===ae){var ge=ce+1;if(ge>=se||e.charCodeAt(ge)===c||e.charCodeAt(ge)===l){for(var ve=ge;ve<se&&(e.charCodeAt(ve)===c||e.charCodeAt(ve)===l);)ve++;ve>=se&&(he=!0)}}else if(fe>=H&&fe<=U){for(var q=ce;q<se&&e.charCodeAt(q)>=H&&e.charCodeAt(q)<=U;)q++;if(q<se&&(e.charCodeAt(q)===re||e.charCodeAt(q)===ue)){var J=q+1;if(J>=se||e.charCodeAt(J)===c||e.charCodeAt(J)===l){for(var ye=J;ye<se&&(e.charCodeAt(ye)===c||e.charCodeAt(ye)===l);)ye++;ye>=se&&(he=!0)}}}he&&(e=e.slice(0,ie).trimEnd())}}}if(t.inline)return Bn(e,0,e.length,t,n);let be=[],Y=0,xe=e.length;if(Y===0&&e.startsWith(`---`)){let t=_e(e);if(t&&t.hasValidYaml){if(n.preserveFrontmatter!==!1){let n=e.slice(0,t.endPos).trimEnd();be.push({type:K.frontmatter,text:n})}Y=t.endPos}}for(;Y<xe;){for(var Se=e.indexOf(`
`,Y),Ce=Se<0?xe:Se;Y<xe&&qt(e,Y,Ce);)Y=Ce<xe?Ce+1:Ce,Y<xe&&(Se=e.indexOf(`
`,Y),Ce=Se<0?xe:Se);if(Y>=xe)break;e.charCodeAt(Y),Kt(e,Y,Ce);let r=null;if(e.charCodeAt(Y)!==de&&Wt>=4&&!t.inHTML)r=Zt(e,Y);else if(e.charCodeAt(Y)!==de){let i=Y+Gt,a=e.charCodeAt(i);a===_?r=Jt(e,Y,t,n):a===g?r=Qt(e,Y,t,n):a===f||a===p?r=Xt(e,Y,t):a===b||a===C||a===w?(r=Yt(e,Y),!r&&(r=rn(e,Y,t,n))):a===ae||a>=H&&a<=U?r=rn(e,Y,t,n):a===T?r=dn(e,Y,t,n):a===oe?r=mn(e,Y,t,n):a===m&&(r=hn(e,Y,t))}if(!r){for(var we=!1,X=Y;X<Ce;X++)if(e.charCodeAt(X)===oe){we=!0;break}we&&(r=mn(e,Y,t,n))}if(r||=_n(e,Y,t,n),r)r.node.type!==K.refCollection&&be.push(r.node),Y=r.end;else{var Te=e.indexOf(`
`,Y);Y=Te<0?xe:Te+1}}return t.g=r,be}function Un(e,t,n,r){var i=Dt(e,t);return i?{tagName:i.tag,tagLower:i.tag.toLowerCase(),attrs:i.rawAttrs,whitespaceBeforeAttrs:i.whitespaceBeforeAttrs,isSelfClosing:i.selfClosing,hasSpaceBeforeSlash:i.hasSpaceBeforeSlash,isClosing:i.isClosing,hasNewline:i.whitespaceBeforeAttrs.includes(`
`)||i.rawAttrs.includes(`
`),endPos:i.end}:null}function Wn(e,t,n){zn=0,e=nt(e),!t.refs&&(t.refs={}),Ot(e,t.refs,n);let r=Hn(e,t,n);return t.refs&&Object.keys(t.refs).length>0?[{type:K.refCollection,refs:t.refs},...r]:r}var Gn=/^\n+/,Kn=typeof a.createContext<`u`?a.createContext(void 0):void 0;function qn(e,t,n,r,i,o,s,c){switch(e.type){case K.blockQuote:{let i={key:n.key};return e.alert&&(i.className=`markdown-alert-`+o(e.alert.toLowerCase(),Ee),e.children.unshift({attrs:{},children:[{type:K.text,text:e.alert}],d:!0,type:K.htmlBlock,tag:`header`})),r(`blockquote`,i,t(e.children,n))}case K.breakLine:return r(`br`,{key:n.key});case K.breakThematic:return r(`hr`,{key:n.key});case K.frontmatter:return c.preserveFrontmatter?r(`pre`,{key:n.key},e.text):null;case K.codeBlock:let h=e.lang?Y(e.lang):``;return r(`pre`,{key:n.key},r(`code`,{...ye(e.attrs||{}),className:h?`language-${h} lang-${h}`:``},e.text));case K.codeInline:return r(`code`,{key:n.key},e.text);case K.footnoteReference:return r(`a`,{key:n.key,href:i(e.target,`a`,`href`)||void 0},r(`sup`,{key:n.key},e.text));case K.gfmTask:return r(`input`,{checked:e.completed,key:n.key,readOnly:!0,type:`checkbox`});case K.heading:return r(`h${e.level}`,{id:e.id,key:n.key},t(e.children,n));case K.htmlBlock:{let h=e;if(c.tagfilter&&pt(h.tag)){var l=``;if(h.attrs)for(var u in h.attrs){var d=h.attrs[u];d===!0?l+=` `+u:d!=null&&d!==!1&&(l+=` `+u+`="`+String(d)+`"`)}return r(`span`,{key:n.key},`<`+h.tag+l+`>`)}if(h.a&&h.d){let l=function(e){if((e.type===K.htmlSelfClosing||e.type===K.htmlBlock)&&e.b)return[];if(e.type===K.paragraph){let t=e.children;return t?t.flatMap(l):[]}return e.type===K.text?e.text?.trim()?[e]:[]:e.type===K.htmlBlock&&e.children?[{...e,children:e.children?.flatMap(l)}]:[e]},u=function(e){for(var t=0;t<e.length;t++)e[t].type===K.htmlBlock&&(e[t].d=!1),`children`in e[t]&&e[t].children&&u(e[t].children)},d=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.type===K.paragraph&&r.children)for(var i=r.children,a=0;a<i.length;a++){var o=i[a];if(o.type===K.htmlSelfClosing&&o.b&&o.tag.toLowerCase()===t){var s=e.slice(0,n);a>0&&s.push({type:K.paragraph,children:i.slice(0,a)});var c=[];if(a+1<i.length){var l=i.slice(a+1);l=l.filter(function(e){return!(e.type===K.htmlSelfClosing&&e.b)}),l.length>0&&(c=l)}return c=c.concat(e.slice(n+1)),{found:!0,beforeClose:s,afterClose:c}}}if((r.type===K.htmlSelfClosing||r.type===K.htmlBlock)&&r.b&&r.tag.toLowerCase()===t)return{found:!0,beforeClose:e.slice(0,n),afterClose:e.slice(n+1)}}return{found:!1,beforeClose:e,afterClose:[]}},g=h.tag.toLowerCase(),_=wt(g),v=h.children&&h.children.length>0,y=/<[a-z][^>]{0,100}>/i.test(h.a);if(_&&!y){let t=h.a.replace(RegExp(`\\s*</`+g+`>\\s*$`,`i`),``);return c.tagfilter&&(t=ht(t)),r(e.tag,{key:n.key,...ye(e.attrs||{})},t)}let b=RegExp(`^<${h.tag}(\\s|>)`,`i`).test(h.a);if(v&&!b&&c.tagfilter&&mt(h.a))return r(e.tag,{key:n.key,...ye(e.attrs||{})},t(h.children,n));if(Tt(h.a)){let t=c.tagfilter?ht(h.a):h.a;return r(e.tag,{key:n.key,...ye(e.attrs||{}),dangerouslySetInnerHTML:{__html:t}})}let x={slugify:e=>o(e,Ee),sanitizer:i,tagfilter:!0},S=h.a.replace(/>\s+</g,`><`).replace(/\n+/g,` `).trim();if(RegExp(`^<${h.tag}(\\s[^>]*)?>(\\s*</${h.tag}>)?$`,`i`).test(S))return h.children&&h.children.length>0?r(e.tag,{key:n.key,...ye(e.attrs||{})},t(h.children,n)):r(e.tag,{key:n.key,...ye(e.attrs||{})});let C=Wn(S,{inline:!1,refs:s,inHTML:!1},x);u(C);let w=h.tag.toLowerCase(),T=`</`+w+`>`,E=RegExp(`^<${h.tag}(\\s|>)`,`i`).test(S),D=S.toLowerCase().trimEnd().endsWith(T),O=E&&D;if(O&&v)return r(e.tag,{key:n.key,...ye(e.attrs||{})},t(h.children,n));if(O)return t(C.flatMap(l),n);var f=d(C,w);if(f.found&&f.afterClose.length>0){var p=f.beforeClose.flatMap(l),m=f.afterClose.flatMap(l);return a.createElement(a.Fragment,null,r(e.tag,{key:n.key,...ye(e.attrs||{})},t(p,n)),t(m,n))}return r(e.tag,{key:n.key,...ye(e.attrs||{})},t(C.flatMap(l),n))}return r(e.tag,{key:n.key,...ye(e.attrs||{})},e.children?t(e.children,n):``)}case K.htmlSelfClosing:{let t=e;if(c.tagfilter&&pt(t.tag)){var l=``;if(t.attrs)for(var u in t.attrs){var d=t.attrs[u];d===!0?l+=` `+u:d!=null&&d!==!1&&(l+=` `+u+`="`+String(d)+`"`)}return r(`span`,{key:n.key},`<`+t.tag+l+` />`)}return r(e.tag,{key:n.key,...ye(e.attrs||{})})}case K.image:{let t=e.target==null?null:i(e.target,`img`,`src`);return r(`img`,{key:n.key,alt:e.alt&&e.alt.length>0?e.alt:void 0,title:e.title||void 0,src:t||void 0})}case K.link:{let i={key:n.key};return e.target!=null&&(i.href=ot(e.target)),e.title&&(i.title=e.title),r(`a`,i,t(e.children,n))}case K.table:{let i=e;return r(`table`,{key:n.key},r(`thead`,null,r(`tr`,null,i.header.map(function(e,a){return r(`th`,{key:a,style:i.align[a]==null?{}:{textAlign:i.align[a]}},t(e,n))}))),r(`tbody`,null,i.cells.map(function(e,a){return r(`tr`,{key:a},e.map(function(e,a){return r(`td`,{key:a,style:i.align[a]==null?{}:{textAlign:i.align[a]}},t(e,n))}))})))}case K.text:return e.text;case K.textFormatted:return r(e.tag,{key:n.key},t(e.children,n));case K.orderedList:case K.unorderedList:return r(e.type===K.orderedList?`ol`:`ul`,{key:n.key,start:e.type===K.orderedList?e.start:void 0},e.items.map(function(e,i){return r(`li`,{key:i},t(e,n))}));case K.paragraph:return r(`p`,{key:n.key},t(e.children,n));case K.ref:return null;default:return null}}var Jn=(e,t,n,r,i,a)=>{let o=(o,s,c)=>{let l=()=>qn(o,s,c,t,n,r,i,a);return e?e(l,o,s,c):l()},s=e=>e.map(e=>`text`in e?e.text:``),c=(e,t={})=>{let n=(t.renderDepth||0)+1;if(n>2500)return s(e);t.renderDepth=n;let r=t.key,i=[],a=!1;for(let n=0;n<e.length;n++){t.key=n;let r=o(e[n],c,t),s=typeof r==`string`;if(s&&a)i[i.length-1]+=r;else if(r!==null)if(Array.isArray(r))for(let e=0;e<r.length;e++)i.push(r[e]);else i.push(r);a=s}return t.key=r,t.renderDepth=n-1,i};return c},Yn=(e,t)=>{let n=at(t,e,void 0);return n?typeof n==`function`||typeof n==`object`&&`render`in n?n:at(t,`${e}.component`,e):e};function Xn(e,t){let n={...t||{}};n.overrides=n.overrides||{};let r=n.slugify||Ee,i=n.sanitizer||Se,o=n.createElement||a.createElement,s=e=>Zn(e,{...n,wrapper:null});function c(e,t,...r){let i=at(n.overrides,`${e}.props`,{}),a=ye(t||{});if(s){for(let[e,t]of Object.entries(a))if(typeof t==`string`&&t.length>0&&t[0]===`<`&&(gt.test(t)||_t.test(t)||Un(t,0))){let n=s(t.trim());a[e]=e===`innerHTML`&&Array.isArray(n)?n[0]:n}}return o(Yn(e,n.overrides),{...a,...i,className:st(a?.className,i.className)||void 0},...r)}let l={...n,slugify:e=>r(e,Ee),sanitizer:i,tagfilter:n.tagfilter!==!1},u=e[0]&&e[0].type===K.refCollection?e[0].refs:{},d=Jn(n.renderRule,c,i,r,u,n),f=d(e,{inline:n.forceInline,refs:u}),p=[];for(let e in u)e.charCodeAt(0)===h&&p.push({identifier:e,footnote:u[e].target});if(p.length&&f.push(c(`footer`,{key:`footer`},p.map(function(e){let t=e.identifier.charCodeAt(0)===h?e.identifier.slice(1):e.identifier,n=Wn(e.footnote,{inline:!0,refs:u},l);return c(`div`,{id:r(t,Ee),key:e.identifier},t+`: `,d(n,{inline:!0,refs:u}))}))),n.wrapper===null)return f;let m=n.wrapper||(n.forceInline?`span`:`div`),g;if(f.length>1||n.forceWrapper)g=f;else return f.length===1?f[0]:null;return o(m,{key:`outer`,...n.wrapperProps},g)}function Zn(e=``,t={}){let n={...t||{}};n.overrides=n.overrides||{};let r=n.slugify||Ee,i=n.sanitizer||Se;function a(e){let t=n.forceInline||!n.forceBlock&&!be.test(e),a={...n,slugify:e=>r(e,Ee),sanitizer:i,tagfilter:n.tagfilter!==!1};t||Ot(e,o,a);let s=e;if(!t){let e=s.length;for(;e>0&&(s[e-1]===`
`||s[e-1]===`\r`);)e--;s=s.slice(0,e),s=`${s.replace(Gn,``)}

`}if(n.optimizeForStreaming){let e=s.lastIndexOf(`<`);e!==-1&&s.slice(e).indexOf(`>`)===-1&&(s=s.slice(0,e))}return Xn(Wn(t?e:s,{inline:t,refs:o},a),{...a,forceInline:t})}let o={};return a(e)}var Qn=({children:e,options:t,...n})=>{if(!(typeof a.useContext<`u`)){let r={...t,overrides:{...t?.overrides},wrapperProps:{...t?.wrapperProps,...n}};return Zn(e??``,r)}let r=a.useContext(Kn),i=a.useMemo(()=>({...r,...t,overrides:{...r?.overrides,...t?.overrides},wrapperProps:{...r?.wrapperProps,...t?.wrapperProps,...n}}),[r,t,n]),o=e??``;return a.useMemo(()=>Zn(o,i),[o,i])};export{Qn as t};