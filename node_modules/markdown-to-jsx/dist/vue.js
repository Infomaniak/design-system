var jZ=Object.defineProperty,BZ=($,J)=>{for(var Z in J)jZ($,Z,{get:J[Z],enumerable:!0,configurable:!0,set:Q=>J[Z]=()=>Q})};import{h as e$,provide as AJ,inject as vJ,computed as u6}from"vue";var b=32,R=9,V9=13,g=10,e=96,_0=126,U0=91,i0=94,u=62,X9=35,K6=36,o9=37,p=45,p0=61,A0=92,O0=42,H0=95,G0=60,r9=64,d0=93,E0=33,O$=38,g0=58,f$=70,I9=102,i9=104,b9=119,H$=116,T$=112,G6=115,q6=160,F6=12,h$=44,D$=59,C9=63,a0=46,j0=47,O9=39,F9=34,H9=43,I0=124,D9=123,X$=125,n0=40,s0=41,a9=30,m$=31,n=48,s=57,c=65,a=90,z0=97,D0=122,c0=128,Y9=32,MZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},_=MZ,i$={};BZ(i$,{startsWith:()=>p$,slugify:()=>m0,skipWhitespace:()=>CZ,shouldFilterTag:()=>v$,sanitizer:()=>w9,parseFrontmatterBounds:()=>l$,normalizeInput:()=>A$,isVoidElement:()=>n9,isUnicodeWhitespace:()=>TZ,isUnicodePunctuation:()=>hZ,isSpaceOrTabCode:()=>kZ,isDigitCode:()=>gZ,isAlphaCode:()=>EZ,isAlnumCode:()=>O6,isASCIIWhitespace:()=>SZ,isASCIIPunctuation:()=>LZ,inlineCharTypeTable:()=>yZ,htmlAttrsToJSXProps:()=>NZ,hasKeys:()=>uZ,getTag:()=>dZ,getOverrideProps:()=>cZ,get:()=>p9,findLineEnd:()=>mZ,extractPlainText:()=>D6,endsWith:()=>IZ,encodeUrlTarget:()=>r$,decodeEntityReferences:()=>K$,cx:()=>pZ,containsTagfilterTag:()=>oZ,charClassTable:()=>W9,applyTagFilterToText:()=>_$,VOID_ELEMENTS:()=>d$,SHOULD_RENDER_AS_BLOCK_R:()=>o$,SANITIZE_R:()=>u$,NAMED_CODES_TO_UNICODE:()=>_Z,HTML_TO_JSX_MAP:()=>z6,HTML_CHAR_CODE_R:()=>U6,CC_WHITESPACE:()=>P9,CC_SPACE_TAB:()=>j$,CC_PUNCTUATION:()=>R9,CC_NEWLINE:()=>c$,CC_DIGIT:()=>M$,CC_ALPHA_UPPER:()=>H6,CC_ALPHA:()=>Y$,ATTRIBUTES_TO_SANITIZE:()=>bZ});import{NAMED_CODES_TO_UNICODE as AZ,decodeEntity as vZ}from"#entities";function l$($){if(!p$($,"---"))return null;let J=3;for(;J<$.length&&($[J]===" "||$[J]==="	");)J++;if(J<$.length&&$[J]==="\r"&&J++,J>=$.length||$[J]!==`
`)return null;J++;let Z=!1;for(;J<$.length;){let Q=J;for(;J<$.length&&$[J]!==`
`&&$[J]!=="\r";)J++;if(J>=$.length)break;let V=J;if($[J]==="\r"&&J++,J<$.length&&$[J]===`
`&&J++,p$($,"---",Q))return{endPos:J,hasValidYaml:Z};let X=$.indexOf(":",Q);X!==-1&&X<V&&(Z=!0)}return null}var _Z=AZ,U6=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,z6={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function NZ($){var J={};for(var Z in $){var Q=Z.toLowerCase(),V=z6[Q];if(V)J[V]=$[Z];else{var X=Z.indexOf(":");X!==-1?J[Z.slice(0,X)+Z[X+1].toUpperCase()+Z.slice(X+2)]=$[Z]:J[Z]=$[Z]}}return J}var o$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function K$($){return $.indexOf("&")===-1?$:$.replace(U6,(J,Z)=>{var Q=vZ(Z);if(Q)return Q;if(Z[0]==="#"){var V=Z[1]==="x"||Z[1]==="X"?parseInt(Z.slice(2),16):parseInt(Z.slice(1),10);return V===0||V>=55296&&V<=57343||V>1114111?"\uFFFD":V<=65535?String.fromCharCode(V):String.fromCharCode(55296+(V-65536>>10),56320+(V-65536&1023))}return J})}var u$=/(javascript|vbscript|data(?!:image)):/i;function w9($){if(u$.test($))return null;if($.indexOf("%")===-1)return $;try{let J=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(u$.test(J))return null}catch{return null}return $}var h0={},l0,P0;for(l0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],P0=0;P0<l0.length;P0++)h0[l0[P0]]="a";for(h0[231]=h0[199]="c",h0[240]=h0[208]="d",l0=[200,201,202,203,233,232,234,235],P0=0;P0<l0.length;P0++)h0[l0[P0]]="e";for(l0=[207,239,206,238,205,237,204,236],P0=0;P0<l0.length;P0++)h0[l0[P0]]="i";for(h0[209]=h0[241]="n",l0=[248,216,339,338,213,245,212,244,211,243,210,242],P0=0;P0<l0.length;P0++)h0[l0[P0]]="o";for(l0=[220,252,219,251,218,250,217,249],P0=0;P0<l0.length;P0++)h0[l0[P0]]="u";h0[376]=h0[255]=h0[221]=h0[253]="y";function O6($){return $<c0&&(W9[$]&(Y$|M$))!==0}function m0($){for(var J=[],Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(O6(Q))Q>=c&&Q<=a?J.push(String.fromCharCode(Q+Y9)):J.push($[Z]);else if(Q===b||Q===p)J.push("-");else{var V=h0[Q];V&&J.push(V)}}return J.join("")}function p$($,J,Z){return $.startsWith(J,Z)}function IZ($,J,Z){return $.startsWith(J,(Z===void 0?$.length:Z)-J.length)}var d$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function n9($){let J=$.toLowerCase();if(d$.has(J))return!0;let Z=J.indexOf(":");return Z!==-1?(J=J.slice(Z+1),d$.has(J)):!1}var bZ=["src","href","data","formAction","srcDoc","action"],P9=1,R9=2,Y$=4,M$=8,c$=16,j$=32,H6=64,W6=1,PZ=2,RZ=3,wZ=4,W9=(function(){let $=new Uint8Array(128),J;for($[R]=P9|j$,$[g]=P9|c$,$[F6]=P9,$[V9]=P9|c$,$[b]=P9|j$,J=E0;J<=j0;J++)$[J]=R9;for(J=g0;J<=r9;J++)$[J]=R9;for(J=U0;J<=e;J++)$[J]=R9;for(J=D9;J<=_0;J++)$[J]=R9;for(J=n;J<=s;J++)$[J]=M$;for(J=c;J<=a;J++)$[J]=Y$|H6;for(J=z0;J<=D0;J++)$[J]=Y$;return $})(),yZ=(function(){let $=new Uint8Array(128);return $[A0]=PZ,$[U0]=wZ,$[O0]=$[H0]=$[_0]=$[p0]=RZ,$[e]=$[G0]=$[r9]=$[d0]=$[g]=$[b]=$[E0]=W6,$[I9]=$[i9]=$[b9]=W6,$})();function LZ($){return $<c0&&(W9[$]&R9)!==0}function SZ($){return $<c0&&(W9[$]&P9)!==0}function kZ($){return $<c0&&(W9[$]&j$)!==0}function EZ($){return $<c0&&(W9[$]&Y$)!==0}function gZ($){return $<c0&&(W9[$]&M$)!==0}var xZ=/[\p{P}\p{S}]/u,fZ=/\p{Zs}/u;function TZ($){if(!$)return!0;let J=$.charCodeAt(0);return J<c0?(W9[J]&P9)!==0:fZ.test($)}function hZ($){if(typeof $=="number")return $<c0&&(W9[$]&R9)!==0;if(!$)return!1;let J=$.charCodeAt(0);return J<c0?(W9[J]&R9)!==0:xZ.test($)}function mZ($,J){let Z=$.indexOf(`
`,J);return Z===-1?$.length:Z>0&&$.charCodeAt(Z-1)===V9?Z-1:Z}var u9=[];function A$($){var J=$.indexOf("\r"),Z=$.indexOf("\0");if(J===-1&&Z===-1)return $;var Q=$.length;u9.length=0;var V=0,X=0;for(J===-1?X=Z:Z===-1?X=J:X=J<Z?J:Z;X<Q;X++){var Y=$.charCodeAt(X);Y===V9?(V<X&&u9.push($.slice(V,X)),X+1<Q&&$.charCodeAt(X+1)===g&&X++,u9.push(`
`),V=X+1):Y===0&&(V<X&&u9.push($.slice(V,X)),u9.push("\uFFFD"),V=X+1)}return V<Q&&u9.push($.slice(V)),u9.join("")}function CZ($,J,Z){let Q=Z??$.length;for(;J<Q&&($[J]===" "||$[J]==="	");)J++;return J}function uZ($){if(!$)return!1;for(var J in $)return!0;return!1}function p9($,J,Z){for(var Q=$,V=J.split("."),X=0;X<V.length&&(Q=Q?.[V[X]],Q!==void 0);)X++;return Q||Z}function r$($){for(var J=!1,Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q<=b||Q===F9||Q===o9||Q===G0||Q===u||Q===U0||Q===A0||Q===d0||Q===i0||Q===e||Q>=123){J=!0;break}}if(!J)return $;for(var V="",Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q===o9&&Z+2<$.length){var X=$.charCodeAt(Z+1),Y=$.charCodeAt(Z+2);if((X>=n&&X<=s||X>=c&&X<=f$||X>=z0&&X<=I9)&&(Y>=n&&Y<=s||Y>=c&&Y<=f$||Y>=z0&&Y<=I9)){V+=$[Z]+$[Z+1]+$[Z+2],Z+=2;continue}}V+=encodeURI($[Z])}return V}function pZ(...$){return $.filter(Boolean).join(" ")}function dZ($,J){if(!J)return $;let Z=p9(J,$,void 0);return typeof Z=="string"?Z:typeof Z=="object"&&Z.component?Z.component:$}function cZ($,J){if(!J)return{};let Z=p9(J,$,void 0);return typeof Z=="object"&&Z.props?Z.props:{}}function D6($,J){for(var Z="",Q=0,V=$.length;Q<V;Q++){var X=$[Q],Y=X.type;if(Y===J.text||Y===J.codeInline){var K=X.text;K&&(Z+=K)}else Y===J.textFormatted||Y===J.link?X.children&&(Z+=D6(X.children,J)):Y===J.image&&X.alt&&(Z+=X.alt)}return Z}var lZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),B$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function v$($){return lZ.has($.toLowerCase())}function oZ($){return B$.lastIndex=0,B$.test($)}function _$($){return B$.lastIndex=0,$.replace(B$,function(J,Z,Q,V){return"&lt;"+Z+Q+V})}var P6=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,R6=/^<[A-Z]/,a$=["script","pre","style","textarea"],q$=new Set(a$),rZ=/<(?:pre|script|style|textarea)\b/i,iZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),w6=new Uint8Array(128);(function(){for(var $=[e,O0,H0,_0,p0,U0,E0,G0,A0,m$,i9,b9,I9],J=0;J<$.length;J++)w6[$[J]]=1})();var j6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function y6($){return q$.has($)}function gJ($){return rZ.test($)}function L6($,J,Z){for(var Q=J,V=Z;Q<V&&($.charCodeAt(Q)===b||$.charCodeAt(Q)===R);)Q++;if(Q>=V)return!1;$.charCodeAt(Q)===I0&&Q++;for(var X=0;Q<V;){for(;Q<V&&($.charCodeAt(Q)===b||$.charCodeAt(Q)===R);)Q++;if(Q>=V)break;if($.charCodeAt(Q)===I0&&X>0){for(var Y=Q+1;Y<V&&($.charCodeAt(Y)===b||$.charCodeAt(Y)===R);)Y++;if(Y>=V)return!0}if($.charCodeAt(Q)===g0&&Q++,Q>=V||$.charCodeAt(Q)!==p)return!1;for(;Q<V&&$.charCodeAt(Q)===p;)Q++;for(Q<V&&$.charCodeAt(Q)===g0&&Q++,X++;Q<V&&($.charCodeAt(Q)===b||$.charCodeAt(Q)===R);)Q++;if(Q<V)if($.charCodeAt(Q)===I0)Q++;else return!1}return X>0}function j9($,J){if($.charCodeAt(J)!==G0)return null;let Z=J+1,Q=$.length,V=!1;$.charCodeAt(Z)===j0&&(Z++,V=!0);let X=Z,Y=$.charCodeAt(Z);if(!(Y>=z0&&Y<=D0||Y>=c&&Y<=a))return null;for(;Z<Q&&($.charCodeAt(Z)>=z0&&$.charCodeAt(Z)<=D0||$.charCodeAt(Z)>=c&&$.charCodeAt(Z)<=a||$.charCodeAt(Z)>=n&&$.charCodeAt(Z)<=s||$.charCodeAt(Z)===p);)Z++;let K=$.slice(X,Z);if(!K)return null;let G=Z;for(;Z<Q&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R||$.charCodeAt(Z)===g);)Z++;let q=$.slice(G,Z);if(Z===G&&Z<Q){var F=$.charCodeAt(Z);if(F!==u&&F!==j0)return null}let W=Z,H={},z=!1;for(;Z<Q;){let S=$.charCodeAt(Z);if(S===u){let L=$.slice(W,Z);return{tag:K,attrs:H,selfClosing:!1,end:Z+1,rawAttrs:L,whitespaceBeforeAttrs:q,isClosing:V,hasSpaceBeforeSlash:z}}if(S===b||S===R||S===g){Z++;continue}if(S===j0&&Z+1<Q&&$.charCodeAt(Z+1)===u){let L=$.slice(W,Z);return z=Z>W&&$.charCodeAt(Z-1)===b,{tag:K,attrs:H,selfClosing:!0,end:Z+2,rawAttrs:L,whitespaceBeforeAttrs:q,isClosing:V,hasSpaceBeforeSlash:z}}var D=Z,O=$.charCodeAt(Z);if(!(O>=z0&&O<=D0||O>=c&&O<=a||O===H0||O===g0))return null;for(Z++;Z<Q;){var U=$.charCodeAt(Z);if(U>=z0&&U<=D0||U>=c&&U<=a||U>=n&&U<=s||U===H0||U===a0||U===g0||U===p)Z++;else break}for(var v=$.slice(D,Z);Z<Q&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R);)Z++;if($.charCodeAt(Z)!==p0){H[v]="";continue}for(Z++;Z<Q&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R);)Z++;var M=$.charCodeAt(Z);if(M===F9||M===O9){Z++;for(var A=Z;Z<Q&&$.charCodeAt(Z)!==M;)Z++;if(Z>=Q)return null;if(H[v]=$.slice(A,Z),Z++,Z<Q){var I=$.charCodeAt(Z);if(I!==b&&I!==R&&I!==g&&I!==u&&I!==j0)return null}}else if(M===D9){var N=1,A=Z;for(Z++;Z<Q&&N>0;){var U=$.charCodeAt(Z);U===D9?N++:U===X$&&N--,Z++}H[v]=$.slice(A,Z)}else{for(var A=Z;Z<Q;){var j=$.charCodeAt(Z);if(j===b||j===R||j===u||j===g||j===F9||j===O9||j===p0||j===G0||j===e)break;Z++}if(Z===A)return null;H[v]=$.slice(A,Z)}}return null}function R$($,J,Z){for(var Q=0,V=$.length,X=!1;Q<V;){for(var Y=$.indexOf(`
`,Q),K=Y<0?V:Y,G=Q,q=0;G<K&&q<4;)if($.charCodeAt(G)===b)q++,G++;else if($.charCodeAt(G)===R)q+=4,G++;else break;if(G>=K){X=!1,Q=Y<0?V:Y+1;continue}if(q<4){var F=$.charCodeAt(G);if(F===e||F===_0){for(var W=F,H=0,z=G;z<K&&$.charCodeAt(z)===W;)H++,z++;if(H>=3){X=!1;for(var D=Y<0?V:Y+1;D<V;){for(var O=D,U=0;O<V&&U<4;){var v=$.charCodeAt(O);if(v===b)U++,O++;else if(v===R)U+=4,O++;else break}if(U<4&&O<V&&$.charCodeAt(O)===W){for(var M=0;O<V&&$.charCodeAt(O)===W;)M++,O++;if(M>=H){for(;O<V&&($.charCodeAt(O)===b||$.charCodeAt(O)===R);)O++;if(O>=V||$.charCodeAt(O)===g){Q=O>=V?V:O+1;break}}}for(;D<V&&$.charCodeAt(D)!==g;)D++;D<V&&D++}D>=V&&(Q=V);continue}}}for(var A=G;A<K&&$.charCodeAt(A)===u;){A++,A<K&&$.charCodeAt(A)===b&&A++;for(var I=0;A<K&&I<4;)if($.charCodeAt(A)===b)I++,A++;else if($.charCodeAt(A)===R)I+=4,A++;else break;if(I>=4)break;X=!1}if(!X&&q<4&&A<K&&$.charCodeAt(A)===U0&&!(A+1<V&&$.charCodeAt(A+1)===i0)){var N=S6($,A,J);if(N){Q=N,X=!1;continue}}var j=$.charCodeAt(G);if(j===X9&&q<4)X=!1;else if(q<4&&(j===p||j===O0||j===H0)){for(var S=G,L=0;S<K;){var w=$.charCodeAt(S);if(w===j)L++;else if(w!==b&&w!==R)break;S++}X=!(L>=3&&S>=K)}else X=!0;Q=Y<0?V:Y+1}}function S6($,J,Z){let Q=$.length;if($.charCodeAt(J)!==U0)return null;let V=J+1<Q&&$.charCodeAt(J+1)===i0,X=J+1;for(;X<Q;){var Y=$.charCodeAt(X);if(Y===d0){X++;break}if(Y===U0)return null;Y===A0&&X+1<Q&&X++,X++}if(X>Q||$.charCodeAt(X-1)!==d0)return null;let K=$.slice(J+1,X-1);if(K.length>999)return null;let G=N$(K);if(!G||X>=Q||$.charCodeAt(X)!==g0)return null;X++;let q=!1;for(;X<Q;){let E=$.charCodeAt(X);if(E===b||E===R)X++;else if(E===g&&!q)q=!0,X++;else break}if(V){let E=$.indexOf(`
`,X),x=E<0?Q:E,T=$.slice(X,x).trim();return Z[G]={target:T,title:void 0},E<0?Q:E+1}var F;if(X<Q&&$.charCodeAt(X)===G0){X++;for(var W=X;X<Q&&$.charCodeAt(X)!==u&&$.charCodeAt(X)!==g;)$.charCodeAt(X)===A0&&X+1<Q&&X++,X++;if(X>=Q||$.charCodeAt(X)!==u)return null;F=$.slice(W,X),X++;for(var H=$.indexOf(`
`,X),z=H<0?Q:H,D=X;D<z&&($.charCodeAt(D)===b||$.charCodeAt(D)===R);)D++;if(D<z){if(D===X)return null;var O=$.charCodeAt(D);if(O!==F9&&O!==O9&&O!==n0)return null}}else{for(var W=X,U=0;X<Q;){var Y=$.charCodeAt(X);if(Y===n0)U++;else if(Y===s0){if(U===0)break;U--}else{if(Y===b||Y===R||Y===g)break;Y===A0&&X+1<Q&&X++}X++}if(F=$.slice(W,X),!F)return null}for(;X<Q&&($.charCodeAt(X)===b||$.charCodeAt(X)===R);)X++;var v=$.indexOf(`
`,X),M=v<0?Q:v,A,I=!1,N=X,j=X;if(X===M&&X<Q)for(j=X+1;j<Q&&($.charCodeAt(j)===b||$.charCodeAt(j)===R);)j++;if(j<Q){var S=$.charCodeAt(j);if(S===F9||S===O9||S===n0){for(var L=S===n0?41:S,w=j+1,P=w;w<Q;){var y=$.charCodeAt(w);if(y===L){for(var k=w+1;k<Q&&($.charCodeAt(k)===b||$.charCodeAt(k)===R);)k++;(k>=Q||$.charCodeAt(k)===g)&&(A=$.slice(P,w),I=!0,N=k<Q?k+1:Q);break}if(y===A0&&w+1<Q){w+=2;continue}if(y===g&&w+1<Q&&$.charCodeAt(w+1)===g)break;w++}if(!I&&j===X)return null}}if(I)return Z[G]||(Z[G]={target:t9(F),title:A!==void 0?t9(A):A}),N;for(;X<M&&($.charCodeAt(X)===b||$.charCodeAt(X)===R);)X++;return X<M?null:(Z[G]||(Z[G]={target:t9(F),title:A}),v<0?Q:v+1)}var e9=1,k6=2,Z0=4,E6=8,aZ=16,K9=32,k9=64,d=new Uint8Array(128);d[b]=e9,d[R]=e9,d[g]=e9|k6,d[V9]=e9|k6,d[X9]=K9|Z0,d[u]=K9|Z0,d[p]=K9|k9|Z0,d[H9]=K9|Z0,d[O0]=K9|k9|Z0,d[H0]=K9|k9|Z0,d[e]=K9|k9|Z0,d[_0]=K9|k9|Z0,d[G0]=K9|k9|Z0,d[U0]=k9|Z0,d[E0]=k9|Z0,d[I0]=K9|Z0;for(let $=n;$<=s;$++)d[$]=aZ|K9;for(let $=c;$<=a;$++)d[$]=E6;for(let $=z0;$<=D0;$++)d[$]=E6;d[A0]=Z0,d[d0]=Z0,d[n0]=Z0,d[s0]=Z0,d[g0]=Z0,d[F9]=Z0,d[O9]=Z0,d[O$]=Z0,d[p0]=Z0,d[K6]=Z0,d[o9]=Z0,d[h$]=Z0,d[a0]=Z0,d[j0]=Z0,d[D$]=Z0,d[C9]=Z0,d[r9]=Z0,d[i0]=Z0,d[D9]=Z0,d[X$]=Z0;function B6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var J=0;J<$.length;J++){if($.charCodeAt(J)===A0){J++;continue}if($.charCodeAt(J)===U0||$.charCodeAt(J)===d0)return!0}return!1}function N$($){var J=$.replace(/\s+/g," ").trim();return J.indexOf("\u1E9E")!==-1?J.replace(/\u1E9E/g,"ss").toLowerCase():J.toLowerCase()}function t$($){return $<c0?d[$]:$===q6?e9:0}function t9($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function V0($,J){var Z=$.indexOf(`
`,J);return Z<0?$.length:Z}function r($,J){let Z=V0($,J);return Z<$.length?Z+1:Z}function G$($,J,Z){for(;J<Z;){let Q=$.charCodeAt(J);if(Q!==b&&Q!==R)break;J++}return J}function M6($,J){let Z=r($,J);for(;Z<$.length;){let Q=V0($,Z);if(t0($,Z,Q))return Z;Z=r($,Z)}return $.length}function A9($,J,Z,Q){let V=0;for(;J+V<Z&&$.charCodeAt(J+V)===Q;)V++;return V}var Q0=0,$0=0;function v0($,J,Z){for(Q0=0,$0=0;J+$0<Z;){let Q=$.charCodeAt(J+$0);if(Q===R)Q0+=4-Q0%4;else if(Q===b)Q0++;else break;$0++}}function t0($,J,Z){return G$($,J,Z)>=Z}function g6($,J,Z,Q){let V=V0($,J);if(v0($,J,V),Q0>3)return null;let X=J+$0;if($.charCodeAt(X)!==X9)return null;let Y=A9($,X,V,35);if(Y<1||Y>6||(X+=Y,X<V&&$.charCodeAt(X)!==b&&$.charCodeAt(X)!==R))return null;X=G$($,X,V);for(var K=V;K>X&&$.charCodeAt(K-1)===b;)K--;for(var G=K;K>X&&$.charCodeAt(K-1)===X9;)K--;if(K<G)if(K===X||$.charCodeAt(K-1)===b)for(;K>X&&$.charCodeAt(K-1)===b;)K--;else K=G;let q=$.slice(X,K),F=C0(q,0,q.length,Z,Q),H=(Q?.slugify||m0)(q);return{node:{type:_.heading,level:Y,children:F,id:H},end:r($,V)}}function S9($,J){let Z=V0($,J);if(v0($,J,Z),Q0>3)return null;let Q=J+$0,V=$.charCodeAt(Q);if(V!==p&&V!==O0&&V!==H0)return null;let X=0;for(;Q<Z;){let Y=$.charCodeAt(Q);if(Y===V)X++;else if(Y!==b&&Y!==R)return null;Q++}return X<3?null:{node:{type:_.breakThematic},end:r($,Z)}}function nZ($,J,Z){let Q=V0($,J);if(v0($,J,Q),Q0>3)return null;let V=Q0,X=$0,Y=J+$0,K=$.charCodeAt(Y);if(K!==e&&K!==_0)return null;let G=A9($,Y,Q,K);if(G<3)return null;Y+=G;let q=G$($,Y,Q),F=Q;if(K===e){for(let w=q;w<Q;w++)if($.charCodeAt(w)===e)return null}for(;F>q&&($.charCodeAt(F-1)===b||$.charCodeAt(F-1)===R);)F--;let W=$.slice(q,F),H="",z="",D=W.indexOf(" ");D===-1?H=W:(H=W.slice(0,D),z=W.slice(D+1).trim()),H=t9(H);var O=void 0;if(z){j6.lastIndex=0;for(var U;(U=j6.exec(z))!==null;)O||(O={}),O[U[1]]=U[2]!==void 0?U[2]:U[3]}let v=r($,Q),M=v,A=$.length;for(;M<$.length;){let w=V0($,M);if(v0($,M,w),Q0<4){let P=M+$0;var I=A9($,P,w,K);if(I>=G){let y=P+I;if(t0($,y,w)){A=r($,w);break}}}M=r($,w)}var N;if(V===0)N=M>v&&$.charCodeAt(M-1)===g?$.slice(v,M-1):$.slice(v,M);else{N="";for(var j=v;j<M;){var S=V0($,j);v0($,j,S);var L=Math.min($0,V);N+=$.slice(j+L,S)+`
`,j=r($,S)}N.length>0&&N.charCodeAt(N.length-1)===g&&(N=N.slice(0,-1))}return{node:{type:_.codeBlock,lang:H||void 0,text:N,infoString:z||void 0,attrs:O},end:A}}function sZ($,J){let Z=V0($,J);if(v0($,J,Z),Q0<4)return null;let Q="",V=J;for(;V<$.length;){let z=V0($,V);if(v0($,V,z),t0($,V,z)){for(var X=0,Y=r($,z);Y<$.length;){var K=V0($,Y);if(t0($,Y,K)){X++,Y=r($,K);continue}if(v0($,Y,K),Q0>=4){for(var G=0;G<=X;G++)Q+=`
`;V=Y;break}break}if(V!==Y)break;continue}if(Q0<4)break;let D=0,O=0;var q=0;for(let U=V;U<z&&O<4;U++){if($.charCodeAt(U)===R){var F=4-O%4;O+F>4&&(q=O+F-4),O+=F}else O++;D++}var W="";if(q>0)for(var H=0;H<q;H++)W+=" ";W+=$.slice(V+D,z),Q+=W+`
`,V=r($,z)}for(;Q.length>0&&Q.charCodeAt(Q.length-1)===g;)Q=Q.slice(0,-1);for(;Q.length>0&&Q.charCodeAt(Q.length-1)===g;)Q=Q.slice(0,-1);return Q?{node:{type:_.codeBlock,text:Q},end:V}:null}function tZ($,J,Z,Q){let V=V0($,J);if(v0($,J,V),Q0>3)return null;let X=J+$0;if($.charCodeAt(X)!==u)return null;let Y="",K=J,G,q=!1,F=!1,W=!1;for(;K<$.length;){let h=V0($,K);v0($,K,h);let R0=K+$0;if($.charCodeAt(R0)===u){let m=R0+1;var H=Q0+1,z=!1;if(m<h){var D=$.charCodeAt(m);D===b?(m++,H++,z=!0):D===R&&(z=!0)}for(var O="",U=!1,v=m;v<h;v++)if($.charCodeAt(v)===R){U=!0;break}if(U){var M=H;if(z&&m<h&&$.charCodeAt(m)===R){for(var A=4-M%4,I=0;I<A-1;I++)O+=" ";M+=A,m++}for(var N=m;N<h;N++)if($.charCodeAt(N)===R){for(var j=4-M%4,S=0;S<j;S++)O+=" ";M+=j}else O+=$[N],M++}else O=$.slice(m,h);if(!Y&&!G){let q0=O.match(/^\[!([A-Z]+)\]\s*$/);if(q0){G=q0[1],K=r($,h);continue}}Y+=O+`
`;var L=O.trimStart();L.startsWith("```")||L.startsWith("~~~")?W=!W:O.startsWith("    ")||O.startsWith("	")?W=!0:L.length>0&&!W&&(W=!1),F=L.length>0,K=r($,h)}else if(Y&&!t0($,K,h)&&F){if(Q0<4){var w=K+$0,P=w<h?$.charCodeAt(w):0;if(P===X9||P===u||P===e||P===_0||P===G0||(P===p||P===O0||P===H0)&&S9($,K)||(P===p||P===O0||P===H9)&&w+1<h&&($.charCodeAt(w+1)===b||$.charCodeAt(w+1)===R))break;if(P>=n&&P<=s){for(var y=w;y<h&&$.charCodeAt(y)>=n&&$.charCodeAt(y)<=s;)y++;if(y<h&&($.charCodeAt(y)===a0||$.charCodeAt(y)===s0))break}}if(W)break;Y+=$.slice(K,h)+`
`,q=!0,K=r($,h)}else break}if(!Y&&!G)return null;var{inBlockQuote:k,f:E}=Z;Z.inBlockQuote=!0,q&&(Z.f=!0);let x=M9(Y||"",Z,Q);Z.inBlockQuote=k,Z.f=E;let T={type:_.blockQuote,children:x};return G&&(T.alert=G),{node:T,end:K}}function x6($,J,Z){for(var Q=0,V=J;V<Z;V++)$.charCodeAt(V)===R?Q+=4-Q%4:Q++;return Q}function y9($,J,Z){if(v0($,J,Z),Q0>3)return null;var Q=J+$0;if(Q>=Z)return null;var V=$.charCodeAt(Q),X=Q0,Y=Q;if(V===p||V===O0||V===H9){if(Y=Q+1,Y<Z&&$.charCodeAt(Y)!==b&&$.charCodeAt(Y)!==R&&$.charCodeAt(Y)!==g)return null}else if(V>=n&&V<=s){for(var K=Q;K<Z&&K-Q<9;){var G=$.charCodeAt(K);if(G<n||G>s)break;K++}if(K>Q&&K<Z){var q=$.charCodeAt(K);if(q===a0||q===s0){if(Y=K+1,Y<Z&&$.charCodeAt(Y)!==b&&$.charCodeAt(Y)!==R&&$.charCodeAt(Y)!==g)return null}else return null}else return null}else return null;var F=Y,W=x6($,J,Y),H=0,z=F,D=W;if(F>=Z)return{ordered:V>=n&&V<=s,marker:V>=n&&V<=s?$[K]:$[Q],start:V>=n&&V<=s?parseInt($.slice(Q,K),10):void 0,contentStart:F,contentCol:W+1,markerCol:X,isEmpty:!0};for(;z<Z&&($.charCodeAt(z)===b||$.charCodeAt(z)===R);){if($.charCodeAt(z)===R){var O=4-D%4;D+=O}else D++;z++,H++}var U=z>=Z,v=D-W;return U||v>4?(D=W+1,z=F+1,H=1):H===0&&(D=W+1,z=F,H=1),{ordered:V>=n&&V<=s,marker:V>=n&&V<=s?$[K]:$[Q],start:V>=n&&V<=s?parseInt($.slice(Q,K),10):void 0,contentStart:z,contentCol:D,markerCol:X,isEmpty:U}}var I$=0;function eZ($,J,Z,Q){var V=0,X=J;for(I$=0;X<Z&&V<Q;){var Y=$.charCodeAt(X);if(Y===R){var K=4-V%4;if(V+K>Q){I$=V+K-Q,X++,V=Q;break}V+=K}else if(Y===b)V++;else break;X++}return X}function A6($,J,Z,Q){var V=V0($,J),X=y9($,J,V);if(!X)return null;var Y=[],K=J,G=X.contentCol,q="",F=X.isEmpty,W=!1,H=!1;if(!X.isEmpty){for(var z=!1,D=X.contentStart;D<V;D++)if($.charCodeAt(D)===R){z=!0;break}if(z){var O="",U=x6($,J,X.contentStart),v=U-X.contentCol;if(v>0)for(var M=0;M<v;M++)O+=" ";for(var A=X.contentStart;A<V;A++)if($.charCodeAt(A)===R){for(var I=4-U%4,N=0;N<I;N++)O+=" ";U+=I}else O+=$[A],U++;q=O+`
`}else q=$.slice(X.contentStart,V)+`
`}for(K=r($,V);K<$.length;){var j=V0($,K);v0($,K,j);var S=$.charCodeAt(K+$0);if(Q0<G&&(S===p||S===O0||S===H0)&&Q0<=3&&S9($,K))break;var L=y9($,K,j);if(L&&L.ordered===X.ordered&&L.marker===X.marker&&L.markerCol<G){Y.push({contentCol:G,raw:q,hasBlankAfter:W,isEmpty:F}),W&&(H=!0),G=L.contentCol,F=L.isEmpty,W=!1,q=L.isEmpty?"":$.slice(L.contentStart,j)+`
`,K=r($,j);continue}if(t0($,K,j)){q+=`
`,K=r($,j);for(var w=!1,P=0;P<q.length;P++){var y=q.charCodeAt(P);if(y!==g&&y!==V9&&y!==b&&y!==R){w=!0;break}}if(F&&!w)if(K<$.length){var k=V0($,K),E=y9($,K,k);if(!E||E.ordered!==X.ordered||E.marker!==X.marker)break;W=!0}else break;if(K<$.length){var x=V0($,K);v0($,K,x);var T=$.charCodeAt(K+$0);if((T===p||T===O0||T===H0)&&Q0<=3&&S9($,K))break;var h=y9($,K,x);if(h&&h.ordered===X.ordered&&h.marker===X.marker&&h.markerCol<G){W=!0;continue}if(!t0($,K,x)&&Q0<G)break}continue}if(Q0>=G){var R0=eZ($,K,j,G);if(I$>0){for(var m="",q0=G,W0=0;W0<I$;W0++)m+=" ",q0++;for(var l=R0;l<j;l++)if($.charCodeAt(l)===R){for(var N0=4-q0%4,F0=0;F0<N0;F0++)m+=" ";q0+=N0}else m+=$[l],q0++;q+=m+`
`}else q+=$.slice(R0,j)+`
`;K=r($,j);continue}for(var b0=!1,J0=0;J0<q.length;J0++){var B0=q.charCodeAt(J0);if(B0!==g&&B0!==V9&&B0!==b&&B0!==R){b0=!0;break}}if(!W&&b0&&!F){var X0=K+$0,i=$.charCodeAt(X0),C=i===X9||i===u||i===G0||i===e||i===_0||(i===p||i===O0||i===H0||i===H9)&&(S9($,K)!==null||y9($,K,j)!==null)||i>=n&&i<=s&&y9($,K,j)!==null;if(!C){q+=""+$.slice(X0,j)+`
`,K=r($,j);continue}}break}if(Y.push({contentCol:G,raw:q,hasBlankAfter:W,isEmpty:F}),Y.length===0)return null;var M0=H;if(!M0)for(var L0=0;L0<Y.length;L0++){if(Y[L0].hasBlankAfter&&L0<Y.length-1){M0=!0;break}if(!Y[L0].isEmpty){for(var B=Y[L0].raw,f=B.length,Y0=0,w0=!1,t=!1,y0=!1,o=!1,x0=0,f0=0,u0=-1;Y0<f;){var K0=B.indexOf(`
`,Y0);if(K0<0&&(K0=f),o){v0(B,Y0,K0);for(var E9=B.slice(Y0+$0,K0),g9=0;g9<E9.length&&E9.charCodeAt(g9)===x0;)g9++;g9>=f0&&E9.slice(g9).trim()===""&&(o=!1),Y0=K0<f?K0+1:f;continue}if(t0(B,Y0,K0)){u0>=0?y0=!0:w0&&(t=!0),Y0=K0<f?K0+1:f;continue}if(v0(B,Y0,K0),u0>=0){if(Q0>=u0){Y0=K0<f?K0+1:f;continue}var x9=y9(B,Y0,K0);if(x9&&x9.markerCol<u0&&x9.contentCol<=u0){Y0=K0<f?K0+1:f;continue}if(x9){Y0=K0<f?K0+1:f;continue}u0=-1,y0&&(t=!0,y0=!1)}var G9=B.slice(Y0+$0,K0),f9=G9.charCodeAt(0);if((f9===e||f9===_0)&&Q0<=3){for(var v9=0;v9<G9.length&&G9.charCodeAt(v9)===f9;)v9++;if(v9>=3){if(t&&w0){M0=!0;break}o=!0,x0=f9,f0=v9,w0=!0,Y0=K0<f?K0+1:f;continue}}var c9=Q0<=3?y9(B,Y0,K0):null;if(c9&&w0){if(t){M0=!0;break}u0=c9.contentCol,y0=!1,Y0=K0<f?K0+1:f,w0=!0;continue}if(t){M0=!0;break}w0=!0,Y0=K0<f?K0+1:f}if(M0)break}}for(var U9=[],$$=0;$$<Y.length;$$++){for(var q9=Y[$$],e0=q9.raw,Q9=e0.length;Q9>0&&e0.charCodeAt(Q9-1)===g;)Q9--;var T0=Q9<e0.length?e0.slice(0,Q9):e0,$9=null;if(T0.length>=3&&T0.charCodeAt(0)===U0){var o0=T0[1];(o0===" "||o0==="x"||o0==="X")&&T0.charCodeAt(2)===d0&&($9={type:_.gfmTask,completed:o0==="x"||o0==="X"},T0=T0.slice(3))}var S0;if(q9.isEmpty&&T0.trim()==="")S0=[];else if(M0){var Z$=Z.inList;Z.inList=!0,S0=M9(T0,Z,Q),Z.inList=Z$}else{var z9=Z.inList;if(Z.inList=!0,S0=M9(T0,Z,Q),Z.inList=z9,S0.length===1&&S0[0].type===_.paragraph)S0=S0[0].children;else{for(var J$=[],T9=0;T9<S0.length;T9++)if(S0[T9].type===_.paragraph)for(var _9=S0[T9].children,Z9=0;Z9<_9.length;Z9++)J$.push(_9[Z9]);else J$.push(S0[T9]);S0=J$}}$9?U9.push([$9,{type:_.text,text:" "},...S0]):U9.push(S0)}return{node:{type:X.ordered?_.orderedList:_.unorderedList,start:X.ordered?X.start:void 0,items:U9},end:K}}var b$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function L9($,J,Z){let Q={};for(let[Y,K]of Object.entries($)){let G=Y,q=Y.toLowerCase();if(q==="style"&&typeof K=="string"){let F={},W=[],H=0,z=0;for(let O=0;O<K.length;O++){let U=K.charCodeAt(O);U===n0?H++:U===s0?H--:U===D$&&H===0&&(W.push(K.slice(z,O)),z=O+1)}z<K.length&&W.push(K.slice(z));let D=!1;W.forEach(O=>{let U=O.indexOf(":");if(U===-1)return;let v=O.slice(0,U).trim(),M=O.slice(U+1).trim();if(v&&M){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(M)){D=!0;return}let A=v.indexOf("-")!==-1?v.replace(/-([a-z])/g,(I,N)=>N.toUpperCase()):v;F[A]=M}}),!D&&Object.keys(F).length>0&&(Q[G]=F)}else if((q==="href"||q==="src")&&Z?.sanitizer){let F=Z.sanitizer(K,J,q);F!==null&&(Q[G]=F)}else if(K==="")Q[G]=!0;else if(K.length>=2&&K.charCodeAt(0)===D9&&K.charCodeAt(K.length-1)===X$){var V=K.slice(1,-1);if(V.length>0){var X=V.charCodeAt(0);if(X===U0||X===D9)try{Q[G]=JSON.parse(V);continue}catch{}}if(V==="true"){Q[G]=!0;continue}if(V==="false"){Q[G]=!1;continue}if(Z?.evalUnserializableExpressions)try{Q[G]=(0,eval)("("+V+")");continue}catch{}Q[G]=V}else Q[G]=K}return Q}function B9($,J,Z){let Q=J.length;var V=J.charCodeAt(0);V>=c&&V<=a&&(V+=Y9);for(let Y=Z;Y<=$.length-Q;Y++){var X=$.charCodeAt(Y);if(X>=c&&X<=a&&(X+=Y9),X!==V)continue;let K=!0;for(let G=1;G<Q;G++){let q=$.charCodeAt(Y+G),F=J.charCodeAt(G);if(q>=c&&q<=a&&(q+=Y9),F>=c&&F<=a&&(F+=Y9),q!==F){K=!1;break}}if(K)return Y}return-1}function $J($,J,Z){let Q=J.length;var V=J.charCodeAt(0);V>=c&&V<=a&&(V+=Y9);for(let Y=Math.min(Z,$.length-Q);Y>=0;Y--){var X=$.charCodeAt(Y);if(X>=c&&X<=a&&(X+=Y9),X!==V)continue;let K=!0;for(let G=1;G<Q;G++){let q=$.charCodeAt(Y+G),F=J.charCodeAt(G);if(q>=c&&q<=a&&(q+=Y9),F>=c&&F<=a&&(F+=Y9),q!==F){K=!1;break}}if(K)return Y}return-1}var n$=-1;function f6($,J,Z){let Q=Z.toLowerCase(),V="<"+Q,X="</"+Q,Y=1,K=J,G=$.length;for(n$=-1;K<G&&Y>0;){let W=B9($,V,K),H=B9($,X,K);if(H===-1)return-1;if(W!==-1&&W<H){let z=j9($,W);z?(z.tag.toLowerCase()===Q&&!z.isClosing&&!z.selfClosing&&!n9(z.tag)&&Y++,K=z.end):K=W+1}else{var q=H+X.length,F=q<G?$.charCodeAt(q):62;if((F===u||F===b||F===R||F===g)&&(Y--,Y===0)){n$=H;let z=H+X.length;for(;z<G&&$.charCodeAt(z)!==u;)z++;return z+1}K=H+1}}return-1}function T6($,J,Z,Q){if(Q.ignoreHTMLBlocks||Q.disableParsingRawHTML)return null;var V=V0($,J);if(v0($,J,V),Q0>3&&!Z.inHTML)return null;var X=J+$0;if($.charCodeAt(X)!==G0)return null;var Y=$.indexOf(">",X+1);if(Y!==-1&&Y<V){var K=$.slice(X+1,Y);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(K)||/^[^\s@]+@[^\s@]+$/.test(K))return null}var G=ZJ($,X);if(G>=1&&G<=5){var q=$.length;if(G===1){for(var F=$.length,W=0;W<a$.length;W++){var H=B9($,"</"+a$[W]+">",X);H>=0&&H<F&&(F=H)}if(F<$.length){var z=$.indexOf(">",F);q=z>=0?r($,z+1):$.length}}else{var D=G===2?"-->":G===3?"?>":G===4?">":"]]>",O=$.indexOf(D,X);O>=0&&(q=r($,O+D.length))}var U=$.slice(X,q);if(G>=2)return{node:{type:_.htmlComment,text:U,raw:!0,endPos:q},end:q};var v="div",M=U.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);M&&(v=M[1]);var A=j9($,X),I={},N;A&&!A.isClosing&&(I=L9(A.attrs,v,Q),N=A.whitespaceBeforeAttrs+A.rawAttrs);var j=[],S=v.toLowerCase(),L="</"+S,w=B9(U,L,0),P=U,y="";if(A&&A.isClosing)for(P=U.slice(A.end-X);P.length>0&&P.charCodeAt(P.length-1)===g;)P=P.slice(0,-1);else if(A&&!A.isClosing){var k=A.end-X;if(w!==-1)for(P=U.slice(k),P.charCodeAt(0)===g&&(P=P.slice(1));P.length>0&&P.charCodeAt(P.length-1)===g;)P=P.slice(0,-1);else for(P=U;P.length>0&&P.charCodeAt(P.length-1)===g;)P=P.slice(0,-1);if(w!==-1){var E=U.slice(k,w);if(y=E.trim(),y){var{inline:x,inHTML:T}=Z;Z.inline=!0,Z.inHTML=!0,j=C0(y,0,y.length,Z,Q),Z.inline=x,Z.inHTML=T}}}var h=A?A.isClosing:!1;return{node:{type:_.htmlBlock,tag:v,attrs:I,e:N,children:j,a:P,text:y,c:!0,d:h,endPos:q,canInterruptParagraph:!0},end:q}}if(G===6||G===7){var R0=M6($,J),m=R0<$.length?R0:$.length,q0=$.slice(X,m),W0=R0<$.length?r($,R0):$.length,l=j9($,X);if(l){var N0=l.tag,F0=N0.toLowerCase(),b0=l.isClosing;if(b0){var J0=$.slice(l.end,m);return{node:{type:_.htmlBlock,tag:N0,attrs:{},children:[],a:J0,text:J0,c:!0,d:!0,endPos:m,canInterruptParagraph:G===6},end:W0}}var B0=Z.b||0,X0=$.slice(X,m),i=-1,C=-1;if(!l.selfClosing&&!n9(N0)&&B0<10){for(var M0="</"+F0,L0=l.end-X,B=1,f=L0;f<X0.length&&B>0;){var Y0=B9(X0,"<"+F0,f),w0=B9(X0,M0,f);if(w0===-1)break;if(Y0!==-1&&Y0<w0){var t=Y0+F0.length+1;if(t<X0.length){var y0=X0.charCodeAt(t);(y0===b||y0===R||y0===g||y0===u||y0===j0)&&B++}f=Y0+1}else{var o=w0+M0.length;if(o<X0.length){var x0=X0.charCodeAt(o);if((x0===u||x0===b||x0===R||x0===g)&&(B--,B===0)){i=w0;for(var f0=o;f0<X0.length&&X0.charCodeAt(f0)!==u;)f0++;C=f0+1;break}}else if(B--,B===0){i=w0,C=X0.length;break}f=w0+1}}var u0=!1;if(i===-1&&G===6&&!l.isClosing&&!iZ.has(F0)){var K0=$.slice(l.end),E9=B9(K0,M0,0);if(E9!==-1){var g9=K0.slice(0,E9);if(g9.indexOf(`

`)!==-1){for(var x9=l.end+E9,G9=x9+M0.length;G9<$.length&&$.charCodeAt(G9)!==u;)G9++;if(G9<$.length&&$.charCodeAt(G9)===u){var f9=G9+1,v9=V0($,f9);m=v9,W0=r($,v9),X0=$.slice(X,m),q0=$.slice(X,m),i=x9-X,C=f9-X,u0=!0}}}}}var c9=l.rawAttrs.indexOf(`
`)!==-1||l.whitespaceBeforeAttrs.indexOf(`
`)!==-1,U9=!1;if(i!==-1){var $$=X0.slice(C).trim();U9=$$.length===0}var q9=!1,e0=m,Q9=W0;if(i!==-1){var T0=X+C,$9=V0($,T0-1);if(T0<$9){for(var o0=T0;o0<$9&&($.charCodeAt(o0)===b||$.charCodeAt(o0)===R);)o0++;if(o0<$9&&$.charCodeAt(o0)===G0){var S0=j9($,o0);S0&&!S0.isClosing&&(q9=!0,e0=T0,Q9=T0,U9=!0)}}if(!q9){var Z$=r($,$9);if(Z$<m){for(var z9=Z$;z9<m&&($.charCodeAt(z9)===b||$.charCodeAt(z9)===R);)z9++;if(z9<m&&$.charCodeAt(z9)===G0){var J$=j9($,z9);J$&&(q9=!0,e0=$9,Q9=Z$,U9=!0)}}}if(!q9&&Z.inHTML){q9=!0,e0=$9,Q9=r($,$9);var T9=$.slice(T0,$9).trim();U9=T9.length===0}}var _9=[],Z9="";if(i!==-1){Z9=X0.slice(l.end-X,i);var h9=Z9.trim();if(h9){var{inline:l6,inHTML:o6,b:r6}=Z;Z.inHTML=!0,Z.b=B0+1;var i6=F0==="p";if(i6)Z.inline=!0,_9=C0(h9,0,h9.length,Z,Q);else{var a6=Z9.indexOf(`

`)!==-1,n6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(h9),$6=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(h9),s6=a6||n6||Z.inHTML&&$6;s6||$6?(Z.inline=!1,_9=M9(Z9,Z,Q)):(Z.inline=!0,_9=C0(h9,0,h9.length,Z,Q))}Z.inline=l6,Z.inHTML=o6,Z.b=r6}}var Z6=!1;if(G===6&&i!==-1&&!Z.inHTML&&!c9){var L$=Z9,t6=/<[a-zA-Z][^>]*>/.test(L$),e6=/\n\n/.test(L$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(L$);t6&&!e6&&(Z6=!0)}var $Z=Z.inHTML||G===7||c9||!U9||Z6;if($Z){var r0;if(i!==-1&&q9){var J6=!1;if(Z.inHTML&&C<X0.length){for(var F$=C;F$<X0.length&&X0.charCodeAt(F$)!==g;)F$++;var S$=X0.slice(C,F$).trim();J6=S$.length>1&&S$.charCodeAt(0)===G0&&S$.charCodeAt(1)!==j0}r0=J6?X0.slice(l.end-X):Z9}else(G===7||Z.inHTML)&&i!==-1?(r0=X0.slice(l.end-X),r0.charCodeAt(0)===g&&(r0=r0.slice(1))):q9?r0=$.slice(X,e0):c9?r0=q0:(r0=X0.slice(l.end-X),r0.charCodeAt(0)===g&&(r0=r0.slice(1)));return{node:{type:_.htmlBlock,tag:N0,attrs:L9(l.attrs,N0,Q),e:l.whitespaceBeforeAttrs+l.rawAttrs,children:_9,a:r0,text:r0,c:!0,d:!1,endPos:e0,canInterruptParagraph:G===6},end:Q9}}return{node:{type:_.htmlBlock,tag:N0,attrs:L9(l.attrs,N0,Q),e:l.whitespaceBeforeAttrs+l.rawAttrs,children:_9,a:u0?"":Z9,text:Z9,c:!1,d:!1,endPos:e0,canInterruptParagraph:G===6},end:Q9}}var W$=q0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),ZZ=W$?W$[2]:"div",Q6=W$?W$[1]==="/":!1,k$=q0;if(Q6){var V6=q0.indexOf(">");V6!==-1&&(k$=q0.slice(V6+1))}return{node:{type:_.htmlBlock,tag:ZZ,attrs:{},children:[],a:k$,text:k$,c:!0,d:Q6,endPos:m,canInterruptParagraph:G===6},end:W0}}var k0=j9($,X);if(!k0)return null;var N9=k0.tag,E$=N9.toLowerCase(),X6=N9.charCodeAt(0),U$=X6>=c&&X6<=a;if(!U$&&!b$.has(E$)&&!q$.has(E$)&&!E$.includes("-"))return null;if(k0.isClosing)return{node:{type:_.htmlSelfClosing,tag:N9,attrs:{},endPos:k0.end,d:!0,a:$.slice(X,k0.end)},end:k0.end};var yJ=!0,m9=f6($,k0.end,N9),Q$=[];if(m9!==-1){var JZ=n$,z$=$.slice(k0.end,JZ),V$=z$.trim();if(V$){var QZ=z$.indexOf(`

`)!==-1,VZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(V$),XZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(V$),YZ=Z.inline,KZ=Z.inHTML,GZ=Z.b;Z.inHTML=!0,Z.b=(Z.b||0)+1,QZ||VZ||XZ?(Z.inline=!1,Q$=M9(z$,Z,Q)):(Z.inline=!0,Q$=C0(V$,0,V$.length,Z,Q)),Z.inline=YZ,Z.inHTML=KZ,Z.b=GZ}var qZ=V0($,m9),FZ=$.slice(m9,qZ).trim(),g$=FZ?m9:r($,m9),Y6=U$?$.slice(X,m9):$.slice(X,g$),WZ=U$?m9:g$;return{node:{type:_.htmlBlock,tag:N9,attrs:L9(k0.attrs,N9,Q),e:k0.whitespaceBeforeAttrs+k0.rawAttrs,children:Q$,a:Y6,text:U$?z$:Y6,c:!0,d:!1,endPos:WZ,canInterruptParagraph:!1},end:g$}}var l9=M6($,k0.end),UZ=l9<$.length?r($,l9):l9,x$=$.slice(k0.end,l9);if(x$.trim()){var{inline:zZ,inHTML:OZ,b:HZ}=Z;Z.inline=!1,Z.inHTML=!0,Z.b=(Z.b||0)+1,Q$=M9(x$,Z,Q),Z.inline=zZ,Z.inHTML=OZ,Z.b=HZ}var DZ=$.slice(k0.end,l9);return{node:{type:_.htmlBlock,tag:N9,attrs:L9(k0.attrs,N9,Q),e:k0.whitespaceBeforeAttrs+k0.rawAttrs,children:Q$,a:DZ,text:x$,c:!0,d:!1,endPos:l9,canInterruptParagraph:!1},end:UZ}}function ZJ($,J){if($.charCodeAt(J)!==G0)return 0;var Z=J+1,Q=$.length;if($.charCodeAt(Z)===E0&&$.charCodeAt(Z+1)===p&&$.charCodeAt(Z+2)===p)return 2;if($.charCodeAt(Z)===C9)return 3;if($.charCodeAt(Z)===E0){var V=$.charCodeAt(Z+1);if(V>=c&&V<=a)return 4;if($.slice(Z+1,Z+8)==="[CDATA[")return 5}for(var X=$.charCodeAt(Z)===j0,Y=X?Z+1:Z,K=Y;K<Q;){var G=$.charCodeAt(K);if(G>=c&&G<=a||G>=z0&&G<=D0||G>=n&&G<=s||G===p)K++;else break}if(K===Y)return 0;var q=$.slice(Y,K);if(q$.has(q.toLowerCase())){if(X)return 0;var F=$.charCodeAt(K);return F===b||F===R||F===u||F===g||K>=Q?1:0}if(b$.has(q.toLowerCase())){if(X){for(var W=K;W<Q&&($.charCodeAt(W)===b||$.charCodeAt(W)===R);)W++;return W<Q&&$.charCodeAt(W)===u?6:0}var H=K<Q?$.charCodeAt(K):-1;return H===b||H===R||H===u||H===g||H===j0||H===-1?6:0}if(X){for(var U=K;U<Q&&($.charCodeAt(U)===b||$.charCodeAt(U)===R);)U++;if(U<Q&&$.charCodeAt(U)===u){var v=V0($,J),M=$.slice(U+1,v).trim();if(M==="")return 7}}else{var z=V0($,J),D=j9($,J);if(D&&D.end<=z){var O=$.slice(D.end,z).trim();if(O==="")return 7}}return 0}function v6($,J,Z){for(var Q=0,V=$.length;Q<V&&($.charCodeAt(Q)===b||$.charCodeAt(Q)===R);)Q++;for(;V>Q&&($.charCodeAt(V-1)===b||$.charCodeAt(V-1)===R);)V--;Q<V&&$.charCodeAt(Q)===I0&&Q++,V>Q&&$.charCodeAt(V-1)===I0&&(V-2<Q||$.charCodeAt(V-2)!==A0)&&V--;for(var X=[],Y=Q,K=!1,G=[],q=Q;q<V;){var F=$.charCodeAt(q);if(F===A0&&q+1<V){$.charCodeAt(q+1)===I0?(K||(K=!0,G=[]),G.push($.slice(Y,q)),G.push("|"),q+=2,Y=q):q+=2;continue}if(F===e){for(var W=0;q<V&&$.charCodeAt(q)===e;)W++,q++;for(var H=!1;q<V&&!H;){for(var z=0;q<V&&$.charCodeAt(q)===e;)z++,q++;z===W?H=!0:z===0&&q++}continue}if(F===I0){var D=K?(G.push($.slice(Y,q)),G.join("")):$.slice(Y,q);X.push(D.trim()),q++,Y=q,K=!1,G=[];continue}q++}var O=K?(G.push($.slice(Y,V)),G.join("")):$.slice(Y,V);return X.push(O.trim()),X.map(function(U){var v=U.indexOf("\\|")!==-1?U.replace(/\\\|/g,"|"):U;return C0(v,0,v.length,J,Z)})}function _6($,J,Z,Q){let V=V0($,J);var X=$.indexOf("|",J);if(X<0||X>=V)return null;let Y=r($,V);if(Y>=$.length)return null;let K=V0($,Y);if(!L6($,Y,K))return null;let G=$.slice(J,V),q=$.slice(Y,K);for(var F=[],W=0,H=q.length;W<H&&(q.charCodeAt(W)===b||q.charCodeAt(W)===R);)W++;for(W<H&&q.charCodeAt(W)===I0&&W++;W<H;){for(;W<H&&(q.charCodeAt(W)===b||q.charCodeAt(W)===R);)W++;if(W>=H||q.charCodeAt(W)===I0)break;var z=q.charCodeAt(W)===g0;for(z&&W++;W<H&&q.charCodeAt(W)===p;)W++;var D=W<H&&q.charCodeAt(W)===g0;for(D&&W++,F.push(z&&D?"center":D?"right":z?"left":null);W<H&&(q.charCodeAt(W)===b||q.charCodeAt(W)===R);)W++;W<H&&q.charCodeAt(W)===I0&&W++}let O=v6(G,Z,Q);if(F.length!==O.length)return null;let U=[],v=r($,K);for(;v<$.length;){let S=V0($,v),L=$.slice(v,S);if(t0($,v,S))break;if(v0($,v,S),Q0<4){var M=$.charCodeAt(v+$0);if(M===u||M===X9||(M===p||M===O0||M===H0)&&S9($,v))break;if(M===e||M===_0){for(var A=v+$0,I=0;A<S&&$.charCodeAt(A)===M;)I++,A++;if(I>=3)break}}U.push(v6(L,Z,Q)),v=r($,S)}if((Q.streaming||Q.optimizeForStreaming)&&U.length===0)return null;for(var N=O.length,j=0;j<U.length;j++)if(U[j].length<N)for(;U[j].length<N;)U[j].push([]);else U[j].length>N&&(U[j].length=N);return{node:{type:_.table,header:O,cells:U,align:F},end:v}}function JJ($,J,Z){var Q=V0($,J);if(v0($,J,Q),Q0>3)return null;var V=J+$0;if($.charCodeAt(V)!==U0)return null;if(V+1<$.length&&$.charCodeAt(V+1)===i0){var X=QJ($,V,Z);return X||null}Z.refs||(Z.refs={});var Y=S6($,V,Z.refs);return Y===null?null:{node:{type:_.refCollection},end:Y}}function QJ($,J,Z){var Q=$.length;if($.charCodeAt(J)!==U0||J+1>=Q||$.charCodeAt(J+1)!==i0)return null;for(var V=J+2,X=V;V<Q&&$.charCodeAt(V)!==d0;){if($.charCodeAt(V)===g)return null;V++}if(V>=Q)return null;var Y=("^"+$.slice(X,V)).toLowerCase();if(V++,V>=Q||$.charCodeAt(V)!==g0)return null;for(V++;V<Q&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;if(V<Q&&$.charCodeAt(V)===g)for(V++;V<Q&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;var K=$.indexOf(`
`,V);K<0&&(K=Q);for(var G=$.slice(V,K).trim(),q=K<Q?K+1:Q;q<Q;){var F=V0($,q);if(v0($,q,F),Q0>=2&&!t0($,q,F))G+=`
`+$.slice(q,F),q=r($,F);else if(t0($,q,F)){var W=r($,F);if(W<Q){var H=V0($,W);if(v0($,W,H),Q0>=2){G+=`
`,q=r($,F);continue}}break}else break}return Z.refs[Y]||(Z.refs[Y]={target:G,title:void 0}),{node:{type:_.footnote},end:q}}function VJ($,J,Z,Q){let V=J,X=0,Y=0,K=-1;for(;V<$.length;){let y=K>=0?K:V0($,V);if(K=-1,t0($,V,y))break;if(v0($,V,y),Q0<4&&Y>0&&!Z.f){let E=$.charCodeAt(V+$0);if(E===p0||E===p){let x=V+$0;for(;x<y&&$.charCodeAt(x)===E;)x++;for(;x<y&&($.charCodeAt(x)===b||$.charCodeAt(x)===R);)x++;if(x>=y){X=E===p0?1:2,V=r($,y);break}}}Y=y;let k=r($,y);if(k<$.length){if($.charCodeAt(k)===a9){var G=V0($,k);V=r($,G),Y=G;continue}let E=V0($,k);if(K=E,v0($,k,E),Q0<4){let x=$.charCodeAt(k+$0);if(x===u){V=k;break}if(x===X9&&g6($,k,Z,Q)){V=k;break}if(x===e||x===_0){for(var q=k+$0,F=0;q<E&&$.charCodeAt(q)===x;)F++,q++;if(F>=3){V=k;break}}if(x===G0){var W=k+$0+1,H=W<E?$.charCodeAt(W):0,z=H===E0||H===C9;if(!z&&H===j0){for(var D=W+1,O=D;O<E&&($.charCodeAt(O)>=c&&$.charCodeAt(O)<=a||$.charCodeAt(O)>=z0&&$.charCodeAt(O)<=D0||$.charCodeAt(O)>=n&&$.charCodeAt(O)<=s||$.charCodeAt(O)===p);)O++;O>D&&(z=b$.has($.slice(D,O).toLowerCase()))}else if(!z){for(var U=W;U<E&&($.charCodeAt(U)>=c&&$.charCodeAt(U)<=a||$.charCodeAt(U)>=z0&&$.charCodeAt(U)<=D0||$.charCodeAt(U)>=n&&$.charCodeAt(U)<=s||$.charCodeAt(U)===p);)U++;if(U>W){var v=$.slice(W,U).toLowerCase();z=b$.has(v)||q$.has(v)}}if(z&&T6($,k,Z,Q)){V=k;break}}if(x===p||x===O0||x===H9){let T=k+$0+1;if(T<E&&($.charCodeAt(T)===b||$.charCodeAt(T)===R)){var M=G$($,T,E);if(M<E&&!S9($,k)){V=k;break}}}if(x>=n&&x<=s){let T=k+$0;for(;T<E&&$.charCodeAt(T)>=n&&$.charCodeAt(T)<=s;)T++;if(T<E&&($.charCodeAt(T)===a0||$.charCodeAt(T)===s0)&&T-(k+$0)===1&&$.charCodeAt(k+$0)===49){var A=T+1;if(A<E&&($.charCodeAt(A)===b||$.charCodeAt(A)===R)){var I=G$($,A,E);if(I<E){V=k;break}}}}if(x===I0){let T=r($,E);if(T<$.length){let h=V0($,T);if(L6($,T,h)){V=k;break}}}if((x===p||x===O0||x===H0)&&S9($,k)){if(x!==p){V=k;break}let T=0,h=k+$0;for(;h<E&&$.charCodeAt(h)===p;)T++,h++;for(;h<E&&($.charCodeAt(h)===b||$.charCodeAt(h)===R);)h++;if(h<E){V=k;break}}}}V=r($,y)}for(var N=X?Y:V;N>J&&($.charCodeAt(N-1)===g||$.charCodeAt(N-1)===V9||$.charCodeAt(N-1)===b||$.charCodeAt(N-1)===R);)N--;for(var j=J;j<N&&($.charCodeAt(j)===b||$.charCodeAt(j)===R);)j++;if(j>=N)return null;for(var S=!1,L=j;L<N;L++)if($.charCodeAt(L)===a9){S=!0;break}var w=S?$.slice(j,N).replace(/\u001E/g,""):$.slice(j,N);if(!w)return null;let P=XJ(w,0,w.length,Z,Q);if(X){let k=(Q?.slugify||m0)(w);return{node:{type:_.heading,level:X,children:P,id:k},end:V}}return{node:{type:_.paragraph,children:P},end:V}}function XJ($,J,Z,Q,V){var X=$.indexOf(`
`,J);if(X<0||X>=Z)return C0($,J,Z,Q,V);for(var Y="",K=J,G=J;G<Z;){var q=$.charCodeAt(G);if(q===e){var F=w$($,G,Z);if(F>G){for(var W=!1,H=G;H<F;H++)if($.charCodeAt(H)===g){W=!0;break}W&&(Y+=$.slice(K,G),Y+=$.slice(G,F).replace(/\n/g," "),K=F),G=F;continue}}if(q===G0){var z=h6($,G,Z);if(z>G){G=z;continue}}if(q===g){var D=!1,O=0;if(G>J&&$.charCodeAt(G-1)===A0)D=!0,O=1;else{for(var U=0,v=G-1;v>=J&&$.charCodeAt(v)===b;)U++,v--;U>=2&&(D=!0,O=U)}for(D?(Y+=$.slice(K,G-O),Y+=""):Y+=$.slice(K,G+1),G++;G<Z&&$.charCodeAt(G)===b;)G++;K=G;continue}G++}return K<Z&&(Y+=$.slice(K,Z)),C0(Y,0,Y.length,Q,V)}function YJ($,J,Z){if($.charCodeAt(J)!==e)return null;let Q=A9($,J,Z,96),V=J+Q;for(;V<Z;){let X=$.indexOf("`",V);if(X<0||X>=Z)return null;let Y=A9($,X,Z,96);if(Y===Q){let K=$.slice(J+Q,X);return K=K.replace(/\n/g," "),K.length>0&&K[0]===" "&&K[K.length-1]===" "&&K.trim().length>0&&(K=K.slice(1,-1)),{node:{type:_.codeInline,text:K},end:X+Y}}V=X+Y}return null}function w$($,J,Z){if($.charCodeAt(J)!==e)return J;let Q=A9($,J,Z,96),V=J+Q;for(;V<Z;){let X=$.indexOf("`",V);if(X<0||X>=Z)return J;let Y=A9($,X,Z,96);if(Y===Q)return X+Y;V=X+Y}return J}function h6($,J,Z){if($.charCodeAt(J)!==G0)return J;if(J+1<Z&&$.charCodeAt(J+1)===j0){let q=J+2;for(;q<Z&&$.charCodeAt(q)!==u;)q++;return q<Z?q+1:J}if(J+3<Z&&$.charCodeAt(J+1)===E0&&$.charCodeAt(J+2)===p&&$.charCodeAt(J+3)===p){let q=$.indexOf("-->",J+4);return q>=0?q+3:J}let Q=J+1,V=Q;for(;Q<Z;){let q=$.charCodeAt(Q);if(q>=c&&q<=a||q>=z0&&q<=D0||q>=n&&q<=s||q===p)Q++;else break}if(Q===V)return J;let X=$.slice(V,Q).toLowerCase(),Y=!1;for(;Q<Z;){let q=$.charCodeAt(Q);if(q===u){Q++;break}if(q===j0&&Q+1<Z&&$.charCodeAt(Q+1)===u){Q+=2,Y=!0;break}if(q===F9||q===O9){var K=q;for(Q++;Q<Z&&$.charCodeAt(Q)!==K;)Q++;Q<Z&&Q++;continue}if(q===g)return J;Q++}if(Y||n9(X))return Q;let G=1;for(;Q<Z&&G>0;)if($.charCodeAt(Q)===G0)if(Q+1<Z&&$.charCodeAt(Q+1)===j0){let q=Q+2,F=q;for(;F<Z&&($.charCodeAt(F)>=c&&$.charCodeAt(F)<=a||$.charCodeAt(F)>=z0&&$.charCodeAt(F)<=D0);)F++;if($.slice(q,F).toLowerCase()===X){for(;F<Z&&$.charCodeAt(F)!==u;)F++;if(F<Z&&F++,G--,G===0)return F}Q=F}else{let q=Q+1,F=q;for(;F<Z&&($.charCodeAt(F)>=c&&$.charCodeAt(F)<=a||$.charCodeAt(F)>=z0&&$.charCodeAt(F)<=D0);)F++;$.slice(q,F).toLowerCase()===X&&G++,Q++}else Q++;return Q}function KJ($,J,Z,Q,V){if($.charCodeAt(J)!==_0||J+1>=Z||$.charCodeAt(J+1)!==_0)return null;let X=J+2;for(;X+1<Z;){let Y=$.charCodeAt(X);if(Y===e){let K=w$($,X,Z);if(K>X){X=K;continue}}if(Y===_0&&$.charCodeAt(X+1)===_0){let K=$.slice(J+2,X),G=C0(K,0,K.length,Q,V);return{node:{type:_.textFormatted,tag:"del",children:G},end:X+2}}Y===A0&&X+1<Z&&X++,X++}return null}function GJ($,J,Z,Q,V){if($.charCodeAt(J)!==p0||J+1>=Z||$.charCodeAt(J+1)!==p0)return null;let X=J+2;for(;X+1<Z;){let Y=$.charCodeAt(X);if(Y===e){let K=w$($,X,Z);if(K>X){X=K;continue}}if(Y===p0&&$.charCodeAt(X+1)===p0&&X>J+2){let K=$.slice(J+2,X),G=C0(K,0,K.length,Q,V);return{node:{type:_.textFormatted,tag:"mark",children:G},end:X+2}}Y===A0&&X+1<Z&&X++,X++}return null}var qJ=/[\p{P}\p{S}]/u;function N6($,J,Z){return $<c0?!!(t$($)&Z0):qJ.test(J[Z])}function I6($,J,Z){return $<c0?!!(t$($)&e9):/\p{Zs}/u.test(J[Z])}function FJ($,J,Z){var Q=$.charCodeAt(J);if(Q!==O0&&Q!==H0)return null;var V=A9($,J,Z,Q);if(V===0)return null;var X=J>0?$.charCodeAt(J-1):32,Y=J+V<Z?$.charCodeAt(J+V):32,K=I6(X,$,J-1),G=I6(Y,$,J+V),q=J>0?N6(X,$,J-1):!1,F=J+V<Z?N6(Y,$,J+V):!1,W=!G&&(!F||K||q),H=!K&&(!q||G||F),z,D;return Q===O0?(z=W,D=H):(z=W&&(!H||q),D=H&&(!W||F)),{len:V,canOpen:z,canClose:D}}function WJ($,J,Z,Q){if(J.length!==0){for(var V=[],X=0;X<12;X++)V[X]=-1;for(var Y=0;Y<J.length;){var K=J[Y];if(!K.active||!K.canClose){Y++;continue}for(var G=K.ch===O0?0:1,q=G*6+K.len%3*2+(K.canOpen?1:0),F=V[q]!==void 0?V[q]:-1,W=-1,H=Y-1;H>F;H--){var z=J[H];if(!(!z.active||z.ch!==K.ch||!z.canOpen)&&!((K.canOpen||z.canClose)&&(z.len+K.len)%3===0&&z.len%3!==0)){W=H;break}}if(W<0){V[q]=Y-1,!K.canOpen&&(K.active=!1),Y++;continue}var D=J[W],O=D.len>=2&&K.len>=2,U=O?2:1;D.len-=U,K.len-=U;var v=$[D.idx],M=$[K.idx];v.text=v.text.slice(0,v.text.length-U),M.text=M.text.slice(U);var A=D.idx+1,I=K.idx,N=$.slice(A,I),j={type:_.textFormatted,tag:O?"strong":"em",children:N};$.splice(A,I-A,j);for(var S=I-A-1,L=0;L<J.length;L++)J[L].idx>D.idx&&(J[L].idx-=S);for(var w=W+1;w<Y;w++)J[w].active=!1;if(D.len===0&&(D.active=!1,v.text==="")){$.splice(D.idx,1);for(var P=0;P<J.length;P++)J[P].idx>D.idx?J[P].idx--:J[P].idx===D.idx&&(J[P].idx=-1)}if(K.len===0){K.active=!1;var y=K.idx;if(M.text===""){$.splice(y,1);for(var k=0;k<J.length;k++)J[k].idx>y?J[k].idx--:J[k].idx===y&&(J[k].idx=-1)}}else continue;Y++}for(var E=0,x=0;x<$.length;x++){var T=$[x];if(T.type===_.text){var h=T;if(h.text==="")continue;if(E>0&&$[E-1].type===_.text){$[E-1].text+=h.text;continue}}$[E++]=T}$.length=E}}function b6($,J,Z,Q,V){let X=$.charCodeAt(J)===E0,Y=X?J+1:J;if($.charCodeAt(Y)!==U0)return null;var K=$.indexOf("]",Y+1);if(K<0||K>=Z)return null;for(var G=Y+1,q=-1,F=1;G<Z&&F>0;){var W=$.charCodeAt(G);if(W===A0&&G+1<Z){G+=2;continue}if(W===e){var H=w$($,G,Z);if(H>G){G=H;continue}}if(W===G0){var z=m6($,G,Z);if(z){G=z.end;continue}var D=h6($,G,Z);if(D>G){G=D;continue}}W===U0?F++:W===d0&&F--,G++}if(F!==0)return null;var O=G-1,U=$.slice(Y+1,O),v=G<Z?$.charCodeAt(G):0,M=!1;if(v===n0){var A=!0;for(G++;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===g);)G++;var I="",N=G;if(G<Z&&$.charCodeAt(G)===G0){for(G++,N=G;N<Z&&$.charCodeAt(N)!==u;){if($.charCodeAt(N)===A0&&N+1<Z){N+=2;continue}if($.charCodeAt(N)===g){A=!1;break}N++}A&&(N>=Z||$.charCodeAt(N)!==u)&&(A=!1),A&&(I=$.slice(G,N),N++)}else if(A){for(var j=0;N<Z;){var S=$.charCodeAt(N);if(S===A0&&N+1<Z){N+=2;continue}if(S===n0)j++;else if(S===s0){if(j===0)break;j--}else if(S===b||S===g)break;N++}I=$.slice(G,N)}if(A){for(G=N;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===g);)G++;var L;if(G<Z){var w=$.charCodeAt(G);if(w===F9||w===O9||w===n0){var P=w===n0?41:w;G++;for(var y=G;G<Z&&$.charCodeAt(G)!==P;)$.charCodeAt(G)===A0&&G+1<Z&&G++,G++;G>=Z?A=!1:(L=$.slice(y,G),G++)}}if(A){for(;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===g);)G++;(G>=Z||$.charCodeAt(G)!==s0)&&(A=!1)}}if(A){G++,I=t9(I),L!==void 0&&(L=t9(L));var k=V?.sanitizer||w9,E=k(I,X?"img":"a",X?"src":"href"),x=E===null?null:I;if(X){var T=C0(U,0,U.length,Q,V),h=P$(T);return{node:{type:_.image,target:x,alt:h,title:L},end:G}}else{var R0=Q.inAnchor;Q.inAnchor=!0;var m=R0?[{type:_.text,text:U}]:C0(U,0,U.length,Q,V);return Q.inAnchor=R0,!Q.inAnchor&&s$(m)?null:{node:{type:_.link,target:x,title:L,children:m},end:G}}}else G=O+1,M=!0}var q0="",W0=G;if(!M&&v===U0){var l=G+1;W0=l;for(var N0=!1;W0<Z&&$.charCodeAt(W0)!==d0;){if($.charCodeAt(W0)===A0&&W0+1<Z){W0+=2;continue}if($.charCodeAt(W0)===U0){N0=!0;break}W0++}if(N0||W0>=Z)return null;var F0=$.slice(l,W0);if(F0.trim())q0=N$(F0);else{if(B6(U))return null;q0=N$(U)}W0=W0+1}else{if(B6(U))return null;q0=N$(U)}var b0=Q.refs[q0];if(!b0)return null;if(X)return{node:{type:_.image,target:b0.target,alt:P$(C0(U,0,U.length,Q,V)),title:b0.title},end:W0};var J0=Q.inAnchor;Q.inAnchor=!0;var m=J0?[{type:_.text,text:U}]:C0(U,0,U.length,Q,V);return Q.inAnchor=J0,!Q.inAnchor&&s$(m)?null:{node:{type:_.link,target:b0.target,title:b0.title,children:m},end:W0}}function m6($,J,Z){if($.charCodeAt(J)!==G0)return null;for(var Q=J+1;Q<Z;){var V=$.charCodeAt(Q);if(V===u)break;if(V===b||V===g||V===V9||V===G0)return null;Q++}if(Q>=Z||$.charCodeAt(Q)!==u)return null;var X=$.slice(J+1,Q),Y=X.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return Y?{node:{type:_.link,target:X,children:[{type:_.text,text:X}]},end:Q+1}:X.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(X)?{node:{type:_.link,target:"mailto:"+X,children:[{type:_.text,text:X}]},end:Q+1}:null}function UJ($,J,Z,Q){if($.charCodeAt(J)!==U0||J+1>=Z||$.charCodeAt(J+1)!==i0)return null;let V=J+2;for(;V<Z&&$.charCodeAt(V)!==d0&&$.charCodeAt(V)!==g;)V++;if(V>=Z||$.charCodeAt(V)!==d0)return null;let X=$.slice(J+2,V);return X?{node:{type:_.footnoteReference,target:"#"+m0(X),text:X},end:V+1}:null}function zJ($,J,Z,Q){if(Q.disableBareUrls)return null;var V="",X=!1,Y=$.charCodeAt(J);if(Y===i9||Y===72?J+8<=Z&&$.charCodeAt(J+1)===H$&&$.charCodeAt(J+2)===H$&&$.charCodeAt(J+3)===T$&&($.charCodeAt(J+4)===G6&&$.charCodeAt(J+5)===g0&&$.charCodeAt(J+6)===j0&&$.charCodeAt(J+7)===j0?V="https://":$.charCodeAt(J+4)===g0&&$.charCodeAt(J+5)===j0&&$.charCodeAt(J+6)===j0&&(V="http://")):Y===I9||Y===70?J+6<=Z&&$.charCodeAt(J+1)===H$&&$.charCodeAt(J+2)===T$&&$.charCodeAt(J+3)===g0&&$.charCodeAt(J+4)===j0&&$.charCodeAt(J+5)===j0&&(V="ftp://"):(Y===b9||Y===87)&&J+4<=Z&&$.charCodeAt(J+1)===b9&&$.charCodeAt(J+2)===b9&&$.charCodeAt(J+3)===a0&&(V="www.",X=!0),!V)return null;let K=J+V.length;for(;K<Z;){let j=$.charCodeAt(K);if(j===b||j===g||j===R||j===V9||j===G0||j===u)break;K++}for(var G=0,q=0,F=J;F<K;F++){var W=$.charCodeAt(F);W===n0?G++:W===s0&&q++}let H=K;for(;H>J+V.length;){let j=$.charCodeAt(H-1);if(j===a0||j===h$||j===g0||j===E0||j===C9||j===s0){if(j===s0){if(G>=q)break;q--}H--}else if(j===D$){for(var z=H-2;z>J&&($.charCodeAt(z)>=c&&$.charCodeAt(z)<=a||$.charCodeAt(z)>=z0&&$.charCodeAt(z)<=D0||$.charCodeAt(z)>=n&&$.charCodeAt(z)<=s);)z--;z>=J&&$.charCodeAt(z)===O$?H=z:H--}else break}if(H<=J+V.length)return null;var D=J+(X?4:V.length),O=$.indexOf("/",D);if((O<0||O>H)&&(O=H),X&&$.indexOf(".",D)===-1)return null;for(var U=-1,v=-1,M=O-1;M>=D;M--)if($.charCodeAt(M)===a0)if(U<0)U=M;else{v=M;break}for(var A=v>=0?v+1:D,M=A;M<O;M++)if($.charCodeAt(M)===H0)return null;var I=$.slice(J,H),N=X?"http://"+I:I;return{node:{type:_.link,target:N,children:[{type:_.text,text:I}]},end:H}}function OJ($,J,Z,Q){if(Q.disableBareUrls)return null;for(var V=J,X=V;V<Z;){var Y=$.charCodeAt(V);if(Y>=c&&Y<=a||Y>=z0&&Y<=D0||Y>=n&&Y<=s||Y===a0||Y===E0||Y===X9||Y===36||Y===o9||Y===O$||Y===O9||Y===O0||Y===H9||Y===j0||Y===p0||Y===C9||Y===i0||Y===H0||Y===e||Y===D9||Y===I0||Y===X$||Y===_0||Y===p)V++;else break}if(V===X||V>=Z||$.charCodeAt(V)!==r9)return null;V++;for(var K=V,G=-1;V<Z;){var Y=$.charCodeAt(V);if(Y>=c&&Y<=a||Y>=z0&&Y<=D0||Y>=n&&Y<=s)V++;else if((Y===p||Y===H0)&&V>K)V++;else if(Y===a0){if(V===K)break;var q=$.charCodeAt(V-1);if(q===p||q===H0)break;if(V+1<Z){var F=$.charCodeAt(V+1);if(F>=c&&F<=a||F>=z0&&F<=D0||F>=n&&F<=s)G=V,V++;else break}else break}else break}if(G<0)return null;var W=$.charCodeAt(V-1);if(!(W>=c&&W<=a||W>=z0&&W<=D0||W>=n&&W<=s)||V<=G+1)return null;for(var H=-1,z=G-1;z>=K;z--)if($.charCodeAt(z)===a0){H=z;break}for(var D=H>=0?H+1:K,z=D;z<V;z++)if($.charCodeAt(z)===H0)return null;var O=$.slice(J,V);return{node:{type:_.link,target:"mailto:"+O,children:[{type:_.text,text:O}]},end:V}}function s$($){for(var J=0;J<$.length;J++)if($[J].type===_.link||"children"in $[J]&&Array.isArray($[J].children)&&s$($[J].children))return!0;return!1}function P$($){for(var J="",Z=0;Z<$.length;Z++){var Q=$[Z];Q.type===_.text?J+=Q.text:Q.type===_.breakLine?J+=" ":Q.type===_.codeInline?J+=Q.text:"children"in Q&&Array.isArray(Q.children)?J+=P$(Q.children):Q.type===_.image?J+=Q.alt||"":Q.type===_.link&&(J+=P$(Q.children))}return J}function d9($){let J=$.includes("&")?K$($):$;return{type:_.text,text:J}}function HJ($,J,Z,Q,V){if($.charCodeAt(J)!==G0)return null;var X=J+1;if(X>=Z)return null;var Y=$.charCodeAt(X);if(Y===E0&&X+1<Z&&$.charCodeAt(X+1)===p&&X+2<Z&&$.charCodeAt(X+2)===p){var K=X+3;if(K<Z&&$.charCodeAt(K)===u)return{node:{type:_.htmlComment,text:"",endsWithGreaterThan:!0},end:K+1};if(K+1<Z&&$.charCodeAt(K)===p&&$.charCodeAt(K+1)===u)return{node:{type:_.htmlComment,text:"-",endsWithGreaterThan:!0},end:K+2};var G=$.indexOf("-->",K);return G!==-1&&G<=Z-3?{node:{type:_.htmlComment,text:$.slice(J+4,G)},end:G+3}:null}if(Y===C9){var q=$.indexOf("?>",X+1);return q!==-1&&q<Z?{node:{type:_.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(J,q+2)},end:q+2}:null}if(Y===E0&&X+1<Z){var F=$.charCodeAt(X+1);if(F===U0&&$.slice(X+1,X+8)==="[CDATA["){var W=$.indexOf("]]>",X+8);return W!==-1&&W<Z?{node:{type:_.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(J,W+3)},end:W+3}:null}if(F>=c&&F<=a){var H=$.indexOf(">",X+2);return H!==-1&&H<Z?{node:{type:_.htmlSelfClosing,tag:"!"+$.slice(X+1,H),attrs:{},a:$.slice(J,H+1)},end:H+1}:null}}if(Y===j0){var z=X+1;if(z>=Z)return null;var D=$.charCodeAt(z);if(!(D>=c&&D<=a||D>=z0&&D<=D0))return null;for(z++;z<Z;){var O=$.charCodeAt(z);if(O>=c&&O<=a||O>=z0&&O<=D0||O>=n&&O<=s||O===p)z++;else break}for(;z<Z&&($.charCodeAt(z)===b||$.charCodeAt(z)===R||$.charCodeAt(z)===g);)z++;if(z<Z&&$.charCodeAt(z)===u){var U=$.slice(X+1,z).trim();return{node:{type:_.htmlSelfClosing,tag:U,attrs:{},a:$.slice(J,z+1),d:!0},end:z+1}}return null}if(!(Y>=c&&Y<=a||Y>=z0&&Y<=D0))return null;var v=j9($,J);if(!v)return null;var M=v.tag,A=M.toLowerCase(),I=v.selfClosing;if(I||n9(M))return{node:{type:_.htmlSelfClosing,tag:M,attrs:L9(v.attrs,M,V),a:$.slice(J,v.end)},end:v.end};var N=q$.has(A),j=f6($.slice(0,Z),v.end,M);if(j===-1)return{node:{type:_.htmlSelfClosing,tag:M,attrs:L9(v.attrs,M,V),a:$.slice(J,v.end)},end:v.end};var S=$J($,"</"+A,j),L=$.slice(v.end,S),w=[];if(N)L.trim()&&(w=[{type:_.text,text:L}]);else{var P=L.trim();if(P){var{inAnchor:y,inline:k}=Q;A==="a"&&(Q.inAnchor=!0);var E=P.indexOf(`

`)!==-1||/^#{1,6}\s/.test(P);E?(Q.inline=!1,w=M9(P,Q,V)):w=C0(P,0,P.length,Q,V),Q.inAnchor=y,Q.inline=k}}return{node:{type:_.htmlBlock,tag:M,attrs:L9(v.attrs,M,V),e:v.rawAttrs,children:w,text:L,c:!1},end:j}}var DJ=200,s9=0;function C0($,J,Z,Q,V){if(s9++,s9>DJ)return s9--,[{type:_.text,text:$.slice(J,Z)}];let X=Q;if(V.streaming||V.optimizeForStreaming){let t=function(o,x0){for(var f0=1,u0=x0+1;u0<o.length;u0++){var K0=o.charCodeAt(u0);if(K0===U0)f0++;else if(K0===d0&&(f0--,f0===0))return u0}return-1},B=$.slice(J,Z),f=B;for(var Y=0,K=0,G=0,q=0,F=0,W=-1,H=-1,z=-1,D=-1,O=-1,U=0;U<B.length;U++){var v=B.charCodeAt(U);v===O0?U+1<B.length&&B.charCodeAt(U+1)===O0?(Y++,W=U,U++):(K++,H=U):v===H0?U+1<B.length&&B.charCodeAt(U+1)===H0?(G++,z=U,U++):(q++,D=U):v===_0&&U+1<B.length&&B.charCodeAt(U+1)===_0&&(F++,O=U,U++)}var M=[];F%2===1&&O>=0&&M.push([O,2]),G%2===1&&z>=0&&M.push([z,2]),q%2===1&&D>=0&&M.push([D,1]),Y%2===1&&W>=0&&M.push([W,2]),K%2===1&&H>=0&&M.push([H,1]),M.sort(function(o,x0){return x0[0]-o[0]});for(var A=0;A<M.length;A++){var I=M[A][0],N=M[A][1];B=B.slice(0,I)+B.slice(I+N)}let Y0=0,w0=-1;for(let o=0;o<B.length;o++)B.charCodeAt(o)===e&&(Y0++,w0=o);if(Y0%2===1&&w0!==-1){let o=!1,x0=-1,f0=0;for(;f0<B.length;)B.charCodeAt(f0)===e&&(o?(o=!1,x0=-1):(x0=f0,o=!0)),f0++;o&&x0!==-1&&(B=B.slice(0,x0))}for(var j=!0;j;){j=!1;for(var S=-1,L=-1,w=-1,P=!1,y=0;y<B.length;y++){var k=B.charCodeAt(y);if(k===U0&&(y===0||B.charCodeAt(y-1)!==A0)){var E=y>0&&B.charCodeAt(y-1)===E0,x=E?y-1:y,T=t(B,y);if(T===-1)S=x,P=E,L=y+1,w=B.length;else{var h=T+1;if(h>=B.length)S=x,P=E,L=y+1,w=T;else if(B.charCodeAt(h)===n0){var R0=B.indexOf(")",h+1);R0===-1?(S=x,P=E,L=y+1,w=T,y=B.length):y=R0}else if(B.charCodeAt(h)===U0){var m=B.indexOf("]",h+1);m===-1?(S=x,P=E,L=y+1,w=T,y=B.length):y=m}else y=T}}}if(S>=0){var q0=P?"":B.slice(L,w);B=B.slice(0,S)+q0,j=!0}}let y0=B.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(y0&&y0.index!==void 0){for(var W0=!1,l=0,N0=0;N0<y0.index;N0++)B.charCodeAt(N0)===e&&l++;if(W0=l%2===1,!W0){let o=y0[1];B9(B,"</"+o,0)===-1&&(B=B.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}B!==f&&($=$.slice(0,J)+B,Z=J+B.length)}let F0=[];var b0=[];let J0=J;var B0=V.disableAutoLink||V.disableBareUrls||X.inAnchor?-1:$.indexOf("@",J);for(B0>=Z&&(B0=-1);J<Z;){let B=$.charCodeAt(J),f=null;if(B===e){if(f=YJ($,J,Z),!f){var X0=A9($,J,Z,e);J+=X0-1}}else if(B===O0||B===H0){var i=FJ($,J,Z);if(i){if(i.canOpen||i.canClose){J>J0&&F0.push(d9($.slice(J0,J)));var C=$.slice(J,J+i.len),M0=d9(C);b0.push({idx:F0.length,ch:B,len:i.len,canOpen:i.canOpen,canClose:i.canClose,active:!0}),F0.push(M0),J+=i.len,J0=J;continue}J+=i.len-1}}else B===_0?f=KJ($,J,Z,X,V):B===p0?f=GJ($,J,Z,X,V):B===U0?(J+1<Z&&$.charCodeAt(J+1)===i0&&(f=UJ($,J,Z,X)),f||(f=b6($,J,Z,X,V))):B===E0&&J+1<Z&&$.charCodeAt(J+1)===U0?f=b6($,J,Z,X,V):B===G0?(f=m6($,J,Z),!f&&!V.disableParsingRawHTML&&!V.ignoreHTMLBlocks&&(f=HJ($,J,Z,X,V))):(B===i9||B===b9||B===I9)&&!X.inAnchor&&!V.disableAutoLink&&(J===0||$.charCodeAt(J-1)!==G0)&&(f=zJ($,J,Z,V));if(!f&&B0>=0&&B0-J<=64&&!X.inAnchor&&!V.disableAutoLink&&!V.disableBareUrls&&(B>=c&&B<=a||B>=z0&&B<=D0||B>=n&&B<=s)&&(f=OJ($,J,Z,V),!f&&J>=B0&&(B0=$.indexOf("@",J+1),B0>=Z&&(B0=-1))),B===m$){J>J0&&F0.push(d9($.slice(J0,J))),F0.push({type:_.breakLine}),J++,J0=J;continue}if(f)J>J0&&F0.push(d9($.slice(J0,J))),F0.push(f.node),J=f.end,J0=J;else{if(B===A0&&J+1<Z){let Y0=$.charCodeAt(J+1);if(t$(Y0)&Z0){J>J0&&F0.push(d9($.slice(J0,J))),F0.push(d9($[J+1])),J+=2,J0=J;continue}}if(J++,B0<0||B0-J>64)for(;J<Z;){var L0=$.charCodeAt(J);if(L0<c0&&!w6[L0])J++;else break}}}if(Z>J0){let B=$.slice(J0,Z);(V.streaming||V.optimizeForStreaming)&&(B=B.replace(/\*\*([^*]+)$/,"$1"),B.match(/\*[^*]+$/)&&(B=B.replace(/\*([^*]+)$/,"$1")),B=B.replace(/__([^_]+)$/,"$1"),B.match(/_[^_]+$/)&&(B=B.replace(/_([^_]+)$/,"$1")),B=B.replace(/~~([^~]+)$/,"$1"),B=B.replace(/\[([^\]]+)$/,"$1"),B=B.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),B&&F0.push(d9(B))}return b0.length>0&&WJ(F0,b0,Q,V),s9--,F0}var jJ=500;function M9($,J,Z){var Q=J.g||0;if(Q>jJ)return[{type:_.text,text:$}];J.g=Q+1;let V=J;if(Z.streaming||Z.optimizeForStreaming){var X=$.length;X>0&&$.charCodeAt(X-1)===g&&X--;for(var Y=X;Y>0&&$.charCodeAt(Y-1)!==g;)Y--;if(Y>0&&$.charCodeAt(Y)===I0){for(var K=!0,G=Y;G<X;G++){var q=$.charCodeAt(G);if(q!==b&&q!==R&&q!==p&&q!==g0&&q!==I0){K=!1;break}}if(K){for(var F=Y-1;F>0&&$.charCodeAt(F-1)!==g;)F--;$.charCodeAt(F)===I0&&($=$.slice(0,F).trimEnd())}}var W=$.trim(),H=W.lastIndexOf(`
`),z=H===-1?W:W.slice(H+1);if(z.length>0&&z.charCodeAt(0)===I0){for(var D=!1,O=!1,U=1;U<z.length;U++){var v=z.charCodeAt(U);v===I0&&(D=!0),v===p&&(O=!0)}D&&O&&($=H===-1?"":$.slice(0,$.lastIndexOf(z)).trimEnd())}for(var M=-1,A=-1,I=-1,N=$.length-1;N>=0;N--)if($.charCodeAt(N)===G0){var j=N+1<$.length?$.charCodeAt(N+1):0;if(j>=c&&j<=a||j>=z0&&j<=D0){for(var S=N+2;S<$.length;){var L=$.charCodeAt(S);if(L>=c&&L<=a||L>=z0&&L<=D0||L>=n&&L<=s)S++;else break}for(var w=S;w<$.length&&$.charCodeAt(w)!==u;)w++;if(w<$.length){for(var P=!1,y=w+1;y<$.length;y++)if($.charCodeAt(y)===G0){P=!0;break}P||(M=N,A=S,I=w+1)}}break}if(M>=0){for(var k=0,E=0;E<M;E++)$.charCodeAt(E)===e&&k++;if(k%2===0){var x=$.slice(M+1,A);B9($,"</"+x,0)===-1&&($=$.slice(0,M)+$.slice(I))}}var T=$.length;if(T>0){for(var h=$.lastIndexOf(`
`),R0=h===-1?0:h+1,m=T,q0=R0,W0=0;q0<m&&$.charCodeAt(q0)===b&&W0<3;)q0++,W0++;if(q0<m){var l=$.charCodeAt(q0),N0=!1;if(l===O0||l===p||l===H9){var F0=q0+1;if(F0>=m||$.charCodeAt(F0)===b||$.charCodeAt(F0)===R){for(var b0=F0;b0<m&&($.charCodeAt(b0)===b||$.charCodeAt(b0)===R);)b0++;b0>=m&&(N0=!0)}}else if(l>=n&&l<=s){for(var J0=q0;J0<m&&$.charCodeAt(J0)>=n&&$.charCodeAt(J0)<=s;)J0++;if(J0<m&&($.charCodeAt(J0)===a0||$.charCodeAt(J0)===s0)){var B0=J0+1;if(B0>=m||$.charCodeAt(B0)===b||$.charCodeAt(B0)===R){for(var X0=B0;X0<m&&($.charCodeAt(X0)===b||$.charCodeAt(X0)===R);)X0++;X0>=m&&(N0=!0)}}}N0&&($=$.slice(0,R0).trimEnd())}}}if(J.inline)return C0($,0,$.length,J,Z);let i=[],C=0,M0=$.length;if(C===0&&$.startsWith("---")){let t=l$($);if(t&&t.hasValidYaml){if(Z.preserveFrontmatter!==!1){let y0=$.slice(0,t.endPos).trimEnd();i.push({type:_.frontmatter,text:y0})}C=t.endPos}}for(;C<M0;){for(var L0=$.indexOf(`
`,C),B=L0<0?M0:L0;C<M0&&t0($,C,B);)C=B<M0?B+1:B,C<M0&&(L0=$.indexOf(`
`,C),B=L0<0?M0:L0);if(C>=M0)break;$.charCodeAt(C),v0($,C,B);let t=null;if($.charCodeAt(C)!==a9&&Q0>=4&&!J.inHTML)t=sZ($,C);else if($.charCodeAt(C)!==a9){let y0=C+$0,o=$.charCodeAt(y0);o===X9?t=g6($,C,J,Z):o===u?t=tZ($,C,J,Z):o===e||o===_0?t=nZ($,C,J):o===p||o===O0||o===H0?(t=S9($,C),!t&&(t=A6($,C,J,Z))):o===H9||o>=n&&o<=s?t=A6($,C,J,Z):o===G0?t=T6($,C,J,Z):o===I0?t=_6($,C,J,Z):o===U0&&(t=JJ($,C,J))}if(!t){for(var f=!1,Y0=C;Y0<B;Y0++)if($.charCodeAt(Y0)===I0){f=!0;break}f&&(t=_6($,C,J,Z))}if(t||(t=VJ($,C,J,Z)),t)t.node.type!==_.refCollection&&i.push(t.node),C=t.end;else{var w0=$.indexOf(`
`,C);C=w0<0?M0:w0+1}}return J.g=Q,i}function BJ($,J){s9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=A$($);let Z={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},Q={...J,slugify:J?.slugify?X=>J.slugify(X,m0):m0,sanitizer:J?.sanitizer||w9,tagfilter:J?.tagfilter!==!1};R$($,Z.refs,Q);let V=M9($,Z,Q);return Z.refs&&Object.keys(Z.refs).length>0?[{type:_.refCollection,refs:Z.refs},...V]:V}function C6($,J,Z,Q){var V=j9($,J);return V?{tagName:V.tag,tagLower:V.tag.toLowerCase(),attrs:V.rawAttrs,whitespaceBeforeAttrs:V.whitespaceBeforeAttrs,isSelfClosing:V.selfClosing,hasSpaceBeforeSlash:V.hasSpaceBeforeSlash,isClosing:V.isClosing,hasNewline:V.whitespaceBeforeAttrs.includes(`
`)||V.rawAttrs.includes(`
`),endPos:V.end}:null}function y$($,J,Z){s9=0,$=A$($),!J.refs&&(J.refs={}),R$($,J.refs,Z);let Q=M9($,J,Z);return J.refs&&Object.keys(J.refs).length>0?[{type:_.refCollection,refs:J.refs},...Q]:Q}var _J=/^\n+/,d6=Symbol("markdown-options");function p6($){if(!$)return"";let J=[];for(let Z in $){let Q=$[Z];Q===!0?J.push(` ${Z}`):Q!=null&&Q!==!1&&J.push(` ${Z}="${String(Q)}"`)}return J.length?J.join(""):""}var J9=$=>Array.isArray($)?$:$!==null?[$]:[],NJ={[_.blockQuote]:($,{h:J,output:Z,state:Q,slug:V})=>{let X={},Y=$.children;return $.alert&&(X.class="markdown-alert-"+V($.alert.toLowerCase(),m0),Y=[{attrs:{},children:[{type:_.text,text:$.alert}],c:!0,type:_.htmlBlock,tag:"header"},...Y]),J("blockquote",{key:Q.key,...X},...J9(Z(Y,Q)))},[_.breakLine]:($,{h:J,state:Z})=>J("br",{key:Z.key}),[_.breakThematic]:($,{h:J,state:Z})=>J("hr",{key:Z.key}),[_.frontmatter]:($,{h:J,state:Z,options:Q})=>Q.preserveFrontmatter?J("pre",{key:Z.key},$.text):null,[_.codeBlock]:($,{h:J,state:Z})=>{let Q=$.lang?K$($.lang):"",V={...$.attrs||{},class:Q?`language-${Q} lang-${Q}`:""};return J("pre",{key:Z.key},J("code",V,$.text))},[_.codeInline]:($,{h:J,state:Z})=>J("code",{key:Z.key},$.text),[_.footnoteReference]:($,{h:J,state:Z,sanitize:Q})=>J("a",{key:Z.key,href:Q($.target,"a","href")},J("sup",{},$.text)),[_.gfmTask]:($,{h:J,state:Z})=>J("input",{key:Z.key,checked:$.completed,readOnly:!0,type:"checkbox"}),[_.heading]:($,{h:J,output:Z,state:Q})=>J(`h${$.level}`,{id:$.id,key:Q.key},...J9(Z($.children,Q))),[_.htmlBlock]:($,J)=>{let{h:Z,state:Q,options:V,output:X,sanitize:Y,slug:K,refs:G}=J;if(V.tagfilter&&v$($.tag)){let W=typeof $.a=="string"?$.a:`<${$.tag}${p6($.attrs)}>`;return Z("span",{key:Q.key},W)}if($.a&&$.c){let W=$.tag.toLowerCase(),H=y6(W),z=/<[a-z][^>]{0,100}>/i.test($.a),D=/<\/?pre\b/i.test($.a);if(H&&!z){let I=$.a.replace(new RegExp("\\s*</"+W+">\\s*$","i"),"");return V.tagfilter&&(I=_$(I)),Z($.tag,{key:Q.key,...$.attrs},I)}let O=I=>{if((I.type===_.htmlSelfClosing||I.type===_.htmlBlock)&&I.d)return[];if(I.type===_.paragraph){let N=I.children;return N?N.flatMap(O):[]}return I.type===_.text?I.text?.trim()?[I]:[]:I.type===_.htmlBlock&&I.children?[{...I,children:I.children?.flatMap(O)}]:[I]};if(D){var q=$.a,F=new RegExp("\\s*</"+W+">\\s*$","i");q=q.replace(F,"");let I=V.tagfilter?_$(q):q;return Z($.tag,{key:Q.key,...$.attrs,innerHTML:I})}let U={slugify:I=>K(I,m0),sanitizer:Y,tagfilter:!0},v=$.a.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${$.tag}(\\s[^>]*)?>(\\s*</${$.tag}>)?$`,"i").test(v))return Z($.tag,{key:Q.key,...$.attrs});let A=y$(v,{inline:!1,refs:G,inHTML:!1},U);return Z($.tag,{key:Q.key,...$.attrs},...J9(X(A.flatMap(O),Q)))}return Z($.tag,{key:Q.key,...$.attrs},...J9($.children?X($.children,Q):null))},[_.htmlSelfClosing]:($,{h:J,state:Z,options:Q})=>{if(Q.tagfilter&&v$($.tag)){let V=typeof $.a=="string"?$.a:`<${$.tag}${p6($.attrs)} />`;return J("span",{key:Z.key},V)}return J($.tag,{key:Z.key,...$.attrs})},[_.image]:($,{h:J,state:Z,sanitize:Q})=>J("img",{key:Z.key,alt:$.alt?.length>0?$.alt:void 0,title:$.title||void 0,src:Q($.target,"img","src")}),[_.link]:($,{h:J,output:Z,state:Q})=>{let V={key:Q.key};return $.target!=null&&(V.href=r$($.target)),$.title&&(V.title=$.title),J("a",V,...J9(Z($.children,Q)))},[_.table]:($,{h:J,output:Z,state:Q})=>{let V=$.header.map((Y,K)=>J("th",{key:K,style:$.align[K]==null?{}:{textAlign:$.align[K]}},...J9(Z(Y,Q)))),X=$.cells.map((Y,K)=>J("tr",{key:K},...Y.map((G,q)=>J("td",{key:q,style:$.align[q]==null?{}:{textAlign:$.align[q]}},...J9(Z(G,Q))))));return J("table",{key:Q.key},J("thead",{},J("tr",{},...V)),J("tbody",{},...X))},[_.text]:$=>$.text,[_.textFormatted]:($,{h:J,output:Z,state:Q})=>J($.tag,{key:Q.key},...J9(Z($.children,Q))),[_.orderedList]:($,{h:J,output:Z,state:Q})=>{let V=$.items.map((Y,K)=>J("li",{key:K},...J9(Z(Y,Q)))),X={key:Q.key,start:$.start};return J("ol",X,...V)},[_.unorderedList]:($,{h:J,output:Z,state:Q})=>{let V=$.items.map((X,Y)=>J("li",{key:Y},...J9(Z(X,Q))));return J("ul",{key:Q.key},...V)},[_.paragraph]:($,{h:J,output:Z,state:Q})=>J("p",{key:Q.key},...J9(Z($.children,Q))),[_.ref]:()=>null};function IJ($,J,Z,Q,V,X,Y,K){let G=NJ[$.type];return G?G($,{h:Q,output:J,state:Z,sanitize:V,slug:X,refs:Y,options:K}):null}var bJ=($,J,Z,Q,V,X)=>{let Y=(q,F,W)=>{let H=()=>IJ(q,z=>F(Array.isArray(z)?z:[z]),W,J,Z,Q,V,X);return $?$(H,q,F,W):H()},K=q=>q.map(F=>"text"in F?F.text:""),G=(q,F={})=>{let W=(F.renderDepth||0)+1;if(W>2500)return K(q);F.renderDepth=W;let H=F.key,z=[],D=!1;for(let O=0;O<q.length;O++){F.key=O;let U=Y(q[O],G,F),v=typeof U=="string";if(v&&D)z[z.length-1]+=U;else if(U!==null)if(Array.isArray(U))for(let M=0;M<U.length;M++)z.push(U[M]);else z.push(U);D=v}return F.key=H,F.renderDepth=W-1,z};return G},PJ=($,J)=>{if(typeof $=="function"||!J)return $;let Z=$,Q=p9(J,Z,void 0);if(!Q)return $;if(typeof Q=="function"||typeof Q=="object"&&Q!==null&&("render"in Q||"setup"in Q))return Q;let V=p9(J,`${Z}.component`,Z);return typeof V=="function"||typeof V=="object"&&V!==null&&("render"in V||"setup"in V),V};function RJ($,J){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||m0,V=Z.sanitizer||w9,X=D=>c6(D,{...Z,wrapper:null});function Y(D,O,...U){let v=typeof D=="string"?D:"",M=Z.overrides&&Object.keys(Z.overrides).length>0,A=M?p9(Z.overrides,`${v}.props`,{}):null,I=O||null;if(I)for(let P in I){let y=I[P];if(typeof y=="string"&&y.length>0&&y[0]==="<"&&(P6.test(y)||R6.test(y)||C6(y,0))){let k=X(y.trim());I[P]=P==="innerHTML"&&Array.isArray(k)?k[0]:k}}let N=M?PJ(D,Z.overrides):D,j=I?.class,S=A?.class,L=j&&S?`${j} ${S}`:j||S||void 0;if(!M&&!L&&!I?.innerHTML)return e$(N,I||{},...U);let w=I?{...I}:{};if(A)for(let P in A)w[P]=A[P];return L&&(w.class=L),I?.innerHTML&&A?.innerHTML===void 0&&(w.innerHTML=I.innerHTML),e$(N,w,...U)}let K=Z.createElement||((D,O,...U)=>e$(D,O||{},...U)),G={slugify:D=>Q(D,m0),sanitizer:V,tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings,forceBlock:Z.forceBlock,forceInline:Z.forceInline,preserveFrontmatter:Z.preserveFrontmatter},q=$[0]&&$[0].type===_.refCollection?$[0].refs:{},F=bJ(Z.renderRule,Y,V,Q,q,Z),W=F($,{inline:Z.forceInline,refs:q}),H=[];for(let D in q)D.charCodeAt(0)===i0&&H.push({identifier:D,footnote:q[D].target});if(H.length){let D=H.map(O=>{let U=O.identifier.slice(1),v=y$(O.footnote,{inline:!0,refs:q},G),M=F(v,{inline:!0,refs:q}),A=J9(M);return Y("div",{id:Q(U,m0)},U+": ",...A)});W.push(Y("footer",{key:"footer"},...D))}if(Z.wrapper===null)return W.length===0?null:W.length===1?W[0]:W;let z=Z.wrapper||(Z.forceInline?"span":"div");return W.length>1||Z.forceWrapper?K(z,{...Z.wrapperProps},...W):W.length===1?W[0]:null}function c6($="",J={}){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||m0,V=Z.sanitizer||w9,X=Z.forceInline||!Z.forceBlock&&!o$.test($),Y={slugify:F=>Q(F,m0),sanitizer:V,tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings,forceBlock:Z.forceBlock,forceInline:X,preserveFrontmatter:Z.preserveFrontmatter},K={};X||R$($,K,Y);let G=$;if(!X){let F=G.length;for(;F>0&&(G[F-1]===`
`||G[F-1]==="\r");)F--;G=G.slice(0,F),G=`${G.replace(_J,"")}

`}let q=y$(X?$:G,{inline:X,refs:K},Y);return RJ(q,{...Z,forceInline:X})}var mJ=$=>(AJ(d6,$.options),$.children),wJ=$=>{let J=vJ(d6,void 0),Z=u6(()=>{var G=Object.assign({},J,$.options);return G.overrides=Object.assign({},J?.overrides,$.options?.overrides),G}),Q=$.children===null||$.children===void 0?"":$.children,{options:V,children:X,...Y}=$;return u6(()=>c6(Q,{...Z.value,wrapperProps:{...Z.value?.wrapperProps,...Y}})).value},cJ=wJ;export{m0 as slugify,w9 as sanitizer,BJ as parser,cJ as default,c6 as compiler,RJ as astToJSX,_ as RuleType,mJ as MarkdownProvider,d6 as MarkdownOptionsKey,wJ as Markdown};
