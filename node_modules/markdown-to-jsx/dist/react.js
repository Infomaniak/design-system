var jZ=Object.defineProperty,MZ=($,Q)=>{for(var Z in Q)jZ($,Z,{get:Q[Z],enumerable:!0,configurable:!0,set:V=>Q[Z]=()=>V})};import*as o0 from"react";var b=32,R=9,J9=13,x=10,Y0=96,I0=126,O0=91,r0=94,d=62,K9=35,W6=36,r9=37,c=45,p0=61,_0=92,D0=42,B0=95,W0=60,i9=64,d0=93,g0=33,H$=38,E0=58,T$=70,b9=102,a9=104,P9=119,D$=116,h$=112,z6=115,U6=160,O6=12,m$=44,B$=59,u9=63,s0=46,A0=47,H9=39,W9=34,D9=43,P0=124,B9=123,K$=125,t0=40,e0=41,n9=30,C$=31,Z0=48,Q0=57,r=65,s=90,H0=97,j0=122,c0=128,X9=32,AZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},j=AZ,s$={};MZ(s$,{startsWith:()=>d$,slugify:()=>m0,skipWhitespace:()=>CZ,shouldFilterTag:()=>_$,sanitizer:()=>y9,parseFrontmatterBounds:()=>o$,normalizeInput:()=>v$,isVoidElement:()=>s9,isUnicodeWhitespace:()=>TZ,isUnicodePunctuation:()=>hZ,isSpaceOrTabCode:()=>SZ,isDigitCode:()=>EZ,isAlphaCode:()=>gZ,isAlnumCode:()=>j6,isASCIIWhitespace:()=>kZ,isASCIIPunctuation:()=>LZ,inlineCharTypeTable:()=>yZ,htmlAttrsToJSXProps:()=>i0,hasKeys:()=>uZ,getTag:()=>pZ,getOverrideProps:()=>dZ,get:()=>d9,findLineEnd:()=>mZ,extractPlainText:()=>A6,endsWith:()=>IZ,encodeUrlTarget:()=>i$,decodeEntityReferences:()=>G$,cx:()=>a$,containsTagfilterTag:()=>n$,charClassTable:()=>z9,applyTagFilterToText:()=>N$,VOID_ELEMENTS:()=>c$,SHOULD_RENDER_AS_BLOCK_R:()=>r$,SANITIZE_R:()=>p$,NAMED_CODES_TO_UNICODE:()=>NZ,HTML_TO_JSX_MAP:()=>B6,HTML_CHAR_CODE_R:()=>D6,CC_WHITESPACE:()=>w9,CC_SPACE_TAB:()=>j$,CC_PUNCTUATION:()=>R9,CC_NEWLINE:()=>l$,CC_DIGIT:()=>A$,CC_ALPHA_UPPER:()=>M6,CC_ALPHA:()=>X$,ATTRIBUTES_TO_SANITIZE:()=>bZ});import{NAMED_CODES_TO_UNICODE as vZ,decodeEntity as _Z}from"#entities";function o$($){if(!d$($,"---"))return null;let Q=3;for(;Q<$.length&&($[Q]===" "||$[Q]==="	");)Q++;if(Q<$.length&&$[Q]==="\r"&&Q++,Q>=$.length||$[Q]!==`
`)return null;Q++;let Z=!1;for(;Q<$.length;){let V=Q;for(;Q<$.length&&$[Q]!==`
`&&$[Q]!=="\r";)Q++;if(Q>=$.length)break;let Y=Q;if($[Q]==="\r"&&Q++,Q<$.length&&$[Q]===`
`&&Q++,d$($,"---",V))return{endPos:Q,hasValidYaml:Z};let J=$.indexOf(":",V);J!==-1&&J<Y&&(Z=!0)}return null}var NZ=vZ,D6=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,B6={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function i0($){var Q={};for(var Z in $){var V=Z.toLowerCase(),Y=B6[V];if(Y)Q[Y]=$[Z];else{var J=Z.indexOf(":");J!==-1?Q[Z.slice(0,J)+Z[J+1].toUpperCase()+Z.slice(J+2)]=$[Z]:Q[Z]=$[Z]}}return Q}var r$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function G$($){return $.indexOf("&")===-1?$:$.replace(D6,(Q,Z)=>{var V=_Z(Z);if(V)return V;if(Z[0]==="#"){var Y=Z[1]==="x"||Z[1]==="X"?parseInt(Z.slice(2),16):parseInt(Z.slice(1),10);return Y===0||Y>=55296&&Y<=57343||Y>1114111?"\uFFFD":Y<=65535?String.fromCharCode(Y):String.fromCharCode(55296+(Y-65536>>10),56320+(Y-65536&1023))}return Q})}var p$=/(javascript|vbscript|data(?!:image)):/i;function y9($){if(p$.test($))return null;if($.indexOf("%")===-1)return $;try{let Q=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(p$.test(Q))return null}catch{return null}return $}var h0={},l0,w0;for(l0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],w0=0;w0<l0.length;w0++)h0[l0[w0]]="a";for(h0[231]=h0[199]="c",h0[240]=h0[208]="d",l0=[200,201,202,203,233,232,234,235],w0=0;w0<l0.length;w0++)h0[l0[w0]]="e";for(l0=[207,239,206,238,205,237,204,236],w0=0;w0<l0.length;w0++)h0[l0[w0]]="i";for(h0[209]=h0[241]="n",l0=[248,216,339,338,213,245,212,244,211,243,210,242],w0=0;w0<l0.length;w0++)h0[l0[w0]]="o";for(l0=[220,252,219,251,218,250,217,249],w0=0;w0<l0.length;w0++)h0[l0[w0]]="u";h0[376]=h0[255]=h0[221]=h0[253]="y";function j6($){return $<c0&&(z9[$]&(X$|A$))!==0}function m0($){for(var Q=[],Z=0;Z<$.length;Z++){var V=$.charCodeAt(Z);if(j6(V))V>=r&&V<=s?Q.push(String.fromCharCode(V+X9)):Q.push($[Z]);else if(V===b||V===c)Q.push("-");else{var Y=h0[V];Y&&Q.push(Y)}}return Q.join("")}function d$($,Q,Z){return $.startsWith(Q,Z)}function IZ($,Q,Z){return $.startsWith(Q,(Z===void 0?$.length:Z)-Q.length)}var c$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function s9($){let Q=$.toLowerCase();if(c$.has(Q))return!0;let Z=Q.indexOf(":");return Z!==-1?(Q=Q.slice(Z+1),c$.has(Q)):!1}var bZ=["src","href","data","formAction","srcDoc","action"],w9=1,R9=2,X$=4,A$=8,l$=16,j$=32,M6=64,H6=1,PZ=2,wZ=3,RZ=4,z9=(function(){let $=new Uint8Array(128),Q;for($[R]=w9|j$,$[x]=w9|l$,$[O6]=w9,$[J9]=w9|l$,$[b]=w9|j$,Q=g0;Q<=A0;Q++)$[Q]=R9;for(Q=E0;Q<=i9;Q++)$[Q]=R9;for(Q=O0;Q<=Y0;Q++)$[Q]=R9;for(Q=B9;Q<=I0;Q++)$[Q]=R9;for(Q=Z0;Q<=Q0;Q++)$[Q]=A$;for(Q=r;Q<=s;Q++)$[Q]=X$|M6;for(Q=H0;Q<=j0;Q++)$[Q]=X$;return $})(),yZ=(function(){let $=new Uint8Array(128);return $[_0]=PZ,$[O0]=RZ,$[D0]=$[B0]=$[I0]=$[p0]=wZ,$[Y0]=$[W0]=$[i9]=$[d0]=$[x]=$[b]=$[g0]=H6,$[b9]=$[a9]=$[P9]=H6,$})();function LZ($){return $<c0&&(z9[$]&R9)!==0}function kZ($){return $<c0&&(z9[$]&w9)!==0}function SZ($){return $<c0&&(z9[$]&j$)!==0}function gZ($){return $<c0&&(z9[$]&X$)!==0}function EZ($){return $<c0&&(z9[$]&A$)!==0}var xZ=/[\p{P}\p{S}]/u,fZ=/\p{Zs}/u;function TZ($){if(!$)return!0;let Q=$.charCodeAt(0);return Q<c0?(z9[Q]&w9)!==0:fZ.test($)}function hZ($){if(typeof $=="number")return $<c0&&(z9[$]&R9)!==0;if(!$)return!1;let Q=$.charCodeAt(0);return Q<c0?(z9[Q]&R9)!==0:xZ.test($)}function mZ($,Q){let Z=$.indexOf(`
`,Q);return Z===-1?$.length:Z>0&&$.charCodeAt(Z-1)===J9?Z-1:Z}var p9=[];function v$($){var Q=$.indexOf("\r"),Z=$.indexOf("\0");if(Q===-1&&Z===-1)return $;var V=$.length;p9.length=0;var Y=0,J=0;for(Q===-1?J=Z:Z===-1?J=Q:J=Q<Z?Q:Z;J<V;J++){var K=$.charCodeAt(J);K===J9?(Y<J&&p9.push($.slice(Y,J)),J+1<V&&$.charCodeAt(J+1)===x&&J++,p9.push(`
`),Y=J+1):K===0&&(Y<J&&p9.push($.slice(Y,J)),p9.push("\uFFFD"),Y=J+1)}return Y<V&&p9.push($.slice(Y)),p9.join("")}function CZ($,Q,Z){let V=Z??$.length;for(;Q<V&&($[Q]===" "||$[Q]==="	");)Q++;return Q}function uZ($){if(!$)return!1;for(var Q in $)return!0;return!1}function d9($,Q,Z){for(var V=$,Y=Q.split("."),J=0;J<Y.length&&(V=V?.[Y[J]],V!==void 0);)J++;return V||Z}function i$($){for(var Q=!1,Z=0;Z<$.length;Z++){var V=$.charCodeAt(Z);if(V<=b||V===W9||V===r9||V===W0||V===d||V===O0||V===_0||V===d0||V===r0||V===Y0||V>=123){Q=!0;break}}if(!Q)return $;for(var Y="",Z=0;Z<$.length;Z++){var V=$.charCodeAt(Z);if(V===r9&&Z+2<$.length){var J=$.charCodeAt(Z+1),K=$.charCodeAt(Z+2);if((J>=Z0&&J<=Q0||J>=r&&J<=T$||J>=H0&&J<=b9)&&(K>=Z0&&K<=Q0||K>=r&&K<=T$||K>=H0&&K<=b9)){Y+=$[Z]+$[Z+1]+$[Z+2],Z+=2;continue}}Y+=encodeURI($[Z])}return Y}function a$(...$){return $.filter(Boolean).join(" ")}function pZ($,Q){if(!Q)return $;let Z=d9(Q,$,void 0);return typeof Z=="string"?Z:typeof Z=="object"&&Z.component?Z.component:$}function dZ($,Q){if(!Q)return{};let Z=d9(Q,$,void 0);return typeof Z=="object"&&Z.props?Z.props:{}}function A6($,Q){for(var Z="",V=0,Y=$.length;V<Y;V++){var J=$[V],K=J.type;if(K===Q.text||K===Q.codeInline){var X=J.text;X&&(Z+=X)}else K===Q.textFormatted||K===Q.link?J.children&&(Z+=A6(J.children,Q)):K===Q.image&&J.alt&&(Z+=J.alt)}return Z}var cZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),M$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function _$($){return cZ.has($.toLowerCase())}function n$($){return M$.lastIndex=0,M$.test($)}function N$($){return M$.lastIndex=0,$.replace(M$,function(Q,Z,V,Y){return"&lt;"+Z+V+Y})}var L6=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,k6=/^<[A-Z]/,t$=["script","pre","style","textarea"],q$=new Set(t$),lZ=/<(?:pre|script|style|textarea)\b/i,oZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),S6=new Uint8Array(128);(function(){for(var $=[Y0,D0,B0,I0,p0,O0,g0,W0,_0,C$,a9,P9,b9],Q=0;Q<$.length;Q++)S6[$[Q]]=1})();var v6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function g6($){return q$.has($)}function E6($){return lZ.test($)}function x6($,Q,Z){for(var V=Q,Y=Z;V<Y&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;if(V>=Y)return!1;$.charCodeAt(V)===P0&&V++;for(var J=0;V<Y;){for(;V<Y&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;if(V>=Y)break;if($.charCodeAt(V)===P0&&J>0){for(var K=V+1;K<Y&&($.charCodeAt(K)===b||$.charCodeAt(K)===R);)K++;if(K>=Y)return!0}if($.charCodeAt(V)===E0&&V++,V>=Y||$.charCodeAt(V)!==c)return!1;for(;V<Y&&$.charCodeAt(V)===c;)V++;for(V<Y&&$.charCodeAt(V)===E0&&V++,J++;V<Y&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;if(V<Y)if($.charCodeAt(V)===P0)V++;else return!1}return J>0}function j9($,Q){if($.charCodeAt(Q)!==W0)return null;let Z=Q+1,V=$.length,Y=!1;$.charCodeAt(Z)===A0&&(Z++,Y=!0);let J=Z,K=$.charCodeAt(Z);if(!(K>=H0&&K<=j0||K>=r&&K<=s))return null;for(;Z<V&&($.charCodeAt(Z)>=H0&&$.charCodeAt(Z)<=j0||$.charCodeAt(Z)>=r&&$.charCodeAt(Z)<=s||$.charCodeAt(Z)>=Z0&&$.charCodeAt(Z)<=Q0||$.charCodeAt(Z)===c);)Z++;let X=$.slice(J,Z);if(!X)return null;let G=Z;for(;Z<V&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R||$.charCodeAt(Z)===x);)Z++;let F=$.slice(G,Z);if(Z===G&&Z<V){var W=$.charCodeAt(Z);if(W!==d&&W!==A0)return null}let z=Z,H={},O=!1;for(;Z<V;){let L=$.charCodeAt(Z);if(L===d){let k=$.slice(z,Z);return{tag:X,attrs:H,selfClosing:!1,end:Z+1,rawAttrs:k,whitespaceBeforeAttrs:F,isClosing:Y,hasSpaceBeforeSlash:O}}if(L===b||L===R||L===x){Z++;continue}if(L===A0&&Z+1<V&&$.charCodeAt(Z+1)===d){let k=$.slice(z,Z);return O=Z>z&&$.charCodeAt(Z-1)===b,{tag:X,attrs:H,selfClosing:!0,end:Z+2,rawAttrs:k,whitespaceBeforeAttrs:F,isClosing:Y,hasSpaceBeforeSlash:O}}var B=Z,q=$.charCodeAt(Z);if(!(q>=H0&&q<=j0||q>=r&&q<=s||q===B0||q===E0))return null;for(Z++;Z<V;){var U=$.charCodeAt(Z);if(U>=H0&&U<=j0||U>=r&&U<=s||U>=Z0&&U<=Q0||U===B0||U===s0||U===E0||U===c)Z++;else break}for(var M=$.slice(B,Z);Z<V&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R);)Z++;if($.charCodeAt(Z)!==p0){H[M]="";continue}for(Z++;Z<V&&($.charCodeAt(Z)===b||$.charCodeAt(Z)===R);)Z++;var D=$.charCodeAt(Z);if(D===W9||D===H9){Z++;for(var _=Z;Z<V&&$.charCodeAt(Z)!==D;)Z++;if(Z>=V)return null;if(H[M]=$.slice(_,Z),Z++,Z<V){var g=$.charCodeAt(Z);if(g!==b&&g!==R&&g!==x&&g!==d&&g!==A0)return null}}else if(D===B9){var N=1,_=Z;for(Z++;Z<V&&N>0;){var U=$.charCodeAt(Z);U===B9?N++:U===K$&&N--,Z++}H[M]=$.slice(_,Z)}else{for(var _=Z;Z<V;){var A=$.charCodeAt(Z);if(A===b||A===R||A===d||A===x||A===W9||A===H9||A===p0||A===W0||A===Y0)break;Z++}if(Z===_)return null;H[M]=$.slice(_,Z)}}return null}function R$($,Q,Z){for(var V=0,Y=$.length,J=!1;V<Y;){for(var K=$.indexOf(`
`,V),X=K<0?Y:K,G=V,F=0;G<X&&F<4;)if($.charCodeAt(G)===b)F++,G++;else if($.charCodeAt(G)===R)F+=4,G++;else break;if(G>=X){J=!1,V=K<0?Y:K+1;continue}if(F<4){var W=$.charCodeAt(G);if(W===Y0||W===I0){for(var z=W,H=0,O=G;O<X&&$.charCodeAt(O)===z;)H++,O++;if(H>=3){J=!1;for(var B=K<0?Y:K+1;B<Y;){for(var q=B,U=0;q<Y&&U<4;){var M=$.charCodeAt(q);if(M===b)U++,q++;else if(M===R)U+=4,q++;else break}if(U<4&&q<Y&&$.charCodeAt(q)===z){for(var D=0;q<Y&&$.charCodeAt(q)===z;)D++,q++;if(D>=H){for(;q<Y&&($.charCodeAt(q)===b||$.charCodeAt(q)===R);)q++;if(q>=Y||$.charCodeAt(q)===x){V=q>=Y?Y:q+1;break}}}for(;B<Y&&$.charCodeAt(B)!==x;)B++;B<Y&&B++}B>=Y&&(V=Y);continue}}}for(var _=G;_<X&&$.charCodeAt(_)===d;){_++,_<X&&$.charCodeAt(_)===b&&_++;for(var g=0;_<X&&g<4;)if($.charCodeAt(_)===b)g++,_++;else if($.charCodeAt(_)===R)g+=4,_++;else break;if(g>=4)break;J=!1}if(!J&&F<4&&_<X&&$.charCodeAt(_)===O0&&!(_+1<Y&&$.charCodeAt(_+1)===r0)){var N=f6($,_,Q);if(N){V=N,J=!1;continue}}var A=$.charCodeAt(G);if(A===K9&&F<4)J=!1;else if(F<4&&(A===c||A===D0||A===B0)){for(var L=G,k=0;L<X;){var P=$.charCodeAt(L);if(P===A)k++;else if(P!==b&&P!==R)break;L++}J=!(k>=3&&L>=X)}else J=!0;V=K<0?Y:K+1}}function f6($,Q,Z){let V=$.length;if($.charCodeAt(Q)!==O0)return null;let Y=Q+1<V&&$.charCodeAt(Q+1)===r0,J=Q+1;for(;J<V;){var K=$.charCodeAt(J);if(K===d0){J++;break}if(K===O0)return null;K===_0&&J+1<V&&J++,J++}if(J>V||$.charCodeAt(J-1)!==d0)return null;let X=$.slice(Q+1,J-1);if(X.length>999)return null;let G=I$(X);if(!G||J>=V||$.charCodeAt(J)!==E0)return null;J++;let F=!1;for(;J<V;){let E=$.charCodeAt(J);if(E===b||E===R)J++;else if(E===x&&!F)F=!0,J++;else break}if(Y){let E=$.indexOf(`
`,J),f=E<0?V:E,h=$.slice(J,f).trim();return Z[G]={target:h,title:void 0},E<0?V:E+1}var W;if(J<V&&$.charCodeAt(J)===W0){J++;for(var z=J;J<V&&$.charCodeAt(J)!==d&&$.charCodeAt(J)!==x;)$.charCodeAt(J)===_0&&J+1<V&&J++,J++;if(J>=V||$.charCodeAt(J)!==d)return null;W=$.slice(z,J),J++;for(var H=$.indexOf(`
`,J),O=H<0?V:H,B=J;B<O&&($.charCodeAt(B)===b||$.charCodeAt(B)===R);)B++;if(B<O){if(B===J)return null;var q=$.charCodeAt(B);if(q!==W9&&q!==H9&&q!==t0)return null}}else{for(var z=J,U=0;J<V;){var K=$.charCodeAt(J);if(K===t0)U++;else if(K===e0){if(U===0)break;U--}else{if(K===b||K===R||K===x)break;K===_0&&J+1<V&&J++}J++}if(W=$.slice(z,J),!W)return null}for(;J<V&&($.charCodeAt(J)===b||$.charCodeAt(J)===R);)J++;var M=$.indexOf(`
`,J),D=M<0?V:M,_,g=!1,N=J,A=J;if(J===D&&J<V)for(A=J+1;A<V&&($.charCodeAt(A)===b||$.charCodeAt(A)===R);)A++;if(A<V){var L=$.charCodeAt(A);if(L===W9||L===H9||L===t0){for(var k=L===t0?41:L,P=A+1,w=P;P<V;){var y=$.charCodeAt(P);if(y===k){for(var S=P+1;S<V&&($.charCodeAt(S)===b||$.charCodeAt(S)===R);)S++;(S>=V||$.charCodeAt(S)===x)&&(_=$.slice(w,P),g=!0,N=S<V?S+1:V);break}if(y===_0&&P+1<V){P+=2;continue}if(y===x&&P+1<V&&$.charCodeAt(P+1)===x)break;P++}if(!g&&A===J)return null}}if(g)return Z[G]||(Z[G]={target:e9(W),title:_!==void 0?e9(_):_}),N;for(;J<D&&($.charCodeAt(J)===b||$.charCodeAt(J)===R);)J++;return J<D?null:(Z[G]||(Z[G]={target:e9(W),title:_}),M<0?V:M+1)}var $$=1,T6=2,K0=4,h6=8,rZ=16,G9=32,g9=64,o=new Uint8Array(128);o[b]=$$,o[R]=$$,o[x]=$$|T6,o[J9]=$$|T6,o[K9]=G9|K0,o[d]=G9|K0,o[c]=G9|g9|K0,o[D9]=G9|K0,o[D0]=G9|g9|K0,o[B0]=G9|g9|K0,o[Y0]=G9|g9|K0,o[I0]=G9|g9|K0,o[W0]=G9|g9|K0,o[O0]=g9|K0,o[g0]=g9|K0,o[P0]=G9|K0;for(let $=Z0;$<=Q0;$++)o[$]=rZ|G9;for(let $=r;$<=s;$++)o[$]=h6;for(let $=H0;$<=j0;$++)o[$]=h6;o[_0]=K0,o[d0]=K0,o[t0]=K0,o[e0]=K0,o[E0]=K0,o[W9]=K0,o[H9]=K0,o[H$]=K0,o[p0]=K0,o[W6]=K0,o[r9]=K0,o[m$]=K0,o[s0]=K0,o[A0]=K0,o[B$]=K0,o[u9]=K0,o[i9]=K0,o[r0]=K0,o[B9]=K0,o[K$]=K0;function _6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var Q=0;Q<$.length;Q++){if($.charCodeAt(Q)===_0){Q++;continue}if($.charCodeAt(Q)===O0||$.charCodeAt(Q)===d0)return!0}return!1}function I$($){var Q=$.replace(/\s+/g," ").trim();return Q.indexOf("\u1E9E")!==-1?Q.replace(/\u1E9E/g,"ss").toLowerCase():Q.toLowerCase()}function Z6($){return $<c0?o[$]:$===U6?$$:0}function e9($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function G0($,Q){var Z=$.indexOf(`
`,Q);return Z<0?$.length:Z}function a($,Q){let Z=G0($,Q);return Z<$.length?Z+1:Z}function F$($,Q,Z){for(;Q<Z;){let V=$.charCodeAt(Q);if(V!==b&&V!==R)break;Q++}return Q}function N6($,Q){let Z=a($,Q);for(;Z<$.length;){let V=G0($,Z);if($9($,Z,V))return Z;Z=a($,Z)}return $.length}function v9($,Q,Z,V){let Y=0;for(;Q+Y<Z&&$.charCodeAt(Q+Y)===V;)Y++;return Y}var X0=0,J0=0;function N0($,Q,Z){for(X0=0,J0=0;Q+J0<Z;){let V=$.charCodeAt(Q+J0);if(V===R)X0+=4-X0%4;else if(V===b)X0++;else break;J0++}}function $9($,Q,Z){return F$($,Q,Z)>=Z}function m6($,Q,Z,V){let Y=G0($,Q);if(N0($,Q,Y),X0>3)return null;let J=Q+J0;if($.charCodeAt(J)!==K9)return null;let K=v9($,J,Y,35);if(K<1||K>6||(J+=K,J<Y&&$.charCodeAt(J)!==b&&$.charCodeAt(J)!==R))return null;J=F$($,J,Y);for(var X=Y;X>J&&$.charCodeAt(X-1)===b;)X--;for(var G=X;X>J&&$.charCodeAt(X-1)===K9;)X--;if(X<G)if(X===J||$.charCodeAt(X-1)===b)for(;X>J&&$.charCodeAt(X-1)===b;)X--;else X=G;let F=$.slice(J,X),W=C0(F,0,F.length,Z,V),H=(V?.slugify||m0)(F);return{node:{type:j.heading,level:K,children:W,id:H},end:a($,Y)}}function S9($,Q){let Z=G0($,Q);if(N0($,Q,Z),X0>3)return null;let V=Q+J0,Y=$.charCodeAt(V);if(Y!==c&&Y!==D0&&Y!==B0)return null;let J=0;for(;V<Z;){let K=$.charCodeAt(V);if(K===Y)J++;else if(K!==b&&K!==R)return null;V++}return J<3?null:{node:{type:j.breakThematic},end:a($,Z)}}function iZ($,Q,Z){let V=G0($,Q);if(N0($,Q,V),X0>3)return null;let Y=X0,J=J0,K=Q+J0,X=$.charCodeAt(K);if(X!==Y0&&X!==I0)return null;let G=v9($,K,V,X);if(G<3)return null;K+=G;let F=F$($,K,V),W=V;if(X===Y0){for(let P=F;P<V;P++)if($.charCodeAt(P)===Y0)return null}for(;W>F&&($.charCodeAt(W-1)===b||$.charCodeAt(W-1)===R);)W--;let z=$.slice(F,W),H="",O="",B=z.indexOf(" ");B===-1?H=z:(H=z.slice(0,B),O=z.slice(B+1).trim()),H=e9(H);var q=void 0;if(O){v6.lastIndex=0;for(var U;(U=v6.exec(O))!==null;)q||(q={}),q[U[1]]=U[2]!==void 0?U[2]:U[3]}let M=a($,V),D=M,_=$.length;for(;D<$.length;){let P=G0($,D);if(N0($,D,P),X0<4){let w=D+J0;var g=v9($,w,P,X);if(g>=G){let y=w+g;if($9($,y,P)){_=a($,P);break}}}D=a($,P)}var N;if(Y===0)N=D>M&&$.charCodeAt(D-1)===x?$.slice(M,D-1):$.slice(M,D);else{N="";for(var A=M;A<D;){var L=G0($,A);N0($,A,L);var k=Math.min(J0,Y);N+=$.slice(A+k,L)+`
`,A=a($,L)}N.length>0&&N.charCodeAt(N.length-1)===x&&(N=N.slice(0,-1))}return{node:{type:j.codeBlock,lang:H||void 0,text:N,infoString:O||void 0,attrs:q},end:_}}function aZ($,Q){let Z=G0($,Q);if(N0($,Q,Z),X0<4)return null;let V="",Y=Q;for(;Y<$.length;){let O=G0($,Y);if(N0($,Y,O),$9($,Y,O)){for(var J=0,K=a($,O);K<$.length;){var X=G0($,K);if($9($,K,X)){J++,K=a($,X);continue}if(N0($,K,X),X0>=4){for(var G=0;G<=J;G++)V+=`
`;Y=K;break}break}if(Y!==K)break;continue}if(X0<4)break;let B=0,q=0;var F=0;for(let U=Y;U<O&&q<4;U++){if($.charCodeAt(U)===R){var W=4-q%4;q+W>4&&(F=q+W-4),q+=W}else q++;B++}var z="";if(F>0)for(var H=0;H<F;H++)z+=" ";z+=$.slice(Y+B,O),V+=z+`
`,Y=a($,O)}for(;V.length>0&&V.charCodeAt(V.length-1)===x;)V=V.slice(0,-1);for(;V.length>0&&V.charCodeAt(V.length-1)===x;)V=V.slice(0,-1);return V?{node:{type:j.codeBlock,text:V},end:Y}:null}function nZ($,Q,Z,V){let Y=G0($,Q);if(N0($,Q,Y),X0>3)return null;let J=Q+J0;if($.charCodeAt(J)!==d)return null;let K="",X=Q,G,F=!1,W=!1,z=!1;for(;X<$.length;){let T=G0($,X);N0($,X,T);let b0=X+J0;if($.charCodeAt(b0)===d){let I=b0+1;var H=X0+1,O=!1;if(I<T){var B=$.charCodeAt(I);B===b?(I++,H++,O=!0):B===R&&(O=!0)}for(var q="",U=!1,M=I;M<T;M++)if($.charCodeAt(M)===R){U=!0;break}if(U){var D=H;if(O&&I<T&&$.charCodeAt(I)===R){for(var _=4-D%4,g=0;g<_-1;g++)q+=" ";D+=_,I++}for(var N=I;N<T;N++)if($.charCodeAt(N)===R){for(var A=4-D%4,L=0;L<A;L++)q+=" ";D+=A}else q+=$[N],D++}else q=$.slice(I,T);if(!K&&!G){let p=q.match(/^\[!([A-Z]+)\]\s*$/);if(p){G=p[1],X=a($,T);continue}}K+=q+`
`;var k=q.trimStart();k.startsWith("```")||k.startsWith("~~~")?z=!z:q.startsWith("    ")||q.startsWith("	")?z=!0:k.length>0&&!z&&(z=!1),W=k.length>0,X=a($,T)}else if(K&&!$9($,X,T)&&W){if(X0<4){var P=X+J0,w=P<T?$.charCodeAt(P):0;if(w===K9||w===d||w===Y0||w===I0||w===W0||(w===c||w===D0||w===B0)&&S9($,X)||(w===c||w===D0||w===D9)&&P+1<T&&($.charCodeAt(P+1)===b||$.charCodeAt(P+1)===R))break;if(w>=Z0&&w<=Q0){for(var y=P;y<T&&$.charCodeAt(y)>=Z0&&$.charCodeAt(y)<=Q0;)y++;if(y<T&&($.charCodeAt(y)===s0||$.charCodeAt(y)===e0))break}}if(z)break;K+=$.slice(X,T)+`
`,F=!0,X=a($,T)}else break}if(!K&&!G)return null;var{inBlockQuote:S,f:E}=Z;Z.inBlockQuote=!0,F&&(Z.f=!0);let f=A9(K||"",Z,V);Z.inBlockQuote=S,Z.f=E;let h={type:j.blockQuote,children:f};return G&&(h.alert=G),{node:h,end:X}}function C6($,Q,Z){for(var V=0,Y=Q;Y<Z;Y++)$.charCodeAt(Y)===R?V+=4-V%4:V++;return V}function L9($,Q,Z){if(N0($,Q,Z),X0>3)return null;var V=Q+J0;if(V>=Z)return null;var Y=$.charCodeAt(V),J=X0,K=V;if(Y===c||Y===D0||Y===D9){if(K=V+1,K<Z&&$.charCodeAt(K)!==b&&$.charCodeAt(K)!==R&&$.charCodeAt(K)!==x)return null}else if(Y>=Z0&&Y<=Q0){for(var X=V;X<Z&&X-V<9;){var G=$.charCodeAt(X);if(G<Z0||G>Q0)break;X++}if(X>V&&X<Z){var F=$.charCodeAt(X);if(F===s0||F===e0){if(K=X+1,K<Z&&$.charCodeAt(K)!==b&&$.charCodeAt(K)!==R&&$.charCodeAt(K)!==x)return null}else return null}else return null}else return null;var W=K,z=C6($,Q,K),H=0,O=W,B=z;if(W>=Z)return{ordered:Y>=Z0&&Y<=Q0,marker:Y>=Z0&&Y<=Q0?$[X]:$[V],start:Y>=Z0&&Y<=Q0?parseInt($.slice(V,X),10):void 0,contentStart:W,contentCol:z+1,markerCol:J,isEmpty:!0};for(;O<Z&&($.charCodeAt(O)===b||$.charCodeAt(O)===R);){if($.charCodeAt(O)===R){var q=4-B%4;B+=q}else B++;O++,H++}var U=O>=Z,M=B-z;return U||M>4?(B=z+1,O=W+1,H=1):H===0&&(B=z+1,O=W,H=1),{ordered:Y>=Z0&&Y<=Q0,marker:Y>=Z0&&Y<=Q0?$[X]:$[V],start:Y>=Z0&&Y<=Q0?parseInt($.slice(V,X),10):void 0,contentStart:O,contentCol:B,markerCol:J,isEmpty:U}}var b$=0;function sZ($,Q,Z,V){var Y=0,J=Q;for(b$=0;J<Z&&Y<V;){var K=$.charCodeAt(J);if(K===R){var X=4-Y%4;if(Y+X>V){b$=Y+X-V,J++,Y=V;break}Y+=X}else if(K===b)Y++;else break;J++}return J}function I6($,Q,Z,V){var Y=G0($,Q),J=L9($,Q,Y);if(!J)return null;var K=[],X=Q,G=J.contentCol,F="",W=J.isEmpty,z=!1,H=!1;if(!J.isEmpty){for(var O=!1,B=J.contentStart;B<Y;B++)if($.charCodeAt(B)===R){O=!0;break}if(O){var q="",U=C6($,Q,J.contentStart),M=U-J.contentCol;if(M>0)for(var D=0;D<M;D++)q+=" ";for(var _=J.contentStart;_<Y;_++)if($.charCodeAt(_)===R){for(var g=4-U%4,N=0;N<g;N++)q+=" ";U+=g}else q+=$[_],U++;F=q+`
`}else F=$.slice(J.contentStart,Y)+`
`}for(X=a($,Y);X<$.length;){var A=G0($,X);N0($,X,A);var L=$.charCodeAt(X+J0);if(X0<G&&(L===c||L===D0||L===B0)&&X0<=3&&S9($,X))break;var k=L9($,X,A);if(k&&k.ordered===J.ordered&&k.marker===J.marker&&k.markerCol<G){K.push({contentCol:G,raw:F,hasBlankAfter:z,isEmpty:W}),z&&(H=!0),G=k.contentCol,W=k.isEmpty,z=!1,F=k.isEmpty?"":$.slice(k.contentStart,A)+`
`,X=a($,A);continue}if($9($,X,A)){F+=`
`,X=a($,A);for(var P=!1,w=0;w<F.length;w++){var y=F.charCodeAt(w);if(y!==x&&y!==J9&&y!==b&&y!==R){P=!0;break}}if(W&&!P)if(X<$.length){var S=G0($,X),E=L9($,X,S);if(!E||E.ordered!==J.ordered||E.marker!==J.marker)break;z=!0}else break;if(X<$.length){var f=G0($,X);N0($,X,f);var h=$.charCodeAt(X+J0);if((h===c||h===D0||h===B0)&&X0<=3&&S9($,X))break;var T=L9($,X,f);if(T&&T.ordered===J.ordered&&T.marker===J.marker&&T.markerCol<G){z=!0;continue}if(!$9($,X,f)&&X0<G)break}continue}if(X0>=G){var b0=sZ($,X,A,G);if(b$>0){for(var I="",p=G,t=0;t<b$;t++)I+=" ",p++;for(var C=b0;C<A;C++)if($.charCodeAt(C)===R){for(var U0=4-p%4,n=0;n<U0;n++)I+=" ";p+=U0}else I+=$[C],p++;F+=I+`
`}else F+=$.slice(b0,A)+`
`;X=a($,A);continue}for(var M0=!1,e=0;e<F.length;e++){var z0=F.charCodeAt(e);if(z0!==x&&z0!==J9&&z0!==b&&z0!==R){M0=!0;break}}if(!z&&M0&&!W){var $0=X+J0,l=$.charCodeAt($0),u=l===K9||l===d||l===W0||l===Y0||l===I0||(l===c||l===D0||l===B0||l===D9)&&(S9($,X)!==null||L9($,X,A)!==null)||l>=Z0&&l<=Q0&&L9($,X,A)!==null;if(!u){F+=""+$.slice($0,A)+`
`,X=a($,A);continue}}break}if(K.push({contentCol:G,raw:F,hasBlankAfter:z,isEmpty:W}),K.length===0)return null;var v0=H;if(!v0)for(var L0=0;L0<K.length;L0++){if(K[L0].hasBlankAfter&&L0<K.length-1){v0=!0;break}if(!K[L0].isEmpty){for(var v=K[L0].raw,m=v.length,F0=0,R0=!1,V0=!1,y0=!1,i=!1,x0=0,f0=0,u0=-1;F0<m;){var q0=v.indexOf(`
`,F0);if(q0<0&&(q0=m),i){N0(v,F0,q0);for(var E9=v.slice(F0+J0,q0),x9=0;x9<E9.length&&E9.charCodeAt(x9)===x0;)x9++;x9>=f0&&E9.slice(x9).trim()===""&&(i=!1),F0=q0<m?q0+1:m;continue}if($9(v,F0,q0)){u0>=0?y0=!0:R0&&(V0=!0),F0=q0<m?q0+1:m;continue}if(N0(v,F0,q0),u0>=0){if(X0>=u0){F0=q0<m?q0+1:m;continue}var f9=L9(v,F0,q0);if(f9&&f9.markerCol<u0&&f9.contentCol<=u0){F0=q0<m?q0+1:m;continue}if(f9){F0=q0<m?q0+1:m;continue}u0=-1,y0&&(V0=!0,y0=!1)}var F9=v.slice(F0+J0,q0),T9=F9.charCodeAt(0);if((T9===Y0||T9===I0)&&X0<=3){for(var _9=0;_9<F9.length&&F9.charCodeAt(_9)===T9;)_9++;if(_9>=3){if(V0&&R0){v0=!0;break}i=!0,x0=T9,f0=_9,R0=!0,F0=q0<m?q0+1:m;continue}}var l9=X0<=3?L9(v,F0,q0):null;if(l9&&R0){if(V0){v0=!0;break}u0=l9.contentCol,y0=!1,F0=q0<m?q0+1:m,R0=!0;continue}if(V0){v0=!0;break}R0=!0,F0=q0<m?q0+1:m}if(v0)break}}for(var U9=[],Z$=0;Z$<K.length;Z$++){for(var q9=K[Z$],Z9=q9.raw,Y9=Z9.length;Y9>0&&Z9.charCodeAt(Y9-1)===x;)Y9--;var T0=Y9<Z9.length?Z9.slice(0,Y9):Z9,Q9=null;if(T0.length>=3&&T0.charCodeAt(0)===O0){var a0=T0[1];(a0===" "||a0==="x"||a0==="X")&&T0.charCodeAt(2)===d0&&(Q9={type:j.gfmTask,completed:a0==="x"||a0==="X"},T0=T0.slice(3))}var k0;if(q9.isEmpty&&T0.trim()==="")k0=[];else if(v0){var Q$=Z.inList;Z.inList=!0,k0=A9(T0,Z,V),Z.inList=Q$}else{var O9=Z.inList;if(Z.inList=!0,k0=A9(T0,Z,V),Z.inList=O9,k0.length===1&&k0[0].type===j.paragraph)k0=k0[0].children;else{for(var V$=[],h9=0;h9<k0.length;h9++)if(k0[h9].type===j.paragraph)for(var N9=k0[h9].children,V9=0;V9<N9.length;V9++)V$.push(N9[V9]);else V$.push(k0[h9]);k0=V$}}Q9?U9.push([Q9,{type:j.text,text:" "},...k0]):U9.push(k0)}return{node:{type:J.ordered?j.orderedList:j.unorderedList,start:J.ordered?J.start:void 0,items:U9},end:X}}var P$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function k9($,Q,Z){let V={};for(let[K,X]of Object.entries($)){let G=K,F=K.toLowerCase();if(F==="style"&&typeof X=="string"){let W={},z=[],H=0,O=0;for(let q=0;q<X.length;q++){let U=X.charCodeAt(q);U===t0?H++:U===e0?H--:U===B$&&H===0&&(z.push(X.slice(O,q)),O=q+1)}O<X.length&&z.push(X.slice(O));let B=!1;z.forEach(q=>{let U=q.indexOf(":");if(U===-1)return;let M=q.slice(0,U).trim(),D=q.slice(U+1).trim();if(M&&D){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(D)){B=!0;return}let _=M.indexOf("-")!==-1?M.replace(/-([a-z])/g,(g,N)=>N.toUpperCase()):M;W[_]=D}}),!B&&Object.keys(W).length>0&&(V[G]=W)}else if((F==="href"||F==="src")&&Z?.sanitizer){let W=Z.sanitizer(X,Q,F);W!==null&&(V[G]=W)}else if(X==="")V[G]=!0;else if(X.length>=2&&X.charCodeAt(0)===B9&&X.charCodeAt(X.length-1)===K$){var Y=X.slice(1,-1);if(Y.length>0){var J=Y.charCodeAt(0);if(J===O0||J===B9)try{V[G]=JSON.parse(Y);continue}catch{}}if(Y==="true"){V[G]=!0;continue}if(Y==="false"){V[G]=!1;continue}if(Z?.evalUnserializableExpressions)try{V[G]=(0,eval)("("+Y+")");continue}catch{}V[G]=Y}else V[G]=X}return V}function M9($,Q,Z){let V=Q.length;var Y=Q.charCodeAt(0);Y>=r&&Y<=s&&(Y+=X9);for(let K=Z;K<=$.length-V;K++){var J=$.charCodeAt(K);if(J>=r&&J<=s&&(J+=X9),J!==Y)continue;let X=!0;for(let G=1;G<V;G++){let F=$.charCodeAt(K+G),W=Q.charCodeAt(G);if(F>=r&&F<=s&&(F+=X9),W>=r&&W<=s&&(W+=X9),F!==W){X=!1;break}}if(X)return K}return-1}function tZ($,Q,Z){let V=Q.length;var Y=Q.charCodeAt(0);Y>=r&&Y<=s&&(Y+=X9);for(let K=Math.min(Z,$.length-V);K>=0;K--){var J=$.charCodeAt(K);if(J>=r&&J<=s&&(J+=X9),J!==Y)continue;let X=!0;for(let G=1;G<V;G++){let F=$.charCodeAt(K+G),W=Q.charCodeAt(G);if(F>=r&&F<=s&&(F+=X9),W>=r&&W<=s&&(W+=X9),F!==W){X=!1;break}}if(X)return K}return-1}var e$=-1;function u6($,Q,Z){let V=Z.toLowerCase(),Y="<"+V,J="</"+V,K=1,X=Q,G=$.length;for(e$=-1;X<G&&K>0;){let z=M9($,Y,X),H=M9($,J,X);if(H===-1)return-1;if(z!==-1&&z<H){let O=j9($,z);O?(O.tag.toLowerCase()===V&&!O.isClosing&&!O.selfClosing&&!s9(O.tag)&&K++,X=O.end):X=z+1}else{var F=H+J.length,W=F<G?$.charCodeAt(F):62;if((W===d||W===b||W===R||W===x)&&(K--,K===0)){e$=H;let O=H+J.length;for(;O<G&&$.charCodeAt(O)!==d;)O++;return O+1}X=H+1}}return-1}function p6($,Q,Z,V){if(V.ignoreHTMLBlocks||V.disableParsingRawHTML)return null;var Y=G0($,Q);if(N0($,Q,Y),X0>3&&!Z.inHTML)return null;var J=Q+J0;if($.charCodeAt(J)!==W0)return null;var K=$.indexOf(">",J+1);if(K!==-1&&K<Y){var X=$.slice(J+1,K);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(X)||/^[^\s@]+@[^\s@]+$/.test(X))return null}var G=eZ($,J);if(G>=1&&G<=5){var F=$.length;if(G===1){for(var W=$.length,z=0;z<t$.length;z++){var H=M9($,"</"+t$[z]+">",J);H>=0&&H<W&&(W=H)}if(W<$.length){var O=$.indexOf(">",W);F=O>=0?a($,O+1):$.length}}else{var B=G===2?"-->":G===3?"?>":G===4?">":"]]>",q=$.indexOf(B,J);q>=0&&(F=a($,q+B.length))}var U=$.slice(J,F);if(G>=2)return{node:{type:j.htmlComment,text:U,raw:!0,endPos:F},end:F};var M="div",D=U.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);D&&(M=D[1]);var _=j9($,J),g={},N;_&&!_.isClosing&&(g=k9(_.attrs,M,V),N=_.whitespaceBeforeAttrs+_.rawAttrs);var A=[],L=M.toLowerCase(),k="</"+L,P=M9(U,k,0),w=U,y="";if(_&&_.isClosing)for(w=U.slice(_.end-J);w.length>0&&w.charCodeAt(w.length-1)===x;)w=w.slice(0,-1);else if(_&&!_.isClosing){var S=_.end-J;if(P!==-1)for(w=U.slice(S),w.charCodeAt(0)===x&&(w=w.slice(1));w.length>0&&w.charCodeAt(w.length-1)===x;)w=w.slice(0,-1);else for(w=U;w.length>0&&w.charCodeAt(w.length-1)===x;)w=w.slice(0,-1);if(P!==-1){var E=U.slice(S,P);if(y=E.trim(),y){var{inline:f,inHTML:h}=Z;Z.inline=!0,Z.inHTML=!0,A=C0(y,0,y.length,Z,V),Z.inline=f,Z.inHTML=h}}}var T=_?_.isClosing:!1;return{node:{type:j.htmlBlock,tag:M,attrs:g,e:N,children:A,a:w,text:y,d:!0,b:T,endPos:F,canInterruptParagraph:!0},end:F}}if(G===6||G===7){var b0=N6($,Q),I=b0<$.length?b0:$.length,p=$.slice(J,I),t=b0<$.length?a($,b0):$.length,C=j9($,J);if(C){var U0=C.tag,n=U0.toLowerCase(),M0=C.isClosing;if(M0){var e=$.slice(C.end,I);return{node:{type:j.htmlBlock,tag:U0,attrs:{},children:[],a:e,text:e,d:!0,b:!0,endPos:I,canInterruptParagraph:G===6},end:t}}var z0=Z.c||0,$0=$.slice(J,I),l=-1,u=-1;if(!C.selfClosing&&!s9(U0)&&z0<10){for(var v0="</"+n,L0=C.end-J,v=1,m=L0;m<$0.length&&v>0;){var F0=M9($0,"<"+n,m),R0=M9($0,v0,m);if(R0===-1)break;if(F0!==-1&&F0<R0){var V0=F0+n.length+1;if(V0<$0.length){var y0=$0.charCodeAt(V0);(y0===b||y0===R||y0===x||y0===d||y0===A0)&&v++}m=F0+1}else{var i=R0+v0.length;if(i<$0.length){var x0=$0.charCodeAt(i);if((x0===d||x0===b||x0===R||x0===x)&&(v--,v===0)){l=R0;for(var f0=i;f0<$0.length&&$0.charCodeAt(f0)!==d;)f0++;u=f0+1;break}}else if(v--,v===0){l=R0,u=$0.length;break}m=R0+1}}var u0=!1;if(l===-1&&G===6&&!C.isClosing&&!oZ.has(n)){var q0=$.slice(C.end),E9=M9(q0,v0,0);if(E9!==-1){var x9=q0.slice(0,E9);if(x9.indexOf(`

`)!==-1){for(var f9=C.end+E9,F9=f9+v0.length;F9<$.length&&$.charCodeAt(F9)!==d;)F9++;if(F9<$.length&&$.charCodeAt(F9)===d){var T9=F9+1,_9=G0($,T9);I=_9,t=a($,_9),$0=$.slice(J,I),p=$.slice(J,I),l=f9-J,u=T9-J,u0=!0}}}}}var l9=C.rawAttrs.indexOf(`
`)!==-1||C.whitespaceBeforeAttrs.indexOf(`
`)!==-1,U9=!1;if(l!==-1){var Z$=$0.slice(u).trim();U9=Z$.length===0}var q9=!1,Z9=I,Y9=t;if(l!==-1){var T0=J+u,Q9=G0($,T0-1);if(T0<Q9){for(var a0=T0;a0<Q9&&($.charCodeAt(a0)===b||$.charCodeAt(a0)===R);)a0++;if(a0<Q9&&$.charCodeAt(a0)===W0){var k0=j9($,a0);k0&&!k0.isClosing&&(q9=!0,Z9=T0,Y9=T0,U9=!0)}}if(!q9){var Q$=a($,Q9);if(Q$<I){for(var O9=Q$;O9<I&&($.charCodeAt(O9)===b||$.charCodeAt(O9)===R);)O9++;if(O9<I&&$.charCodeAt(O9)===W0){var V$=j9($,O9);V$&&(q9=!0,Z9=Q9,Y9=Q$,U9=!0)}}}if(!q9&&Z.inHTML){q9=!0,Z9=Q9,Y9=a($,Q9);var h9=$.slice(T0,Q9).trim();U9=h9.length===0}}var N9=[],V9="";if(l!==-1){V9=$0.slice(C.end-J,l);var m9=V9.trim();if(m9){var{inline:o6,inHTML:r6,c:i6}=Z;Z.inHTML=!0,Z.c=z0+1;var a6=n==="p";if(a6)Z.inline=!0,N9=C0(m9,0,m9.length,Z,V);else{var n6=V9.indexOf(`

`)!==-1,s6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(m9),Y6=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(m9),t6=n6||s6||Z.inHTML&&Y6;t6||Y6?(Z.inline=!1,N9=A9(V9,Z,V)):(Z.inline=!0,N9=C0(m9,0,m9.length,Z,V))}Z.inline=o6,Z.inHTML=r6,Z.c=i6}}var J6=!1;if(G===6&&l!==-1&&!Z.inHTML&&!l9){var k$=V9,e6=/<[a-zA-Z][^>]*>/.test(k$),$Z=/\n\n/.test(k$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(k$);e6&&!$Z&&(J6=!0)}var ZZ=Z.inHTML||G===7||l9||!U9||J6;if(ZZ){var n0;if(l!==-1&&q9){var K6=!1;if(Z.inHTML&&u<$0.length){for(var W$=u;W$<$0.length&&$0.charCodeAt(W$)!==x;)W$++;var S$=$0.slice(u,W$).trim();K6=S$.length>1&&S$.charCodeAt(0)===W0&&S$.charCodeAt(1)!==A0}n0=K6?$0.slice(C.end-J):V9}else(G===7||Z.inHTML)&&l!==-1?(n0=$0.slice(C.end-J),n0.charCodeAt(0)===x&&(n0=n0.slice(1))):q9?n0=$.slice(J,Z9):l9?n0=p:(n0=$0.slice(C.end-J),n0.charCodeAt(0)===x&&(n0=n0.slice(1)));return{node:{type:j.htmlBlock,tag:U0,attrs:k9(C.attrs,U0,V),e:C.whitespaceBeforeAttrs+C.rawAttrs,children:N9,a:n0,text:n0,d:!0,b:!1,endPos:Z9,canInterruptParagraph:G===6},end:Y9}}return{node:{type:j.htmlBlock,tag:U0,attrs:k9(C.attrs,U0,V),e:C.whitespaceBeforeAttrs+C.rawAttrs,children:N9,a:u0?"":V9,text:V9,d:!1,b:!1,endPos:Z9,canInterruptParagraph:G===6},end:Y9}}var z$=p.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),QZ=z$?z$[2]:"div",X6=z$?z$[1]==="/":!1,g$=p;if(X6){var G6=p.indexOf(">");G6!==-1&&(g$=p.slice(G6+1))}return{node:{type:j.htmlBlock,tag:QZ,attrs:{},children:[],a:g$,text:g$,d:!0,b:X6,endPos:I,canInterruptParagraph:G===6},end:t}}var S0=j9($,J);if(!S0)return null;var I9=S0.tag,E$=I9.toLowerCase(),F6=I9.charCodeAt(0),U$=F6>=r&&F6<=s;if(!U$&&!P$.has(E$)&&!q$.has(E$)&&!E$.includes("-"))return null;if(S0.isClosing)return{node:{type:j.htmlSelfClosing,tag:I9,attrs:{},endPos:S0.end,b:!0,a:$.slice(J,S0.end)},end:S0.end};var I5=!0,C9=u6($,S0.end,I9),Y$=[];if(C9!==-1){var VZ=e$,O$=$.slice(S0.end,VZ),J$=O$.trim();if(J$){var YZ=O$.indexOf(`

`)!==-1,JZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(J$),KZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(J$),XZ=Z.inline,GZ=Z.inHTML,FZ=Z.c;Z.inHTML=!0,Z.c=(Z.c||0)+1,YZ||JZ||KZ?(Z.inline=!1,Y$=A9(O$,Z,V)):(Z.inline=!0,Y$=C0(J$,0,J$.length,Z,V)),Z.inline=XZ,Z.inHTML=GZ,Z.c=FZ}var qZ=G0($,C9),WZ=$.slice(C9,qZ).trim(),x$=WZ?C9:a($,C9),q6=U$?$.slice(J,C9):$.slice(J,x$),zZ=U$?C9:x$;return{node:{type:j.htmlBlock,tag:I9,attrs:k9(S0.attrs,I9,V),e:S0.whitespaceBeforeAttrs+S0.rawAttrs,children:Y$,a:q6,text:U$?O$:q6,d:!0,b:!1,endPos:zZ,canInterruptParagraph:!1},end:x$}}var o9=N6($,S0.end),UZ=o9<$.length?a($,o9):o9,f$=$.slice(S0.end,o9);if(f$.trim()){var{inline:OZ,inHTML:HZ,c:DZ}=Z;Z.inline=!1,Z.inHTML=!0,Z.c=(Z.c||0)+1,Y$=A9(f$,Z,V),Z.inline=OZ,Z.inHTML=HZ,Z.c=DZ}var BZ=$.slice(S0.end,o9);return{node:{type:j.htmlBlock,tag:I9,attrs:k9(S0.attrs,I9,V),e:S0.whitespaceBeforeAttrs+S0.rawAttrs,children:Y$,a:BZ,text:f$,d:!0,b:!1,endPos:o9,canInterruptParagraph:!1},end:UZ}}function eZ($,Q){if($.charCodeAt(Q)!==W0)return 0;var Z=Q+1,V=$.length;if($.charCodeAt(Z)===g0&&$.charCodeAt(Z+1)===c&&$.charCodeAt(Z+2)===c)return 2;if($.charCodeAt(Z)===u9)return 3;if($.charCodeAt(Z)===g0){var Y=$.charCodeAt(Z+1);if(Y>=r&&Y<=s)return 4;if($.slice(Z+1,Z+8)==="[CDATA[")return 5}for(var J=$.charCodeAt(Z)===A0,K=J?Z+1:Z,X=K;X<V;){var G=$.charCodeAt(X);if(G>=r&&G<=s||G>=H0&&G<=j0||G>=Z0&&G<=Q0||G===c)X++;else break}if(X===K)return 0;var F=$.slice(K,X);if(q$.has(F.toLowerCase())){if(J)return 0;var W=$.charCodeAt(X);return W===b||W===R||W===d||W===x||X>=V?1:0}if(P$.has(F.toLowerCase())){if(J){for(var z=X;z<V&&($.charCodeAt(z)===b||$.charCodeAt(z)===R);)z++;return z<V&&$.charCodeAt(z)===d?6:0}var H=X<V?$.charCodeAt(X):-1;return H===b||H===R||H===d||H===x||H===A0||H===-1?6:0}if(J){for(var U=X;U<V&&($.charCodeAt(U)===b||$.charCodeAt(U)===R);)U++;if(U<V&&$.charCodeAt(U)===d){var M=G0($,Q),D=$.slice(U+1,M).trim();if(D==="")return 7}}else{var O=G0($,Q),B=j9($,Q);if(B&&B.end<=O){var q=$.slice(B.end,O).trim();if(q==="")return 7}}return 0}function b6($,Q,Z){for(var V=0,Y=$.length;V<Y&&($.charCodeAt(V)===b||$.charCodeAt(V)===R);)V++;for(;Y>V&&($.charCodeAt(Y-1)===b||$.charCodeAt(Y-1)===R);)Y--;V<Y&&$.charCodeAt(V)===P0&&V++,Y>V&&$.charCodeAt(Y-1)===P0&&(Y-2<V||$.charCodeAt(Y-2)!==_0)&&Y--;for(var J=[],K=V,X=!1,G=[],F=V;F<Y;){var W=$.charCodeAt(F);if(W===_0&&F+1<Y){$.charCodeAt(F+1)===P0?(X||(X=!0,G=[]),G.push($.slice(K,F)),G.push("|"),F+=2,K=F):F+=2;continue}if(W===Y0){for(var z=0;F<Y&&$.charCodeAt(F)===Y0;)z++,F++;for(var H=!1;F<Y&&!H;){for(var O=0;F<Y&&$.charCodeAt(F)===Y0;)O++,F++;O===z?H=!0:O===0&&F++}continue}if(W===P0){var B=X?(G.push($.slice(K,F)),G.join("")):$.slice(K,F);J.push(B.trim()),F++,K=F,X=!1,G=[];continue}F++}var q=X?(G.push($.slice(K,Y)),G.join("")):$.slice(K,Y);return J.push(q.trim()),J.map(function(U){var M=U.indexOf("\\|")!==-1?U.replace(/\\\|/g,"|"):U;return C0(M,0,M.length,Q,Z)})}function P6($,Q,Z,V){let Y=G0($,Q);var J=$.indexOf("|",Q);if(J<0||J>=Y)return null;let K=a($,Y);if(K>=$.length)return null;let X=G0($,K);if(!x6($,K,X))return null;let G=$.slice(Q,Y),F=$.slice(K,X);for(var W=[],z=0,H=F.length;z<H&&(F.charCodeAt(z)===b||F.charCodeAt(z)===R);)z++;for(z<H&&F.charCodeAt(z)===P0&&z++;z<H;){for(;z<H&&(F.charCodeAt(z)===b||F.charCodeAt(z)===R);)z++;if(z>=H||F.charCodeAt(z)===P0)break;var O=F.charCodeAt(z)===E0;for(O&&z++;z<H&&F.charCodeAt(z)===c;)z++;var B=z<H&&F.charCodeAt(z)===E0;for(B&&z++,W.push(O&&B?"center":B?"right":O?"left":null);z<H&&(F.charCodeAt(z)===b||F.charCodeAt(z)===R);)z++;z<H&&F.charCodeAt(z)===P0&&z++}let q=b6(G,Z,V);if(W.length!==q.length)return null;let U=[],M=a($,X);for(;M<$.length;){let L=G0($,M),k=$.slice(M,L);if($9($,M,L))break;if(N0($,M,L),X0<4){var D=$.charCodeAt(M+J0);if(D===d||D===K9||(D===c||D===D0||D===B0)&&S9($,M))break;if(D===Y0||D===I0){for(var _=M+J0,g=0;_<L&&$.charCodeAt(_)===D;)g++,_++;if(g>=3)break}}U.push(b6(k,Z,V)),M=a($,L)}if((V.streaming||V.optimizeForStreaming)&&U.length===0)return null;for(var N=q.length,A=0;A<U.length;A++)if(U[A].length<N)for(;U[A].length<N;)U[A].push([]);else U[A].length>N&&(U[A].length=N);return{node:{type:j.table,header:q,cells:U,align:W},end:M}}function $5($,Q,Z){var V=G0($,Q);if(N0($,Q,V),X0>3)return null;var Y=Q+J0;if($.charCodeAt(Y)!==O0)return null;if(Y+1<$.length&&$.charCodeAt(Y+1)===r0){var J=Z5($,Y,Z);return J||null}Z.refs||(Z.refs={});var K=f6($,Y,Z.refs);return K===null?null:{node:{type:j.refCollection},end:K}}function Z5($,Q,Z){var V=$.length;if($.charCodeAt(Q)!==O0||Q+1>=V||$.charCodeAt(Q+1)!==r0)return null;for(var Y=Q+2,J=Y;Y<V&&$.charCodeAt(Y)!==d0;){if($.charCodeAt(Y)===x)return null;Y++}if(Y>=V)return null;var K=("^"+$.slice(J,Y)).toLowerCase();if(Y++,Y>=V||$.charCodeAt(Y)!==E0)return null;for(Y++;Y<V&&($.charCodeAt(Y)===b||$.charCodeAt(Y)===R);)Y++;if(Y<V&&$.charCodeAt(Y)===x)for(Y++;Y<V&&($.charCodeAt(Y)===b||$.charCodeAt(Y)===R);)Y++;var X=$.indexOf(`
`,Y);X<0&&(X=V);for(var G=$.slice(Y,X).trim(),F=X<V?X+1:V;F<V;){var W=G0($,F);if(N0($,F,W),X0>=2&&!$9($,F,W))G+=`
`+$.slice(F,W),F=a($,W);else if($9($,F,W)){var z=a($,W);if(z<V){var H=G0($,z);if(N0($,z,H),X0>=2){G+=`
`,F=a($,W);continue}}break}else break}return Z.refs[K]||(Z.refs[K]={target:G,title:void 0}),{node:{type:j.footnote},end:F}}function Q5($,Q,Z,V){let Y=Q,J=0,K=0,X=-1;for(;Y<$.length;){let y=X>=0?X:G0($,Y);if(X=-1,$9($,Y,y))break;if(N0($,Y,y),X0<4&&K>0&&!Z.f){let E=$.charCodeAt(Y+J0);if(E===p0||E===c){let f=Y+J0;for(;f<y&&$.charCodeAt(f)===E;)f++;for(;f<y&&($.charCodeAt(f)===b||$.charCodeAt(f)===R);)f++;if(f>=y){J=E===p0?1:2,Y=a($,y);break}}}K=y;let S=a($,y);if(S<$.length){if($.charCodeAt(S)===n9){var G=G0($,S);Y=a($,G),K=G;continue}let E=G0($,S);if(X=E,N0($,S,E),X0<4){let f=$.charCodeAt(S+J0);if(f===d){Y=S;break}if(f===K9&&m6($,S,Z,V)){Y=S;break}if(f===Y0||f===I0){for(var F=S+J0,W=0;F<E&&$.charCodeAt(F)===f;)W++,F++;if(W>=3){Y=S;break}}if(f===W0){var z=S+J0+1,H=z<E?$.charCodeAt(z):0,O=H===g0||H===u9;if(!O&&H===A0){for(var B=z+1,q=B;q<E&&($.charCodeAt(q)>=r&&$.charCodeAt(q)<=s||$.charCodeAt(q)>=H0&&$.charCodeAt(q)<=j0||$.charCodeAt(q)>=Z0&&$.charCodeAt(q)<=Q0||$.charCodeAt(q)===c);)q++;q>B&&(O=P$.has($.slice(B,q).toLowerCase()))}else if(!O){for(var U=z;U<E&&($.charCodeAt(U)>=r&&$.charCodeAt(U)<=s||$.charCodeAt(U)>=H0&&$.charCodeAt(U)<=j0||$.charCodeAt(U)>=Z0&&$.charCodeAt(U)<=Q0||$.charCodeAt(U)===c);)U++;if(U>z){var M=$.slice(z,U).toLowerCase();O=P$.has(M)||q$.has(M)}}if(O&&p6($,S,Z,V)){Y=S;break}}if(f===c||f===D0||f===D9){let h=S+J0+1;if(h<E&&($.charCodeAt(h)===b||$.charCodeAt(h)===R)){var D=F$($,h,E);if(D<E&&!S9($,S)){Y=S;break}}}if(f>=Z0&&f<=Q0){let h=S+J0;for(;h<E&&$.charCodeAt(h)>=Z0&&$.charCodeAt(h)<=Q0;)h++;if(h<E&&($.charCodeAt(h)===s0||$.charCodeAt(h)===e0)&&h-(S+J0)===1&&$.charCodeAt(S+J0)===49){var _=h+1;if(_<E&&($.charCodeAt(_)===b||$.charCodeAt(_)===R)){var g=F$($,_,E);if(g<E){Y=S;break}}}}if(f===P0){let h=a($,E);if(h<$.length){let T=G0($,h);if(x6($,h,T)){Y=S;break}}}if((f===c||f===D0||f===B0)&&S9($,S)){if(f!==c){Y=S;break}let h=0,T=S+J0;for(;T<E&&$.charCodeAt(T)===c;)h++,T++;for(;T<E&&($.charCodeAt(T)===b||$.charCodeAt(T)===R);)T++;if(T<E){Y=S;break}}}}Y=a($,y)}for(var N=J?K:Y;N>Q&&($.charCodeAt(N-1)===x||$.charCodeAt(N-1)===J9||$.charCodeAt(N-1)===b||$.charCodeAt(N-1)===R);)N--;for(var A=Q;A<N&&($.charCodeAt(A)===b||$.charCodeAt(A)===R);)A++;if(A>=N)return null;for(var L=!1,k=A;k<N;k++)if($.charCodeAt(k)===n9){L=!0;break}var P=L?$.slice(A,N).replace(/\u001E/g,""):$.slice(A,N);if(!P)return null;let w=V5(P,0,P.length,Z,V);if(J){let S=(V?.slugify||m0)(P);return{node:{type:j.heading,level:J,children:w,id:S},end:Y}}return{node:{type:j.paragraph,children:w},end:Y}}function V5($,Q,Z,V,Y){var J=$.indexOf(`
`,Q);if(J<0||J>=Z)return C0($,Q,Z,V,Y);for(var K="",X=Q,G=Q;G<Z;){var F=$.charCodeAt(G);if(F===Y0){var W=y$($,G,Z);if(W>G){for(var z=!1,H=G;H<W;H++)if($.charCodeAt(H)===x){z=!0;break}z&&(K+=$.slice(X,G),K+=$.slice(G,W).replace(/\n/g," "),X=W),G=W;continue}}if(F===W0){var O=d6($,G,Z);if(O>G){G=O;continue}}if(F===x){var B=!1,q=0;if(G>Q&&$.charCodeAt(G-1)===_0)B=!0,q=1;else{for(var U=0,M=G-1;M>=Q&&$.charCodeAt(M)===b;)U++,M--;U>=2&&(B=!0,q=U)}for(B?(K+=$.slice(X,G-q),K+=""):K+=$.slice(X,G+1),G++;G<Z&&$.charCodeAt(G)===b;)G++;X=G;continue}G++}return X<Z&&(K+=$.slice(X,Z)),C0(K,0,K.length,V,Y)}function Y5($,Q,Z){if($.charCodeAt(Q)!==Y0)return null;let V=v9($,Q,Z,96),Y=Q+V;for(;Y<Z;){let J=$.indexOf("`",Y);if(J<0||J>=Z)return null;let K=v9($,J,Z,96);if(K===V){let X=$.slice(Q+V,J);return X=X.replace(/\n/g," "),X.length>0&&X[0]===" "&&X[X.length-1]===" "&&X.trim().length>0&&(X=X.slice(1,-1)),{node:{type:j.codeInline,text:X},end:J+K}}Y=J+K}return null}function y$($,Q,Z){if($.charCodeAt(Q)!==Y0)return Q;let V=v9($,Q,Z,96),Y=Q+V;for(;Y<Z;){let J=$.indexOf("`",Y);if(J<0||J>=Z)return Q;let K=v9($,J,Z,96);if(K===V)return J+K;Y=J+K}return Q}function d6($,Q,Z){if($.charCodeAt(Q)!==W0)return Q;if(Q+1<Z&&$.charCodeAt(Q+1)===A0){let F=Q+2;for(;F<Z&&$.charCodeAt(F)!==d;)F++;return F<Z?F+1:Q}if(Q+3<Z&&$.charCodeAt(Q+1)===g0&&$.charCodeAt(Q+2)===c&&$.charCodeAt(Q+3)===c){let F=$.indexOf("-->",Q+4);return F>=0?F+3:Q}let V=Q+1,Y=V;for(;V<Z;){let F=$.charCodeAt(V);if(F>=r&&F<=s||F>=H0&&F<=j0||F>=Z0&&F<=Q0||F===c)V++;else break}if(V===Y)return Q;let J=$.slice(Y,V).toLowerCase(),K=!1;for(;V<Z;){let F=$.charCodeAt(V);if(F===d){V++;break}if(F===A0&&V+1<Z&&$.charCodeAt(V+1)===d){V+=2,K=!0;break}if(F===W9||F===H9){var X=F;for(V++;V<Z&&$.charCodeAt(V)!==X;)V++;V<Z&&V++;continue}if(F===x)return Q;V++}if(K||s9(J))return V;let G=1;for(;V<Z&&G>0;)if($.charCodeAt(V)===W0)if(V+1<Z&&$.charCodeAt(V+1)===A0){let F=V+2,W=F;for(;W<Z&&($.charCodeAt(W)>=r&&$.charCodeAt(W)<=s||$.charCodeAt(W)>=H0&&$.charCodeAt(W)<=j0);)W++;if($.slice(F,W).toLowerCase()===J){for(;W<Z&&$.charCodeAt(W)!==d;)W++;if(W<Z&&W++,G--,G===0)return W}V=W}else{let F=V+1,W=F;for(;W<Z&&($.charCodeAt(W)>=r&&$.charCodeAt(W)<=s||$.charCodeAt(W)>=H0&&$.charCodeAt(W)<=j0);)W++;$.slice(F,W).toLowerCase()===J&&G++,V++}else V++;return V}function J5($,Q,Z,V,Y){if($.charCodeAt(Q)!==I0||Q+1>=Z||$.charCodeAt(Q+1)!==I0)return null;let J=Q+2;for(;J+1<Z;){let K=$.charCodeAt(J);if(K===Y0){let X=y$($,J,Z);if(X>J){J=X;continue}}if(K===I0&&$.charCodeAt(J+1)===I0){let X=$.slice(Q+2,J),G=C0(X,0,X.length,V,Y);return{node:{type:j.textFormatted,tag:"del",children:G},end:J+2}}K===_0&&J+1<Z&&J++,J++}return null}function K5($,Q,Z,V,Y){if($.charCodeAt(Q)!==p0||Q+1>=Z||$.charCodeAt(Q+1)!==p0)return null;let J=Q+2;for(;J+1<Z;){let K=$.charCodeAt(J);if(K===Y0){let X=y$($,J,Z);if(X>J){J=X;continue}}if(K===p0&&$.charCodeAt(J+1)===p0&&J>Q+2){let X=$.slice(Q+2,J),G=C0(X,0,X.length,V,Y);return{node:{type:j.textFormatted,tag:"mark",children:G},end:J+2}}K===_0&&J+1<Z&&J++,J++}return null}var X5=/[\p{P}\p{S}]/u;function w6($,Q,Z){return $<c0?!!(Z6($)&K0):X5.test(Q[Z])}function R6($,Q,Z){return $<c0?!!(Z6($)&$$):/\p{Zs}/u.test(Q[Z])}function G5($,Q,Z){var V=$.charCodeAt(Q);if(V!==D0&&V!==B0)return null;var Y=v9($,Q,Z,V);if(Y===0)return null;var J=Q>0?$.charCodeAt(Q-1):32,K=Q+Y<Z?$.charCodeAt(Q+Y):32,X=R6(J,$,Q-1),G=R6(K,$,Q+Y),F=Q>0?w6(J,$,Q-1):!1,W=Q+Y<Z?w6(K,$,Q+Y):!1,z=!G&&(!W||X||F),H=!X&&(!F||G||W),O,B;return V===D0?(O=z,B=H):(O=z&&(!H||F),B=H&&(!z||W)),{len:Y,canOpen:O,canClose:B}}function F5($,Q,Z,V){if(Q.length!==0){for(var Y=[],J=0;J<12;J++)Y[J]=-1;for(var K=0;K<Q.length;){var X=Q[K];if(!X.active||!X.canClose){K++;continue}for(var G=X.ch===D0?0:1,F=G*6+X.len%3*2+(X.canOpen?1:0),W=Y[F]!==void 0?Y[F]:-1,z=-1,H=K-1;H>W;H--){var O=Q[H];if(!(!O.active||O.ch!==X.ch||!O.canOpen)&&!((X.canOpen||O.canClose)&&(O.len+X.len)%3===0&&O.len%3!==0)){z=H;break}}if(z<0){Y[F]=K-1,!X.canOpen&&(X.active=!1),K++;continue}var B=Q[z],q=B.len>=2&&X.len>=2,U=q?2:1;B.len-=U,X.len-=U;var M=$[B.idx],D=$[X.idx];M.text=M.text.slice(0,M.text.length-U),D.text=D.text.slice(U);var _=B.idx+1,g=X.idx,N=$.slice(_,g),A={type:j.textFormatted,tag:q?"strong":"em",children:N};$.splice(_,g-_,A);for(var L=g-_-1,k=0;k<Q.length;k++)Q[k].idx>B.idx&&(Q[k].idx-=L);for(var P=z+1;P<K;P++)Q[P].active=!1;if(B.len===0&&(B.active=!1,M.text==="")){$.splice(B.idx,1);for(var w=0;w<Q.length;w++)Q[w].idx>B.idx?Q[w].idx--:Q[w].idx===B.idx&&(Q[w].idx=-1)}if(X.len===0){X.active=!1;var y=X.idx;if(D.text===""){$.splice(y,1);for(var S=0;S<Q.length;S++)Q[S].idx>y?Q[S].idx--:Q[S].idx===y&&(Q[S].idx=-1)}}else continue;K++}for(var E=0,f=0;f<$.length;f++){var h=$[f];if(h.type===j.text){var T=h;if(T.text==="")continue;if(E>0&&$[E-1].type===j.text){$[E-1].text+=T.text;continue}}$[E++]=h}$.length=E}}function y6($,Q,Z,V,Y){let J=$.charCodeAt(Q)===g0,K=J?Q+1:Q;if($.charCodeAt(K)!==O0)return null;var X=$.indexOf("]",K+1);if(X<0||X>=Z)return null;for(var G=K+1,F=-1,W=1;G<Z&&W>0;){var z=$.charCodeAt(G);if(z===_0&&G+1<Z){G+=2;continue}if(z===Y0){var H=y$($,G,Z);if(H>G){G=H;continue}}if(z===W0){var O=c6($,G,Z);if(O){G=O.end;continue}var B=d6($,G,Z);if(B>G){G=B;continue}}z===O0?W++:z===d0&&W--,G++}if(W!==0)return null;var q=G-1,U=$.slice(K+1,q),M=G<Z?$.charCodeAt(G):0,D=!1;if(M===t0){var _=!0;for(G++;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===x);)G++;var g="",N=G;if(G<Z&&$.charCodeAt(G)===W0){for(G++,N=G;N<Z&&$.charCodeAt(N)!==d;){if($.charCodeAt(N)===_0&&N+1<Z){N+=2;continue}if($.charCodeAt(N)===x){_=!1;break}N++}_&&(N>=Z||$.charCodeAt(N)!==d)&&(_=!1),_&&(g=$.slice(G,N),N++)}else if(_){for(var A=0;N<Z;){var L=$.charCodeAt(N);if(L===_0&&N+1<Z){N+=2;continue}if(L===t0)A++;else if(L===e0){if(A===0)break;A--}else if(L===b||L===x)break;N++}g=$.slice(G,N)}if(_){for(G=N;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===x);)G++;var k;if(G<Z){var P=$.charCodeAt(G);if(P===W9||P===H9||P===t0){var w=P===t0?41:P;G++;for(var y=G;G<Z&&$.charCodeAt(G)!==w;)$.charCodeAt(G)===_0&&G+1<Z&&G++,G++;G>=Z?_=!1:(k=$.slice(y,G),G++)}}if(_){for(;G<Z&&($.charCodeAt(G)===b||$.charCodeAt(G)===x);)G++;(G>=Z||$.charCodeAt(G)!==e0)&&(_=!1)}}if(_){G++,g=e9(g),k!==void 0&&(k=e9(k));var S=Y?.sanitizer||y9,E=S(g,J?"img":"a",J?"src":"href"),f=E===null?null:g;if(J){var h=C0(U,0,U.length,V,Y),T=w$(h);return{node:{type:j.image,target:f,alt:T,title:k},end:G}}else{var b0=V.inAnchor;V.inAnchor=!0;var I=b0?[{type:j.text,text:U}]:C0(U,0,U.length,V,Y);return V.inAnchor=b0,!V.inAnchor&&$6(I)?null:{node:{type:j.link,target:f,title:k,children:I},end:G}}}else G=q+1,D=!0}var p="",t=G;if(!D&&M===O0){var C=G+1;t=C;for(var U0=!1;t<Z&&$.charCodeAt(t)!==d0;){if($.charCodeAt(t)===_0&&t+1<Z){t+=2;continue}if($.charCodeAt(t)===O0){U0=!0;break}t++}if(U0||t>=Z)return null;var n=$.slice(C,t);if(n.trim())p=I$(n);else{if(_6(U))return null;p=I$(U)}t=t+1}else{if(_6(U))return null;p=I$(U)}var M0=V.refs[p];if(!M0)return null;if(J)return{node:{type:j.image,target:M0.target,alt:w$(C0(U,0,U.length,V,Y)),title:M0.title},end:t};var e=V.inAnchor;V.inAnchor=!0;var I=e?[{type:j.text,text:U}]:C0(U,0,U.length,V,Y);return V.inAnchor=e,!V.inAnchor&&$6(I)?null:{node:{type:j.link,target:M0.target,title:M0.title,children:I},end:t}}function c6($,Q,Z){if($.charCodeAt(Q)!==W0)return null;for(var V=Q+1;V<Z;){var Y=$.charCodeAt(V);if(Y===d)break;if(Y===b||Y===x||Y===J9||Y===W0)return null;V++}if(V>=Z||$.charCodeAt(V)!==d)return null;var J=$.slice(Q+1,V),K=J.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return K?{node:{type:j.link,target:J,children:[{type:j.text,text:J}]},end:V+1}:J.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(J)?{node:{type:j.link,target:"mailto:"+J,children:[{type:j.text,text:J}]},end:V+1}:null}function q5($,Q,Z,V){if($.charCodeAt(Q)!==O0||Q+1>=Z||$.charCodeAt(Q+1)!==r0)return null;let Y=Q+2;for(;Y<Z&&$.charCodeAt(Y)!==d0&&$.charCodeAt(Y)!==x;)Y++;if(Y>=Z||$.charCodeAt(Y)!==d0)return null;let J=$.slice(Q+2,Y);return J?{node:{type:j.footnoteReference,target:"#"+m0(J),text:J},end:Y+1}:null}function W5($,Q,Z,V){if(V.disableBareUrls)return null;var Y="",J=!1,K=$.charCodeAt(Q);if(K===a9||K===72?Q+8<=Z&&$.charCodeAt(Q+1)===D$&&$.charCodeAt(Q+2)===D$&&$.charCodeAt(Q+3)===h$&&($.charCodeAt(Q+4)===z6&&$.charCodeAt(Q+5)===E0&&$.charCodeAt(Q+6)===A0&&$.charCodeAt(Q+7)===A0?Y="https://":$.charCodeAt(Q+4)===E0&&$.charCodeAt(Q+5)===A0&&$.charCodeAt(Q+6)===A0&&(Y="http://")):K===b9||K===70?Q+6<=Z&&$.charCodeAt(Q+1)===D$&&$.charCodeAt(Q+2)===h$&&$.charCodeAt(Q+3)===E0&&$.charCodeAt(Q+4)===A0&&$.charCodeAt(Q+5)===A0&&(Y="ftp://"):(K===P9||K===87)&&Q+4<=Z&&$.charCodeAt(Q+1)===P9&&$.charCodeAt(Q+2)===P9&&$.charCodeAt(Q+3)===s0&&(Y="www.",J=!0),!Y)return null;let X=Q+Y.length;for(;X<Z;){let A=$.charCodeAt(X);if(A===b||A===x||A===R||A===J9||A===W0||A===d)break;X++}for(var G=0,F=0,W=Q;W<X;W++){var z=$.charCodeAt(W);z===t0?G++:z===e0&&F++}let H=X;for(;H>Q+Y.length;){let A=$.charCodeAt(H-1);if(A===s0||A===m$||A===E0||A===g0||A===u9||A===e0){if(A===e0){if(G>=F)break;F--}H--}else if(A===B$){for(var O=H-2;O>Q&&($.charCodeAt(O)>=r&&$.charCodeAt(O)<=s||$.charCodeAt(O)>=H0&&$.charCodeAt(O)<=j0||$.charCodeAt(O)>=Z0&&$.charCodeAt(O)<=Q0);)O--;O>=Q&&$.charCodeAt(O)===H$?H=O:H--}else break}if(H<=Q+Y.length)return null;var B=Q+(J?4:Y.length),q=$.indexOf("/",B);if((q<0||q>H)&&(q=H),J&&$.indexOf(".",B)===-1)return null;for(var U=-1,M=-1,D=q-1;D>=B;D--)if($.charCodeAt(D)===s0)if(U<0)U=D;else{M=D;break}for(var _=M>=0?M+1:B,D=_;D<q;D++)if($.charCodeAt(D)===B0)return null;var g=$.slice(Q,H),N=J?"http://"+g:g;return{node:{type:j.link,target:N,children:[{type:j.text,text:g}]},end:H}}function z5($,Q,Z,V){if(V.disableBareUrls)return null;for(var Y=Q,J=Y;Y<Z;){var K=$.charCodeAt(Y);if(K>=r&&K<=s||K>=H0&&K<=j0||K>=Z0&&K<=Q0||K===s0||K===g0||K===K9||K===36||K===r9||K===H$||K===H9||K===D0||K===D9||K===A0||K===p0||K===u9||K===r0||K===B0||K===Y0||K===B9||K===P0||K===K$||K===I0||K===c)Y++;else break}if(Y===J||Y>=Z||$.charCodeAt(Y)!==i9)return null;Y++;for(var X=Y,G=-1;Y<Z;){var K=$.charCodeAt(Y);if(K>=r&&K<=s||K>=H0&&K<=j0||K>=Z0&&K<=Q0)Y++;else if((K===c||K===B0)&&Y>X)Y++;else if(K===s0){if(Y===X)break;var F=$.charCodeAt(Y-1);if(F===c||F===B0)break;if(Y+1<Z){var W=$.charCodeAt(Y+1);if(W>=r&&W<=s||W>=H0&&W<=j0||W>=Z0&&W<=Q0)G=Y,Y++;else break}else break}else break}if(G<0)return null;var z=$.charCodeAt(Y-1);if(!(z>=r&&z<=s||z>=H0&&z<=j0||z>=Z0&&z<=Q0)||Y<=G+1)return null;for(var H=-1,O=G-1;O>=X;O--)if($.charCodeAt(O)===s0){H=O;break}for(var B=H>=0?H+1:X,O=B;O<Y;O++)if($.charCodeAt(O)===B0)return null;var q=$.slice(Q,Y);return{node:{type:j.link,target:"mailto:"+q,children:[{type:j.text,text:q}]},end:Y}}function $6($){for(var Q=0;Q<$.length;Q++)if($[Q].type===j.link||"children"in $[Q]&&Array.isArray($[Q].children)&&$6($[Q].children))return!0;return!1}function w$($){for(var Q="",Z=0;Z<$.length;Z++){var V=$[Z];V.type===j.text?Q+=V.text:V.type===j.breakLine?Q+=" ":V.type===j.codeInline?Q+=V.text:"children"in V&&Array.isArray(V.children)?Q+=w$(V.children):V.type===j.image?Q+=V.alt||"":V.type===j.link&&(Q+=w$(V.children))}return Q}function c9($){let Q=$.includes("&")?G$($):$;return{type:j.text,text:Q}}function U5($,Q,Z,V,Y){if($.charCodeAt(Q)!==W0)return null;var J=Q+1;if(J>=Z)return null;var K=$.charCodeAt(J);if(K===g0&&J+1<Z&&$.charCodeAt(J+1)===c&&J+2<Z&&$.charCodeAt(J+2)===c){var X=J+3;if(X<Z&&$.charCodeAt(X)===d)return{node:{type:j.htmlComment,text:"",endsWithGreaterThan:!0},end:X+1};if(X+1<Z&&$.charCodeAt(X)===c&&$.charCodeAt(X+1)===d)return{node:{type:j.htmlComment,text:"-",endsWithGreaterThan:!0},end:X+2};var G=$.indexOf("-->",X);return G!==-1&&G<=Z-3?{node:{type:j.htmlComment,text:$.slice(Q+4,G)},end:G+3}:null}if(K===u9){var F=$.indexOf("?>",J+1);return F!==-1&&F<Z?{node:{type:j.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(Q,F+2)},end:F+2}:null}if(K===g0&&J+1<Z){var W=$.charCodeAt(J+1);if(W===O0&&$.slice(J+1,J+8)==="[CDATA["){var z=$.indexOf("]]>",J+8);return z!==-1&&z<Z?{node:{type:j.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(Q,z+3)},end:z+3}:null}if(W>=r&&W<=s){var H=$.indexOf(">",J+2);return H!==-1&&H<Z?{node:{type:j.htmlSelfClosing,tag:"!"+$.slice(J+1,H),attrs:{},a:$.slice(Q,H+1)},end:H+1}:null}}if(K===A0){var O=J+1;if(O>=Z)return null;var B=$.charCodeAt(O);if(!(B>=r&&B<=s||B>=H0&&B<=j0))return null;for(O++;O<Z;){var q=$.charCodeAt(O);if(q>=r&&q<=s||q>=H0&&q<=j0||q>=Z0&&q<=Q0||q===c)O++;else break}for(;O<Z&&($.charCodeAt(O)===b||$.charCodeAt(O)===R||$.charCodeAt(O)===x);)O++;if(O<Z&&$.charCodeAt(O)===d){var U=$.slice(J+1,O).trim();return{node:{type:j.htmlSelfClosing,tag:U,attrs:{},a:$.slice(Q,O+1),b:!0},end:O+1}}return null}if(!(K>=r&&K<=s||K>=H0&&K<=j0))return null;var M=j9($,Q);if(!M)return null;var D=M.tag,_=D.toLowerCase(),g=M.selfClosing;if(g||s9(D))return{node:{type:j.htmlSelfClosing,tag:D,attrs:k9(M.attrs,D,Y),a:$.slice(Q,M.end)},end:M.end};var N=q$.has(_),A=u6($.slice(0,Z),M.end,D);if(A===-1)return{node:{type:j.htmlSelfClosing,tag:D,attrs:k9(M.attrs,D,Y),a:$.slice(Q,M.end)},end:M.end};var L=tZ($,"</"+_,A),k=$.slice(M.end,L),P=[];if(N)k.trim()&&(P=[{type:j.text,text:k}]);else{var w=k.trim();if(w){var{inAnchor:y,inline:S}=V;_==="a"&&(V.inAnchor=!0);var E=w.indexOf(`

`)!==-1||/^#{1,6}\s/.test(w);E?(V.inline=!1,P=A9(w,V,Y)):P=C0(w,0,w.length,V,Y),V.inAnchor=y,V.inline=S}}return{node:{type:j.htmlBlock,tag:D,attrs:k9(M.attrs,D,Y),e:M.rawAttrs,children:P,text:k,d:!1},end:A}}var O5=200,t9=0;function C0($,Q,Z,V,Y){if(t9++,t9>O5)return t9--,[{type:j.text,text:$.slice(Q,Z)}];let J=V;if(Y.streaming||Y.optimizeForStreaming){let V0=function(i,x0){for(var f0=1,u0=x0+1;u0<i.length;u0++){var q0=i.charCodeAt(u0);if(q0===O0)f0++;else if(q0===d0&&(f0--,f0===0))return u0}return-1},v=$.slice(Q,Z),m=v;for(var K=0,X=0,G=0,F=0,W=0,z=-1,H=-1,O=-1,B=-1,q=-1,U=0;U<v.length;U++){var M=v.charCodeAt(U);M===D0?U+1<v.length&&v.charCodeAt(U+1)===D0?(K++,z=U,U++):(X++,H=U):M===B0?U+1<v.length&&v.charCodeAt(U+1)===B0?(G++,O=U,U++):(F++,B=U):M===I0&&U+1<v.length&&v.charCodeAt(U+1)===I0&&(W++,q=U,U++)}var D=[];W%2===1&&q>=0&&D.push([q,2]),G%2===1&&O>=0&&D.push([O,2]),F%2===1&&B>=0&&D.push([B,1]),K%2===1&&z>=0&&D.push([z,2]),X%2===1&&H>=0&&D.push([H,1]),D.sort(function(i,x0){return x0[0]-i[0]});for(var _=0;_<D.length;_++){var g=D[_][0],N=D[_][1];v=v.slice(0,g)+v.slice(g+N)}let F0=0,R0=-1;for(let i=0;i<v.length;i++)v.charCodeAt(i)===Y0&&(F0++,R0=i);if(F0%2===1&&R0!==-1){let i=!1,x0=-1,f0=0;for(;f0<v.length;)v.charCodeAt(f0)===Y0&&(i?(i=!1,x0=-1):(x0=f0,i=!0)),f0++;i&&x0!==-1&&(v=v.slice(0,x0))}for(var A=!0;A;){A=!1;for(var L=-1,k=-1,P=-1,w=!1,y=0;y<v.length;y++){var S=v.charCodeAt(y);if(S===O0&&(y===0||v.charCodeAt(y-1)!==_0)){var E=y>0&&v.charCodeAt(y-1)===g0,f=E?y-1:y,h=V0(v,y);if(h===-1)L=f,w=E,k=y+1,P=v.length;else{var T=h+1;if(T>=v.length)L=f,w=E,k=y+1,P=h;else if(v.charCodeAt(T)===t0){var b0=v.indexOf(")",T+1);b0===-1?(L=f,w=E,k=y+1,P=h,y=v.length):y=b0}else if(v.charCodeAt(T)===O0){var I=v.indexOf("]",T+1);I===-1?(L=f,w=E,k=y+1,P=h,y=v.length):y=I}else y=h}}}if(L>=0){var p=w?"":v.slice(k,P);v=v.slice(0,L)+p,A=!0}}let y0=v.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(y0&&y0.index!==void 0){for(var t=!1,C=0,U0=0;U0<y0.index;U0++)v.charCodeAt(U0)===Y0&&C++;if(t=C%2===1,!t){let i=y0[1];M9(v,"</"+i,0)===-1&&(v=v.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}v!==m&&($=$.slice(0,Q)+v,Z=Q+v.length)}let n=[];var M0=[];let e=Q;var z0=Y.disableAutoLink||Y.disableBareUrls||J.inAnchor?-1:$.indexOf("@",Q);for(z0>=Z&&(z0=-1);Q<Z;){let v=$.charCodeAt(Q),m=null;if(v===Y0){if(m=Y5($,Q,Z),!m){var $0=v9($,Q,Z,Y0);Q+=$0-1}}else if(v===D0||v===B0){var l=G5($,Q,Z);if(l){if(l.canOpen||l.canClose){Q>e&&n.push(c9($.slice(e,Q)));var u=$.slice(Q,Q+l.len),v0=c9(u);M0.push({idx:n.length,ch:v,len:l.len,canOpen:l.canOpen,canClose:l.canClose,active:!0}),n.push(v0),Q+=l.len,e=Q;continue}Q+=l.len-1}}else v===I0?m=J5($,Q,Z,J,Y):v===p0?m=K5($,Q,Z,J,Y):v===O0?(Q+1<Z&&$.charCodeAt(Q+1)===r0&&(m=q5($,Q,Z,J)),m||(m=y6($,Q,Z,J,Y))):v===g0&&Q+1<Z&&$.charCodeAt(Q+1)===O0?m=y6($,Q,Z,J,Y):v===W0?(m=c6($,Q,Z),!m&&!Y.disableParsingRawHTML&&!Y.ignoreHTMLBlocks&&(m=U5($,Q,Z,J,Y))):(v===a9||v===P9||v===b9)&&!J.inAnchor&&!Y.disableAutoLink&&(Q===0||$.charCodeAt(Q-1)!==W0)&&(m=W5($,Q,Z,Y));if(!m&&z0>=0&&z0-Q<=64&&!J.inAnchor&&!Y.disableAutoLink&&!Y.disableBareUrls&&(v>=r&&v<=s||v>=H0&&v<=j0||v>=Z0&&v<=Q0)&&(m=z5($,Q,Z,Y),!m&&Q>=z0&&(z0=$.indexOf("@",Q+1),z0>=Z&&(z0=-1))),v===C$){Q>e&&n.push(c9($.slice(e,Q))),n.push({type:j.breakLine}),Q++,e=Q;continue}if(m)Q>e&&n.push(c9($.slice(e,Q))),n.push(m.node),Q=m.end,e=Q;else{if(v===_0&&Q+1<Z){let F0=$.charCodeAt(Q+1);if(Z6(F0)&K0){Q>e&&n.push(c9($.slice(e,Q))),n.push(c9($[Q+1])),Q+=2,e=Q;continue}}if(Q++,z0<0||z0-Q>64)for(;Q<Z;){var L0=$.charCodeAt(Q);if(L0<c0&&!S6[L0])Q++;else break}}}if(Z>e){let v=$.slice(e,Z);(Y.streaming||Y.optimizeForStreaming)&&(v=v.replace(/\*\*([^*]+)$/,"$1"),v.match(/\*[^*]+$/)&&(v=v.replace(/\*([^*]+)$/,"$1")),v=v.replace(/__([^_]+)$/,"$1"),v.match(/_[^_]+$/)&&(v=v.replace(/_([^_]+)$/,"$1")),v=v.replace(/~~([^~]+)$/,"$1"),v=v.replace(/\[([^\]]+)$/,"$1"),v=v.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),v&&n.push(c9(v))}return M0.length>0&&F5(n,M0,V,Y),t9--,n}var H5=500;function A9($,Q,Z){var V=Q.g||0;if(V>H5)return[{type:j.text,text:$}];Q.g=V+1;let Y=Q;if(Z.streaming||Z.optimizeForStreaming){var J=$.length;J>0&&$.charCodeAt(J-1)===x&&J--;for(var K=J;K>0&&$.charCodeAt(K-1)!==x;)K--;if(K>0&&$.charCodeAt(K)===P0){for(var X=!0,G=K;G<J;G++){var F=$.charCodeAt(G);if(F!==b&&F!==R&&F!==c&&F!==E0&&F!==P0){X=!1;break}}if(X){for(var W=K-1;W>0&&$.charCodeAt(W-1)!==x;)W--;$.charCodeAt(W)===P0&&($=$.slice(0,W).trimEnd())}}var z=$.trim(),H=z.lastIndexOf(`
`),O=H===-1?z:z.slice(H+1);if(O.length>0&&O.charCodeAt(0)===P0){for(var B=!1,q=!1,U=1;U<O.length;U++){var M=O.charCodeAt(U);M===P0&&(B=!0),M===c&&(q=!0)}B&&q&&($=H===-1?"":$.slice(0,$.lastIndexOf(O)).trimEnd())}for(var D=-1,_=-1,g=-1,N=$.length-1;N>=0;N--)if($.charCodeAt(N)===W0){var A=N+1<$.length?$.charCodeAt(N+1):0;if(A>=r&&A<=s||A>=H0&&A<=j0){for(var L=N+2;L<$.length;){var k=$.charCodeAt(L);if(k>=r&&k<=s||k>=H0&&k<=j0||k>=Z0&&k<=Q0)L++;else break}for(var P=L;P<$.length&&$.charCodeAt(P)!==d;)P++;if(P<$.length){for(var w=!1,y=P+1;y<$.length;y++)if($.charCodeAt(y)===W0){w=!0;break}w||(D=N,_=L,g=P+1)}}break}if(D>=0){for(var S=0,E=0;E<D;E++)$.charCodeAt(E)===Y0&&S++;if(S%2===0){var f=$.slice(D+1,_);M9($,"</"+f,0)===-1&&($=$.slice(0,D)+$.slice(g))}}var h=$.length;if(h>0){for(var T=$.lastIndexOf(`
`),b0=T===-1?0:T+1,I=h,p=b0,t=0;p<I&&$.charCodeAt(p)===b&&t<3;)p++,t++;if(p<I){var C=$.charCodeAt(p),U0=!1;if(C===D0||C===c||C===D9){var n=p+1;if(n>=I||$.charCodeAt(n)===b||$.charCodeAt(n)===R){for(var M0=n;M0<I&&($.charCodeAt(M0)===b||$.charCodeAt(M0)===R);)M0++;M0>=I&&(U0=!0)}}else if(C>=Z0&&C<=Q0){for(var e=p;e<I&&$.charCodeAt(e)>=Z0&&$.charCodeAt(e)<=Q0;)e++;if(e<I&&($.charCodeAt(e)===s0||$.charCodeAt(e)===e0)){var z0=e+1;if(z0>=I||$.charCodeAt(z0)===b||$.charCodeAt(z0)===R){for(var $0=z0;$0<I&&($.charCodeAt($0)===b||$.charCodeAt($0)===R);)$0++;$0>=I&&(U0=!0)}}}U0&&($=$.slice(0,b0).trimEnd())}}}if(Q.inline)return C0($,0,$.length,Q,Z);let l=[],u=0,v0=$.length;if(u===0&&$.startsWith("---")){let V0=o$($);if(V0&&V0.hasValidYaml){if(Z.preserveFrontmatter!==!1){let y0=$.slice(0,V0.endPos).trimEnd();l.push({type:j.frontmatter,text:y0})}u=V0.endPos}}for(;u<v0;){for(var L0=$.indexOf(`
`,u),v=L0<0?v0:L0;u<v0&&$9($,u,v);)u=v<v0?v+1:v,u<v0&&(L0=$.indexOf(`
`,u),v=L0<0?v0:L0);if(u>=v0)break;$.charCodeAt(u),N0($,u,v);let V0=null;if($.charCodeAt(u)!==n9&&X0>=4&&!Q.inHTML)V0=aZ($,u);else if($.charCodeAt(u)!==n9){let y0=u+J0,i=$.charCodeAt(y0);i===K9?V0=m6($,u,Q,Z):i===d?V0=nZ($,u,Q,Z):i===Y0||i===I0?V0=iZ($,u,Q):i===c||i===D0||i===B0?(V0=S9($,u),!V0&&(V0=I6($,u,Q,Z))):i===D9||i>=Z0&&i<=Q0?V0=I6($,u,Q,Z):i===W0?V0=p6($,u,Q,Z):i===P0?V0=P6($,u,Q,Z):i===O0&&(V0=$5($,u,Q))}if(!V0){for(var m=!1,F0=u;F0<v;F0++)if($.charCodeAt(F0)===P0){m=!0;break}m&&(V0=P6($,u,Q,Z))}if(V0||(V0=Q5($,u,Q,Z)),V0)V0.node.type!==j.refCollection&&l.push(V0.node),u=V0.end;else{var R0=$.indexOf(`
`,u);u=R0<0?v0:R0+1}}return Q.g=V,l}function D5($,Q){t9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=v$($);let Z={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},V={...Q,slugify:Q?.slugify?J=>Q.slugify(J,m0):m0,sanitizer:Q?.sanitizer||y9,tagfilter:Q?.tagfilter!==!1};R$($,Z.refs,V);let Y=A9($,Z,V);return Z.refs&&Object.keys(Z.refs).length>0?[{type:j.refCollection,refs:Z.refs},...Y]:Y}function l6($,Q,Z,V){var Y=j9($,Q);return Y?{tagName:Y.tag,tagLower:Y.tag.toLowerCase(),attrs:Y.rawAttrs,whitespaceBeforeAttrs:Y.whitespaceBeforeAttrs,isSelfClosing:Y.selfClosing,hasSpaceBeforeSlash:Y.hasSpaceBeforeSlash,isClosing:Y.isClosing,hasNewline:Y.whitespaceBeforeAttrs.includes(`
`)||Y.rawAttrs.includes(`
`),endPos:Y.end}:null}function L$($,Q,Z){t9=0,$=v$($),!Q.refs&&(Q.refs={}),R$($,Q.refs,Z);let V=A9($,Q,Z);return Q.refs&&Object.keys(Q.refs).length>0?[{type:j.refCollection,refs:Q.refs},...V]:V}var j5=/^\n+/,Q6=typeof o0.createContext<"u"?o0.createContext(void 0):void 0;function M5($,Q,Z,V,Y,J,K,X){switch($.type){case j.blockQuote:{let q={key:Z.key};return $.alert&&(q.className="markdown-alert-"+J($.alert.toLowerCase(),m0),$.children.unshift({attrs:{},children:[{type:j.text,text:$.alert}],d:!0,type:j.htmlBlock,tag:"header"})),V("blockquote",q,Q($.children,Z))}case j.breakLine:return V("br",{key:Z.key});case j.breakThematic:return V("hr",{key:Z.key});case j.frontmatter:return X.preserveFrontmatter?V("pre",{key:Z.key},$.text):null;case j.codeBlock:let B=$.lang?G$($.lang):"";return V("pre",{key:Z.key},V("code",{...i0($.attrs||{}),className:B?`language-${B} lang-${B}`:""},$.text));case j.codeInline:return V("code",{key:Z.key},$.text);case j.footnoteReference:return V("a",{key:Z.key,href:Y($.target,"a","href")||void 0},V("sup",{key:Z.key},$.text));case j.gfmTask:return V("input",{checked:$.completed,key:Z.key,readOnly:!0,type:"checkbox"});case j.heading:return V(`h${$.level}`,{id:$.id,key:Z.key},Q($.children,Z));case j.htmlBlock:{let q=$;if(X.tagfilter&&_$(q.tag)){var G="";if(q.attrs)for(var F in q.attrs){var W=q.attrs[F];W===!0?G+=" "+F:W!=null&&W!==!1&&(G+=" "+F+'="'+String(W)+'"')}return V("span",{key:Z.key},"<"+q.tag+G+">")}if(q.a&&q.d){let P=function(I){if((I.type===j.htmlSelfClosing||I.type===j.htmlBlock)&&I.b)return[];if(I.type===j.paragraph){let p=I.children;return p?p.flatMap(P):[]}return I.type===j.text?I.text?.trim()?[I]:[]:I.type===j.htmlBlock&&I.children?[{...I,children:I.children?.flatMap(P)}]:[I]},y=function(I){for(var p=0;p<I.length;p++)I[p].type===j.htmlBlock&&(I[p].d=!1),"children"in I[p]&&I[p].children&&y(I[p].children)},b0=function(I,p){for(var t=0;t<I.length;t++){var C=I[t];if(C.type===j.paragraph&&C.children)for(var U0=C.children,n=0;n<U0.length;n++){var M0=U0[n];if(M0.type===j.htmlSelfClosing&&M0.b&&M0.tag.toLowerCase()===p){var e=I.slice(0,t);n>0&&e.push({type:j.paragraph,children:U0.slice(0,n)});var z0=[];if(n+1<U0.length){var $0=U0.slice(n+1);$0=$0.filter(function(l){return!(l.type===j.htmlSelfClosing&&l.b)}),$0.length>0&&(z0=$0)}return z0=z0.concat(I.slice(t+1)),{found:!0,beforeClose:e,afterClose:z0}}}if((C.type===j.htmlSelfClosing||C.type===j.htmlBlock)&&C.b&&C.tag.toLowerCase()===p)return{found:!0,beforeClose:I.slice(0,t),afterClose:I.slice(t+1)}}return{found:!1,beforeClose:I,afterClose:[]}},U=q.tag.toLowerCase(),M=g6(U),D=q.children&&q.children.length>0,_=/<[a-z][^>]{0,100}>/i.test(q.a);if(M&&!_){let I=q.a.replace(new RegExp("\\s*</"+U+">\\s*$","i"),"");return X.tagfilter&&(I=N$(I)),V($.tag,{key:Z.key,...i0($.attrs||{})},I)}let g=new RegExp(`^<${q.tag}(\\s|>)`,"i").test(q.a);if(D&&!g&&X.tagfilter&&n$(q.a))return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z));if(E6(q.a)){let I=X.tagfilter?N$(q.a):q.a;return V($.tag,{key:Z.key,...i0($.attrs||{}),dangerouslySetInnerHTML:{__html:I}})}let A={slugify:I=>J(I,m0),sanitizer:Y,tagfilter:!0},L=q.a.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${q.tag}(\\s[^>]*)?>(\\s*</${q.tag}>)?$`,"i").test(L))return q.children&&q.children.length>0?V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z)):V($.tag,{key:Z.key,...i0($.attrs||{})});let w=L$(L,{inline:!1,refs:K,inHTML:!1},A);y(w);let S=q.tag.toLowerCase(),E="</"+S+">",f=new RegExp(`^<${q.tag}(\\s|>)`,"i").test(L),h=L.toLowerCase().trimEnd().endsWith(E),T=f&&h;if(T&&D)return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z));if(T)return Q(w.flatMap(P),Z);var z=b0(w,S);if(z.found&&z.afterClose.length>0){var H=z.beforeClose.flatMap(P),O=z.afterClose.flatMap(P);return o0.createElement(o0.Fragment,null,V($.tag,{key:Z.key,...i0($.attrs||{})},Q(H,Z)),Q(O,Z))}return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(w.flatMap(P),Z))}return V($.tag,{key:Z.key,...i0($.attrs||{})},$.children?Q($.children,Z):"")}case j.htmlSelfClosing:{let q=$;if(X.tagfilter&&_$(q.tag)){var G="";if(q.attrs)for(var F in q.attrs){var W=q.attrs[F];W===!0?G+=" "+F:W!=null&&W!==!1&&(G+=" "+F+'="'+String(W)+'"')}return V("span",{key:Z.key},"<"+q.tag+G+" />")}return V($.tag,{key:Z.key,...i0($.attrs||{})})}case j.image:{let q=$.target!=null?Y($.target,"img","src"):null;return V("img",{key:Z.key,alt:$.alt&&$.alt.length>0?$.alt:void 0,title:$.title||void 0,src:q||void 0})}case j.link:{let q={key:Z.key};return $.target!=null&&(q.href=i$($.target)),$.title&&(q.title=$.title),V("a",q,Q($.children,Z))}case j.table:{let q=$;return V("table",{key:Z.key},V("thead",null,V("tr",null,q.header.map(function(M,D){return V("th",{key:D,style:q.align[D]==null?{}:{textAlign:q.align[D]}},Q(M,Z))}))),V("tbody",null,q.cells.map(function(M,D){return V("tr",{key:D},M.map(function(g,N){return V("td",{key:N,style:q.align[N]==null?{}:{textAlign:q.align[N]}},Q(g,Z))}))})))}case j.text:return $.text;case j.textFormatted:return V($.tag,{key:Z.key},Q($.children,Z));case j.orderedList:case j.unorderedList:{let q=$.type===j.orderedList?"ol":"ul";return V(q,{key:Z.key,start:$.type===j.orderedList?$.start:void 0},$.items.map(function(M,D){return V("li",{key:D},Q(M,Z))}))}case j.paragraph:return V("p",{key:Z.key},Q($.children,Z));case j.ref:return null;default:return null}}var A5=($,Q,Z,V,Y,J)=>{let K=(F,W,z)=>{let H=()=>M5(F,W,z,Q,Z,V,Y,J);return $?$(H,F,W,z):H()},X=F=>F.map(W=>"text"in W?W.text:""),G=(F,W={})=>{let z=(W.renderDepth||0)+1;if(z>2500)return X(F);W.renderDepth=z;let H=W.key,O=[],B=!1;for(let q=0;q<F.length;q++){W.key=q;let U=K(F[q],G,W),M=typeof U=="string";if(M&&B)O[O.length-1]+=U;else if(U!==null)if(Array.isArray(U))for(let D=0;D<U.length;D++)O.push(U[D]);else O.push(U);B=M}return W.key=H,W.renderDepth=z-1,O};return G},v5=($,Q)=>{let Z=d9(Q,$,void 0);return Z?typeof Z=="function"||typeof Z=="object"&&"render"in Z?Z:d9(Q,`${$}.component`,$):$};function _5($,Q){let Z={...Q||{}};Z.overrides=Z.overrides||{};let V=Z.slugify||m0,Y=Z.sanitizer||y9,J=Z.createElement||o0.createElement,K=q=>V6(q,{...Z,wrapper:null});function X(q,U,...M){let D=d9(Z.overrides,`${q}.props`,{}),_=i0(U||{});if(K){for(let[g,N]of Object.entries(_))if(typeof N=="string"&&N.length>0&&N[0]==="<"&&(L6.test(N)||k6.test(N)||l6(N,0))){let A=K(N.trim());_[g]=g==="innerHTML"&&Array.isArray(A)?A[0]:A}}return J(v5(q,Z.overrides),{..._,...D,className:a$(_?.className,D.className)||void 0},...M)}let G={...Z,slugify:q=>V(q,m0),sanitizer:Y,tagfilter:Z.tagfilter!==!1},F=$[0]&&$[0].type===j.refCollection?$[0].refs:{},W=A5(Z.renderRule,X,Y,V,F,Z),z=W($,{inline:Z.forceInline,refs:F}),H=[];for(let q in F)q.charCodeAt(0)===r0&&H.push({identifier:q,footnote:F[q].target});if(H.length&&z.push(X("footer",{key:"footer"},H.map(function(U){let M=U.identifier.charCodeAt(0)===r0?U.identifier.slice(1):U.identifier,D=L$(U.footnote,{inline:!0,refs:F},G);return X("div",{id:V(M,m0),key:U.identifier},M+": ",W(D,{inline:!0,refs:F}))}))),Z.wrapper===null)return z;let O=Z.wrapper||(Z.forceInline?"span":"div"),B;if(z.length>1||Z.forceWrapper)B=z;else return z.length===1?z[0]:null;return J(O,{key:"outer",...Z.wrapperProps},B)}function V6($="",Q={}){let Z={...Q||{}};Z.overrides=Z.overrides||{};let V=Z.slugify||m0,Y=Z.sanitizer||y9;function J(G){let F=Z.forceInline||!Z.forceBlock&&!r$.test(G),W={...Z,slugify:O=>V(O,m0),sanitizer:Y,tagfilter:Z.tagfilter!==!1};F||R$(G,K,W);let z=G;if(!F){let O=z.length;for(;O>0&&(z[O-1]===`
`||z[O-1]==="\r");)O--;z=z.slice(0,O),z=`${z.replace(j5,"")}

`}if(Z.optimizeForStreaming){let O=z.lastIndexOf("<");O!==-1&&z.slice(O).indexOf(">")===-1&&(z=z.slice(0,O))}let H=L$(F?G:z,{inline:F,refs:K},W);return _5(H,{...W,forceInline:F})}let K={};return J($)}var S5=({options:$,children:Q})=>Q6?o0.createElement(Q6.Provider,{value:$},Q):Q,N5=({children:$,options:Q,...Z})=>{if(!(typeof o0.useContext<"u")){let G={...Q,overrides:{...Q?.overrides},wrapperProps:{...Q?.wrapperProps,...Z}};return V6($??"",G)}let Y=o0.useContext(Q6),J=o0.useMemo(()=>({...Y,...Q,overrides:{...Y?.overrides,...Q?.overrides},wrapperProps:{...Y?.wrapperProps,...Q?.wrapperProps,...Z}}),[Y,Q,Z]),K=$??"";return o0.useMemo(()=>V6(K,J),[K,J])},T5=N5;export{m0 as slugify,y9 as sanitizer,D5 as parser,T5 as default,V6 as compiler,_5 as astToJSX,j as RuleType,S5 as MarkdownProvider,Q6 as MarkdownContext,N5 as Markdown};
