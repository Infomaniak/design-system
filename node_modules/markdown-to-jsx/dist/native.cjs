var _Z=Object.create,{getPrototypeOf:IZ,defineProperty:G$,getOwnPropertyNames:U6,getOwnPropertyDescriptor:PZ}=Object,O6=Object.prototype.hasOwnProperty,NZ=($,J,Z)=>{Z=$!=null?_Z(IZ($)):{};let Q=J||!$||!$.h?G$(Z,"default",{value:$,enumerable:!0}):Z;for(let X of U6($))O6.call(Q,X)||G$(Q,X,{get:()=>$[X],enumerable:!0});return Q},z6=new WeakMap,bZ=$=>{var J=z6.get($),Z;return J||(J=G$({},"__esModule",{value:!0}),($&&typeof $=="object"||typeof $=="function")&&U6($).map(Q=>!O6.call(J,Q)&&G$(J,Q,{get:()=>$[Q],enumerable:!(Z=PZ($,Q))||Z.enumerable})),z6.set($,J),J)},H6=($,J)=>{for(var Z in J)G$($,Z,{get:J[Z],enumerable:!0,configurable:!0,set:Q=>J[Z]=()=>Q})},SJ={};H6(SJ,{slugify:()=>o0,sanitizer:()=>B9,parser:()=>o6,default:()=>kJ,compiler:()=>i6,astToNative:()=>r6,RuleType:()=>_,MarkdownProvider:()=>yJ,MarkdownContext:()=>X6,Markdown:()=>a6}),module.exports=bZ(SJ);var z9=NZ(require("react")),d=require("react-native"),P=32,N=9,X9=13,g=10,$0=96,I0=126,U0=91,r0=94,u=62,Y9=35,D6=36,i9=37,p=45,p0=61,v0=92,H0=42,D0=95,F0=60,a9=64,d0=93,g0=33,D$=38,x0=58,m$=70,b9=102,n9=104,R9=119,j$=116,C$=112,j6=115,B6=160,M6=12,u$=44,B$=59,p9=63,n0=46,B0=47,H9=39,q9=34,D9=43,N0=124,j9=123,V$=125,s0=40,t0=41,s9=30,p$=31,s=48,t=57,l=65,n=90,O0=97,j0=122,c0=128,K9=32,RZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},_=RZ,t$={};H6(t$,{startsWith:()=>l$,slugify:()=>o0,skipWhitespace:()=>lZ,shouldFilterTag:()=>P$,sanitizer:()=>B9,parseFrontmatterBounds:()=>i$,normalizeInput:()=>I$,isVoidElement:()=>t9,isUnicodeWhitespace:()=>pZ,isUnicodePunctuation:()=>dZ,isSpaceOrTabCode:()=>TZ,isDigitCode:()=>mZ,isAlphaCode:()=>hZ,isAlnumCode:()=>I6,isASCIIWhitespace:()=>fZ,isASCIIPunctuation:()=>xZ,inlineCharTypeTable:()=>gZ,htmlAttrsToJSXProps:()=>S9,hasKeys:()=>oZ,getTag:()=>iZ,getOverrideProps:()=>aZ,get:()=>c9,findLineEnd:()=>cZ,extractPlainText:()=>N6,endsWith:()=>yZ,encodeUrlTarget:()=>s$,decodeEntityReferences:()=>n$,cx:()=>rZ,containsTagfilterTag:()=>sZ,charClassTable:()=>W9,applyTagFilterToText:()=>N$,VOID_ELEMENTS:()=>o$,SHOULD_RENDER_AS_BLOCK_R:()=>a$,SANITIZE_R:()=>c$,NAMED_CODES_TO_UNICODE:()=>wZ,HTML_TO_JSX_MAP:()=>_6,HTML_CHAR_CODE_R:()=>v6,CC_WHITESPACE:()=>w9,CC_SPACE_TAB:()=>M$,CC_PUNCTUATION:()=>y9,CC_NEWLINE:()=>r$,CC_DIGIT:()=>_$,CC_ALPHA_UPPER:()=>P6,CC_ALPHA:()=>F$,ATTRIBUTES_TO_SANITIZE:()=>SZ});var v$=require("#entities");function i$($){if(!l$($,"---"))return null;let J=3;for(;J<$.length&&($[J]===" "||$[J]==="	");)J++;if(J<$.length&&$[J]==="\r"&&J++,J>=$.length||$[J]!==`
`)return null;J++;let Z=!1;for(;J<$.length;){let Q=J;for(;J<$.length&&$[J]!==`
`&&$[J]!=="\r";)J++;if(J>=$.length)break;let X=J;if($[J]==="\r"&&J++,J<$.length&&$[J]===`
`&&J++,l$($,"---",Q))return{endPos:J,hasValidYaml:Z};let Y=$.indexOf(":",Q);Y!==-1&&Y<X&&(Z=!0)}return null}var wZ=v$.NAMED_CODES_TO_UNICODE,v6=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,_6={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function S9($){var J={};for(var Z in $){var Q=Z.toLowerCase(),X=_6[Q];if(X)J[X]=$[Z];else{var Y=Z.indexOf(":");Y!==-1?J[Z.slice(0,Y)+Z[Y+1].toUpperCase()+Z.slice(Y+2)]=$[Z]:J[Z]=$[Z]}}return J}var a$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function n$($){return $.indexOf("&")===-1?$:$.replace(v6,(J,Z)=>{var Q=v$.decodeEntity(Z);if(Q)return Q;if(Z[0]==="#"){var X=Z[1]==="x"||Z[1]==="X"?parseInt(Z.slice(2),16):parseInt(Z.slice(1),10);return X===0||X>=55296&&X<=57343||X>1114111?"\uFFFD":X<=65535?String.fromCharCode(X):String.fromCharCode(55296+(X-65536>>10),56320+(X-65536&1023))}return J})}var c$=/(javascript|vbscript|data(?!:image)):/i;function B9($){if(c$.test($))return null;if($.indexOf("%")===-1)return $;try{let J=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(c$.test(J))return null}catch{return null}return $}var m0={},l0,R0;for(l0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],R0=0;R0<l0.length;R0++)m0[l0[R0]]="a";for(m0[231]=m0[199]="c",m0[240]=m0[208]="d",l0=[200,201,202,203,233,232,234,235],R0=0;R0<l0.length;R0++)m0[l0[R0]]="e";for(l0=[207,239,206,238,205,237,204,236],R0=0;R0<l0.length;R0++)m0[l0[R0]]="i";for(m0[209]=m0[241]="n",l0=[248,216,339,338,213,245,212,244,211,243,210,242],R0=0;R0<l0.length;R0++)m0[l0[R0]]="o";for(l0=[220,252,219,251,218,250,217,249],R0=0;R0<l0.length;R0++)m0[l0[R0]]="u";m0[376]=m0[255]=m0[221]=m0[253]="y";function I6($){return $<c0&&(W9[$]&(F$|_$))!==0}function o0($){for(var J=[],Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(I6(Q))Q>=l&&Q<=n?J.push(String.fromCharCode(Q+K9)):J.push($[Z]);else if(Q===P||Q===p)J.push("-");else{var X=m0[Q];X&&J.push(X)}}return J.join("")}function l$($,J,Z){return $.startsWith(J,Z)}function yZ($,J,Z){return $.startsWith(J,(Z===void 0?$.length:Z)-J.length)}var o$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function t9($){let J=$.toLowerCase();if(o$.has(J))return!0;let Z=J.indexOf(":");return Z!==-1?(J=J.slice(Z+1),o$.has(J)):!1}var SZ=["src","href","data","formAction","srcDoc","action"],w9=1,y9=2,F$=4,_$=8,r$=16,M$=32,P6=64,A6=1,kZ=2,LZ=3,EZ=4,W9=(function(){let $=new Uint8Array(128),J;for($[N]=w9|M$,$[g]=w9|r$,$[M6]=w9,$[X9]=w9|r$,$[P]=w9|M$,J=g0;J<=B0;J++)$[J]=y9;for(J=x0;J<=a9;J++)$[J]=y9;for(J=U0;J<=$0;J++)$[J]=y9;for(J=j9;J<=I0;J++)$[J]=y9;for(J=s;J<=t;J++)$[J]=_$;for(J=l;J<=n;J++)$[J]=F$|P6;for(J=O0;J<=j0;J++)$[J]=F$;return $})(),gZ=(function(){let $=new Uint8Array(128);return $[v0]=kZ,$[U0]=EZ,$[H0]=$[D0]=$[I0]=$[p0]=LZ,$[$0]=$[F0]=$[a9]=$[d0]=$[g]=$[P]=$[g0]=A6,$[b9]=$[n9]=$[R9]=A6,$})();function xZ($){return $<c0&&(W9[$]&y9)!==0}function fZ($){return $<c0&&(W9[$]&w9)!==0}function TZ($){return $<c0&&(W9[$]&M$)!==0}function hZ($){return $<c0&&(W9[$]&F$)!==0}function mZ($){return $<c0&&(W9[$]&_$)!==0}var CZ=/[\p{P}\p{S}]/u,uZ=/\p{Zs}/u;function pZ($){if(!$)return!0;let J=$.charCodeAt(0);return J<c0?(W9[J]&w9)!==0:uZ.test($)}function dZ($){if(typeof $=="number")return $<c0&&(W9[$]&y9)!==0;if(!$)return!1;let J=$.charCodeAt(0);return J<c0?(W9[J]&y9)!==0:CZ.test($)}function cZ($,J){let Z=$.indexOf(`
`,J);return Z===-1?$.length:Z>0&&$.charCodeAt(Z-1)===X9?Z-1:Z}var d9=[];function I$($){var J=$.indexOf("\r"),Z=$.indexOf("\0");if(J===-1&&Z===-1)return $;var Q=$.length;d9.length=0;var X=0,Y=0;for(J===-1?Y=Z:Z===-1?Y=J:Y=J<Z?J:Z;Y<Q;Y++){var G=$.charCodeAt(Y);G===X9?(X<Y&&d9.push($.slice(X,Y)),Y+1<Q&&$.charCodeAt(Y+1)===g&&Y++,d9.push(`
`),X=Y+1):G===0&&(X<Y&&d9.push($.slice(X,Y)),d9.push("\uFFFD"),X=Y+1)}return X<Q&&d9.push($.slice(X)),d9.join("")}function lZ($,J,Z){let Q=Z??$.length;for(;J<Q&&($[J]===" "||$[J]==="	");)J++;return J}function oZ($){if(!$)return!1;for(var J in $)return!0;return!1}function c9($,J,Z){for(var Q=$,X=J.split("."),Y=0;Y<X.length&&(Q=Q?.[X[Y]],Q!==void 0);)Y++;return Q||Z}function s$($){for(var J=!1,Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q<=P||Q===q9||Q===i9||Q===F0||Q===u||Q===U0||Q===v0||Q===d0||Q===r0||Q===$0||Q>=123){J=!0;break}}if(!J)return $;for(var X="",Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q===i9&&Z+2<$.length){var Y=$.charCodeAt(Z+1),G=$.charCodeAt(Z+2);if((Y>=s&&Y<=t||Y>=l&&Y<=m$||Y>=O0&&Y<=b9)&&(G>=s&&G<=t||G>=l&&G<=m$||G>=O0&&G<=b9)){X+=$[Z]+$[Z+1]+$[Z+2],Z+=2;continue}}X+=encodeURI($[Z])}return X}function rZ(...$){return $.filter(Boolean).join(" ")}function iZ($,J){if(!J)return $;let Z=c9(J,$,void 0);return typeof Z=="string"?Z:typeof Z=="object"&&Z.component?Z.component:$}function aZ($,J){if(!J)return{};let Z=c9(J,$,void 0);return typeof Z=="object"&&Z.props?Z.props:{}}function N6($,J){for(var Z="",Q=0,X=$.length;Q<X;Q++){var Y=$[Q],G=Y.type;if(G===J.text||G===J.codeInline){var F=Y.text;F&&(Z+=F)}else G===J.textFormatted||G===J.link?Y.children&&(Z+=N6(Y.children,J)):G===J.image&&Y.alt&&(Z+=Y.alt)}return Z}var nZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),A$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function P$($){return nZ.has($.toLowerCase())}function sZ($){return A$.lastIndex=0,A$.test($)}function N$($){return A$.lastIndex=0,$.replace(A$,function(J,Z,Q,X){return"&lt;"+Z+Q+X})}var fJ=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,TJ=/^<[A-Z]/,e$=["script","pre","style","textarea"],W$=new Set(e$),tZ=/<(?:pre|script|style|textarea)\b/i,eZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),x6=new Uint8Array(128);(function(){for(var $=[$0,H0,D0,I0,p0,U0,g0,F0,v0,p$,n9,R9,b9],J=0;J<$.length;J++)x6[$[J]]=1})();var b6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function J6($){return W$.has($)}function hJ($){return tZ.test($)}function f6($,J,Z){for(var Q=J,X=Z;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q>=X)return!1;$.charCodeAt(Q)===N0&&Q++;for(var Y=0;Q<X;){for(;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q>=X)break;if($.charCodeAt(Q)===N0&&Y>0){for(var G=Q+1;G<X&&($.charCodeAt(G)===P||$.charCodeAt(G)===N);)G++;if(G>=X)return!0}if($.charCodeAt(Q)===x0&&Q++,Q>=X||$.charCodeAt(Q)!==p)return!1;for(;Q<X&&$.charCodeAt(Q)===p;)Q++;for(Q<X&&$.charCodeAt(Q)===x0&&Q++,Y++;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q<X)if($.charCodeAt(Q)===N0)Q++;else return!1}return Y>0}function M9($,J){if($.charCodeAt(J)!==F0)return null;let Z=J+1,Q=$.length,X=!1;$.charCodeAt(Z)===B0&&(Z++,X=!0);let Y=Z,G=$.charCodeAt(Z);if(!(G>=O0&&G<=j0||G>=l&&G<=n))return null;for(;Z<Q&&($.charCodeAt(Z)>=O0&&$.charCodeAt(Z)<=j0||$.charCodeAt(Z)>=l&&$.charCodeAt(Z)<=n||$.charCodeAt(Z)>=s&&$.charCodeAt(Z)<=t||$.charCodeAt(Z)===p);)Z++;let F=$.slice(Y,Z);if(!F)return null;let V=Z;for(;Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N||$.charCodeAt(Z)===g);)Z++;let K=$.slice(V,Z);if(Z===V&&Z<Q){var q=$.charCodeAt(Z);if(q!==u&&q!==B0)return null}let W=Z,H={},z=!1;for(;Z<Q;){let S=$.charCodeAt(Z);if(S===u){let y=$.slice(W,Z);return{tag:F,attrs:H,selfClosing:!1,end:Z+1,rawAttrs:y,whitespaceBeforeAttrs:K,isClosing:X,hasSpaceBeforeSlash:z}}if(S===P||S===N||S===g){Z++;continue}if(S===B0&&Z+1<Q&&$.charCodeAt(Z+1)===u){let y=$.slice(W,Z);return z=Z>W&&$.charCodeAt(Z-1)===P,{tag:F,attrs:H,selfClosing:!0,end:Z+2,rawAttrs:y,whitespaceBeforeAttrs:K,isClosing:X,hasSpaceBeforeSlash:z}}var j=Z,O=$.charCodeAt(Z);if(!(O>=O0&&O<=j0||O>=l&&O<=n||O===D0||O===x0))return null;for(Z++;Z<Q;){var U=$.charCodeAt(Z);if(U>=O0&&U<=j0||U>=l&&U<=n||U>=s&&U<=t||U===D0||U===n0||U===x0||U===p)Z++;else break}for(var D=$.slice(j,Z);Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N);)Z++;if($.charCodeAt(Z)!==p0){H[D]="";continue}for(Z++;Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N);)Z++;var A=$.charCodeAt(Z);if(A===q9||A===H9){Z++;for(var B=Z;Z<Q&&$.charCodeAt(Z)!==A;)Z++;if(Z>=Q)return null;if(H[D]=$.slice(B,Z),Z++,Z<Q){var k=$.charCodeAt(Z);if(k!==P&&k!==N&&k!==g&&k!==u&&k!==B0)return null}}else if(A===j9){var I=1,B=Z;for(Z++;Z<Q&&I>0;){var U=$.charCodeAt(Z);U===j9?I++:U===V$&&I--,Z++}H[D]=$.slice(B,Z)}else{for(var B=Z;Z<Q;){var v=$.charCodeAt(Z);if(v===P||v===N||v===u||v===g||v===q9||v===H9||v===p0||v===F0||v===$0)break;Z++}if(Z===B)return null;H[D]=$.slice(B,Z)}}return null}function S$($,J,Z){for(var Q=0,X=$.length,Y=!1;Q<X;){for(var G=$.indexOf(`
`,Q),F=G<0?X:G,V=Q,K=0;V<F&&K<4;)if($.charCodeAt(V)===P)K++,V++;else if($.charCodeAt(V)===N)K+=4,V++;else break;if(V>=F){Y=!1,Q=G<0?X:G+1;continue}if(K<4){var q=$.charCodeAt(V);if(q===$0||q===I0){for(var W=q,H=0,z=V;z<F&&$.charCodeAt(z)===W;)H++,z++;if(H>=3){Y=!1;for(var j=G<0?X:G+1;j<X;){for(var O=j,U=0;O<X&&U<4;){var D=$.charCodeAt(O);if(D===P)U++,O++;else if(D===N)U+=4,O++;else break}if(U<4&&O<X&&$.charCodeAt(O)===W){for(var A=0;O<X&&$.charCodeAt(O)===W;)A++,O++;if(A>=H){for(;O<X&&($.charCodeAt(O)===P||$.charCodeAt(O)===N);)O++;if(O>=X||$.charCodeAt(O)===g){Q=O>=X?X:O+1;break}}}for(;j<X&&$.charCodeAt(j)!==g;)j++;j<X&&j++}j>=X&&(Q=X);continue}}}for(var B=V;B<F&&$.charCodeAt(B)===u;){B++,B<F&&$.charCodeAt(B)===P&&B++;for(var k=0;B<F&&k<4;)if($.charCodeAt(B)===P)k++,B++;else if($.charCodeAt(B)===N)k+=4,B++;else break;if(k>=4)break;Y=!1}if(!Y&&K<4&&B<F&&$.charCodeAt(B)===U0&&!(B+1<X&&$.charCodeAt(B+1)===r0)){var I=T6($,B,J);if(I){Q=I,Y=!1;continue}}var v=$.charCodeAt(V);if(v===Y9&&K<4)Y=!1;else if(K<4&&(v===p||v===H0||v===D0)){for(var S=V,y=0;S<F;){var R=$.charCodeAt(S);if(R===v)y++;else if(R!==P&&R!==N)break;S++}Y=!(y>=3&&S>=F)}else Y=!0;Q=G<0?X:G+1}}function T6($,J,Z){let Q=$.length;if($.charCodeAt(J)!==U0)return null;let X=J+1<Q&&$.charCodeAt(J+1)===r0,Y=J+1;for(;Y<Q;){var G=$.charCodeAt(Y);if(G===d0){Y++;break}if(G===U0)return null;G===v0&&Y+1<Q&&Y++,Y++}if(Y>Q||$.charCodeAt(Y-1)!==d0)return null;let F=$.slice(J+1,Y-1);if(F.length>999)return null;let V=b$(F);if(!V||Y>=Q||$.charCodeAt(Y)!==x0)return null;Y++;let K=!1;for(;Y<Q;){let E=$.charCodeAt(Y);if(E===P||E===N)Y++;else if(E===g&&!K)K=!0,Y++;else break}if(X){let E=$.indexOf(`
`,Y),x=E<0?Q:E,T=$.slice(Y,x).trim();return Z[V]={target:T,title:void 0},E<0?Q:E+1}var q;if(Y<Q&&$.charCodeAt(Y)===F0){Y++;for(var W=Y;Y<Q&&$.charCodeAt(Y)!==u&&$.charCodeAt(Y)!==g;)$.charCodeAt(Y)===v0&&Y+1<Q&&Y++,Y++;if(Y>=Q||$.charCodeAt(Y)!==u)return null;q=$.slice(W,Y),Y++;for(var H=$.indexOf(`
`,Y),z=H<0?Q:H,j=Y;j<z&&($.charCodeAt(j)===P||$.charCodeAt(j)===N);)j++;if(j<z){if(j===Y)return null;var O=$.charCodeAt(j);if(O!==q9&&O!==H9&&O!==s0)return null}}else{for(var W=Y,U=0;Y<Q;){var G=$.charCodeAt(Y);if(G===s0)U++;else if(G===t0){if(U===0)break;U--}else{if(G===P||G===N||G===g)break;G===v0&&Y+1<Q&&Y++}Y++}if(q=$.slice(W,Y),!q)return null}for(;Y<Q&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===N);)Y++;var D=$.indexOf(`
`,Y),A=D<0?Q:D,B,k=!1,I=Y,v=Y;if(Y===A&&Y<Q)for(v=Y+1;v<Q&&($.charCodeAt(v)===P||$.charCodeAt(v)===N);)v++;if(v<Q){var S=$.charCodeAt(v);if(S===q9||S===H9||S===s0){for(var y=S===s0?41:S,R=v+1,b=R;R<Q;){var w=$.charCodeAt(R);if(w===y){for(var L=R+1;L<Q&&($.charCodeAt(L)===P||$.charCodeAt(L)===N);)L++;(L>=Q||$.charCodeAt(L)===g)&&(B=$.slice(b,R),k=!0,I=L<Q?L+1:Q);break}if(w===v0&&R+1<Q){R+=2;continue}if(w===g&&R+1<Q&&$.charCodeAt(R+1)===g)break;R++}if(!k&&v===Y)return null}}if(k)return Z[V]||(Z[V]={target:$$(q),title:B!==void 0?$$(B):B}),I;for(;Y<A&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===N);)Y++;return Y<A?null:(Z[V]||(Z[V]={target:$$(q),title:B}),D<0?Q:D+1)}var Z$=1,h6=2,J0=4,m6=8,$J=16,G9=32,g9=64,c=new Uint8Array(128);c[P]=Z$,c[N]=Z$,c[g]=Z$|h6,c[X9]=Z$|h6,c[Y9]=G9|J0,c[u]=G9|J0,c[p]=G9|g9|J0,c[D9]=G9|J0,c[H0]=G9|g9|J0,c[D0]=G9|g9|J0,c[$0]=G9|g9|J0,c[I0]=G9|g9|J0,c[F0]=G9|g9|J0,c[U0]=g9|J0,c[g0]=g9|J0,c[N0]=G9|J0;for(let $=s;$<=t;$++)c[$]=$J|G9;for(let $=l;$<=n;$++)c[$]=m6;for(let $=O0;$<=j0;$++)c[$]=m6;c[v0]=J0,c[d0]=J0,c[s0]=J0,c[t0]=J0,c[x0]=J0,c[q9]=J0,c[H9]=J0,c[D$]=J0,c[p0]=J0,c[D6]=J0,c[i9]=J0,c[u$]=J0,c[n0]=J0,c[B0]=J0,c[B$]=J0,c[p9]=J0,c[a9]=J0,c[r0]=J0,c[j9]=J0,c[V$]=J0;function R6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var J=0;J<$.length;J++){if($.charCodeAt(J)===v0){J++;continue}if($.charCodeAt(J)===U0||$.charCodeAt(J)===d0)return!0}return!1}function b$($){var J=$.replace(/\s+/g," ").trim();return J.indexOf("\u1E9E")!==-1?J.replace(/\u1E9E/g,"ss").toLowerCase():J.toLowerCase()}function Q6($){return $<c0?c[$]:$===B6?Z$:0}function $$($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function Y0($,J){var Z=$.indexOf(`
`,J);return Z<0?$.length:Z}function i($,J){let Z=Y0($,J);return Z<$.length?Z+1:Z}function q$($,J,Z){for(;J<Z;){let Q=$.charCodeAt(J);if(Q!==P&&Q!==N)break;J++}return J}function w6($,J){let Z=i($,J);for(;Z<$.length;){let Q=Y0($,Z);if(e0($,Z,Q))return Z;Z=i($,Z)}return $.length}function _9($,J,Z,Q){let X=0;for(;J+X<Z&&$.charCodeAt(J+X)===Q;)X++;return X}var X0=0,Z0=0;function _0($,J,Z){for(X0=0,Z0=0;J+Z0<Z;){let Q=$.charCodeAt(J+Z0);if(Q===N)X0+=4-X0%4;else if(Q===P)X0++;else break;Z0++}}function e0($,J,Z){return q$($,J,Z)>=Z}function C6($,J,Z,Q){let X=Y0($,J);if(_0($,J,X),X0>3)return null;let Y=J+Z0;if($.charCodeAt(Y)!==Y9)return null;let G=_9($,Y,X,35);if(G<1||G>6||(Y+=G,Y<X&&$.charCodeAt(Y)!==P&&$.charCodeAt(Y)!==N))return null;Y=q$($,Y,X);for(var F=X;F>Y&&$.charCodeAt(F-1)===P;)F--;for(var V=F;F>Y&&$.charCodeAt(F-1)===Y9;)F--;if(F<V)if(F===Y||$.charCodeAt(F-1)===P)for(;F>Y&&$.charCodeAt(F-1)===P;)F--;else F=V;let K=$.slice(Y,F),q=C0(K,0,K.length,Z,Q),H=(Q?.slugify||o0)(K);return{node:{type:_.heading,level:G,children:q,id:H},end:i($,X)}}function E9($,J){let Z=Y0($,J);if(_0($,J,Z),X0>3)return null;let Q=J+Z0,X=$.charCodeAt(Q);if(X!==p&&X!==H0&&X!==D0)return null;let Y=0;for(;Q<Z;){let G=$.charCodeAt(Q);if(G===X)Y++;else if(G!==P&&G!==N)return null;Q++}return Y<3?null:{node:{type:_.breakThematic},end:i($,Z)}}function ZJ($,J,Z){let Q=Y0($,J);if(_0($,J,Q),X0>3)return null;let X=X0,Y=Z0,G=J+Z0,F=$.charCodeAt(G);if(F!==$0&&F!==I0)return null;let V=_9($,G,Q,F);if(V<3)return null;G+=V;let K=q$($,G,Q),q=Q;if(F===$0){for(let R=K;R<Q;R++)if($.charCodeAt(R)===$0)return null}for(;q>K&&($.charCodeAt(q-1)===P||$.charCodeAt(q-1)===N);)q--;let W=$.slice(K,q),H="",z="",j=W.indexOf(" ");j===-1?H=W:(H=W.slice(0,j),z=W.slice(j+1).trim()),H=$$(H);var O=void 0;if(z){b6.lastIndex=0;for(var U;(U=b6.exec(z))!==null;)O||(O={}),O[U[1]]=U[2]!==void 0?U[2]:U[3]}let D=i($,Q),A=D,B=$.length;for(;A<$.length;){let R=Y0($,A);if(_0($,A,R),X0<4){let b=A+Z0;var k=_9($,b,R,F);if(k>=V){let w=b+k;if(e0($,w,R)){B=i($,R);break}}}A=i($,R)}var I;if(X===0)I=A>D&&$.charCodeAt(A-1)===g?$.slice(D,A-1):$.slice(D,A);else{I="";for(var v=D;v<A;){var S=Y0($,v);_0($,v,S);var y=Math.min(Z0,X);I+=$.slice(v+y,S)+`
`,v=i($,S)}I.length>0&&I.charCodeAt(I.length-1)===g&&(I=I.slice(0,-1))}return{node:{type:_.codeBlock,lang:H||void 0,text:I,infoString:z||void 0,attrs:O},end:B}}function JJ($,J){let Z=Y0($,J);if(_0($,J,Z),X0<4)return null;let Q="",X=J;for(;X<$.length;){let z=Y0($,X);if(_0($,X,z),e0($,X,z)){for(var Y=0,G=i($,z);G<$.length;){var F=Y0($,G);if(e0($,G,F)){Y++,G=i($,F);continue}if(_0($,G,F),X0>=4){for(var V=0;V<=Y;V++)Q+=`
`;X=G;break}break}if(X!==G)break;continue}if(X0<4)break;let j=0,O=0;var K=0;for(let U=X;U<z&&O<4;U++){if($.charCodeAt(U)===N){var q=4-O%4;O+q>4&&(K=O+q-4),O+=q}else O++;j++}var W="";if(K>0)for(var H=0;H<K;H++)W+=" ";W+=$.slice(X+j,z),Q+=W+`
`,X=i($,z)}for(;Q.length>0&&Q.charCodeAt(Q.length-1)===g;)Q=Q.slice(0,-1);for(;Q.length>0&&Q.charCodeAt(Q.length-1)===g;)Q=Q.slice(0,-1);return Q?{node:{type:_.codeBlock,text:Q},end:X}:null}function QJ($,J,Z,Q){let X=Y0($,J);if(_0($,J,X),X0>3)return null;let Y=J+Z0;if($.charCodeAt(Y)!==u)return null;let G="",F=J,V,K=!1,q=!1,W=!1;for(;F<$.length;){let h=Y0($,F);_0($,F,h);let w0=F+Z0;if($.charCodeAt(w0)===u){let m=w0+1;var H=X0+1,z=!1;if(m<h){var j=$.charCodeAt(m);j===P?(m++,H++,z=!0):j===N&&(z=!0)}for(var O="",U=!1,D=m;D<h;D++)if($.charCodeAt(D)===N){U=!0;break}if(U){var A=H;if(z&&m<h&&$.charCodeAt(m)===N){for(var B=4-A%4,k=0;k<B-1;k++)O+=" ";A+=B,m++}for(var I=m;I<h;I++)if($.charCodeAt(I)===N){for(var v=4-A%4,S=0;S<v;S++)O+=" ";A+=v}else O+=$[I],A++}else O=$.slice(m,h);if(!G&&!V){let q0=O.match(/^\[!([A-Z]+)\]\s*$/);if(q0){V=q0[1],F=i($,h);continue}}G+=O+`
`;var y=O.trimStart();y.startsWith("```")||y.startsWith("~~~")?W=!W:O.startsWith("    ")||O.startsWith("	")?W=!0:y.length>0&&!W&&(W=!1),q=y.length>0,F=i($,h)}else if(G&&!e0($,F,h)&&q){if(X0<4){var R=F+Z0,b=R<h?$.charCodeAt(R):0;if(b===Y9||b===u||b===$0||b===I0||b===F0||(b===p||b===H0||b===D0)&&E9($,F)||(b===p||b===H0||b===D9)&&R+1<h&&($.charCodeAt(R+1)===P||$.charCodeAt(R+1)===N))break;if(b>=s&&b<=t){for(var w=R;w<h&&$.charCodeAt(w)>=s&&$.charCodeAt(w)<=t;)w++;if(w<h&&($.charCodeAt(w)===n0||$.charCodeAt(w)===t0))break}}if(W)break;G+=$.slice(F,h)+`
`,K=!0,F=i($,h)}else break}if(!G&&!V)return null;var{inBlockQuote:L,f:E}=Z;Z.inBlockQuote=!0,K&&(Z.f=!0);let x=v9(G||"",Z,Q);Z.inBlockQuote=L,Z.f=E;let T={type:_.blockQuote,children:x};return V&&(T.alert=V),{node:T,end:F}}function u6($,J,Z){for(var Q=0,X=J;X<Z;X++)$.charCodeAt(X)===N?Q+=4-Q%4:Q++;return Q}function k9($,J,Z){if(_0($,J,Z),X0>3)return null;var Q=J+Z0;if(Q>=Z)return null;var X=$.charCodeAt(Q),Y=X0,G=Q;if(X===p||X===H0||X===D9){if(G=Q+1,G<Z&&$.charCodeAt(G)!==P&&$.charCodeAt(G)!==N&&$.charCodeAt(G)!==g)return null}else if(X>=s&&X<=t){for(var F=Q;F<Z&&F-Q<9;){var V=$.charCodeAt(F);if(V<s||V>t)break;F++}if(F>Q&&F<Z){var K=$.charCodeAt(F);if(K===n0||K===t0){if(G=F+1,G<Z&&$.charCodeAt(G)!==P&&$.charCodeAt(G)!==N&&$.charCodeAt(G)!==g)return null}else return null}else return null}else return null;var q=G,W=u6($,J,G),H=0,z=q,j=W;if(q>=Z)return{ordered:X>=s&&X<=t,marker:X>=s&&X<=t?$[F]:$[Q],start:X>=s&&X<=t?parseInt($.slice(Q,F),10):void 0,contentStart:q,contentCol:W+1,markerCol:Y,isEmpty:!0};for(;z<Z&&($.charCodeAt(z)===P||$.charCodeAt(z)===N);){if($.charCodeAt(z)===N){var O=4-j%4;j+=O}else j++;z++,H++}var U=z>=Z,D=j-W;return U||D>4?(j=W+1,z=q+1,H=1):H===0&&(j=W+1,z=q,H=1),{ordered:X>=s&&X<=t,marker:X>=s&&X<=t?$[F]:$[Q],start:X>=s&&X<=t?parseInt($.slice(Q,F),10):void 0,contentStart:z,contentCol:j,markerCol:Y,isEmpty:U}}var R$=0;function XJ($,J,Z,Q){var X=0,Y=J;for(R$=0;Y<Z&&X<Q;){var G=$.charCodeAt(Y);if(G===N){var F=4-X%4;if(X+F>Q){R$=X+F-Q,Y++,X=Q;break}X+=F}else if(G===P)X++;else break;Y++}return Y}function y6($,J,Z,Q){var X=Y0($,J),Y=k9($,J,X);if(!Y)return null;var G=[],F=J,V=Y.contentCol,K="",q=Y.isEmpty,W=!1,H=!1;if(!Y.isEmpty){for(var z=!1,j=Y.contentStart;j<X;j++)if($.charCodeAt(j)===N){z=!0;break}if(z){var O="",U=u6($,J,Y.contentStart),D=U-Y.contentCol;if(D>0)for(var A=0;A<D;A++)O+=" ";for(var B=Y.contentStart;B<X;B++)if($.charCodeAt(B)===N){for(var k=4-U%4,I=0;I<k;I++)O+=" ";U+=k}else O+=$[B],U++;K=O+`
`}else K=$.slice(Y.contentStart,X)+`
`}for(F=i($,X);F<$.length;){var v=Y0($,F);_0($,F,v);var S=$.charCodeAt(F+Z0);if(X0<V&&(S===p||S===H0||S===D0)&&X0<=3&&E9($,F))break;var y=k9($,F,v);if(y&&y.ordered===Y.ordered&&y.marker===Y.marker&&y.markerCol<V){G.push({contentCol:V,raw:K,hasBlankAfter:W,isEmpty:q}),W&&(H=!0),V=y.contentCol,q=y.isEmpty,W=!1,K=y.isEmpty?"":$.slice(y.contentStart,v)+`
`,F=i($,v);continue}if(e0($,F,v)){K+=`
`,F=i($,v);for(var R=!1,b=0;b<K.length;b++){var w=K.charCodeAt(b);if(w!==g&&w!==X9&&w!==P&&w!==N){R=!0;break}}if(q&&!R)if(F<$.length){var L=Y0($,F),E=k9($,F,L);if(!E||E.ordered!==Y.ordered||E.marker!==Y.marker)break;W=!0}else break;if(F<$.length){var x=Y0($,F);_0($,F,x);var T=$.charCodeAt(F+Z0);if((T===p||T===H0||T===D0)&&X0<=3&&E9($,F))break;var h=k9($,F,x);if(h&&h.ordered===Y.ordered&&h.marker===Y.marker&&h.markerCol<V){W=!0;continue}if(!e0($,F,x)&&X0<V)break}continue}if(X0>=V){var w0=XJ($,F,v,V);if(R$>0){for(var m="",q0=V,z0=0;z0<R$;z0++)m+=" ",q0++;for(var o=w0;o<v;o++)if($.charCodeAt(o)===N){for(var P0=4-q0%4,W0=0;W0<P0;W0++)m+=" ";q0+=P0}else m+=$[o],q0++;K+=m+`
`}else K+=$.slice(w0,v)+`
`;F=i($,v);continue}for(var b0=!1,Q0=0;Q0<K.length;Q0++){var M0=K.charCodeAt(Q0);if(M0!==g&&M0!==X9&&M0!==P&&M0!==N){b0=!0;break}}if(!W&&b0&&!q){var K0=F+Z0,a=$.charCodeAt(K0),C=a===Y9||a===u||a===F0||a===$0||a===I0||(a===p||a===H0||a===D0||a===D9)&&(E9($,F)!==null||k9($,F,v)!==null)||a>=s&&a<=t&&k9($,F,v)!==null;if(!C){K+=""+$.slice(K0,v)+`
`,F=i($,v);continue}}break}if(G.push({contentCol:V,raw:K,hasBlankAfter:W,isEmpty:q}),G.length===0)return null;var A0=H;if(!A0)for(var k0=0;k0<G.length;k0++){if(G[k0].hasBlankAfter&&k0<G.length-1){A0=!0;break}if(!G[k0].isEmpty){for(var M=G[k0].raw,f=M.length,G0=0,y0=!1,e=!1,S0=!1,r=!1,f0=0,T0=0,u0=-1;G0<f;){var V0=M.indexOf(`
`,G0);if(V0<0&&(V0=f),r){_0(M,G0,V0);for(var x9=M.slice(G0+Z0,V0),f9=0;f9<x9.length&&x9.charCodeAt(f9)===f0;)f9++;f9>=T0&&x9.slice(f9).trim()===""&&(r=!1),G0=V0<f?V0+1:f;continue}if(e0(M,G0,V0)){u0>=0?S0=!0:y0&&(e=!0),G0=V0<f?V0+1:f;continue}if(_0(M,G0,V0),u0>=0){if(X0>=u0){G0=V0<f?V0+1:f;continue}var T9=k9(M,G0,V0);if(T9&&T9.markerCol<u0&&T9.contentCol<=u0){G0=V0<f?V0+1:f;continue}if(T9){G0=V0<f?V0+1:f;continue}u0=-1,S0&&(e=!0,S0=!1)}var V9=M.slice(G0+Z0,V0),h9=V9.charCodeAt(0);if((h9===$0||h9===I0)&&X0<=3){for(var I9=0;I9<V9.length&&V9.charCodeAt(I9)===h9;)I9++;if(I9>=3){if(e&&y0){A0=!0;break}r=!0,f0=h9,T0=I9,y0=!0,G0=V0<f?V0+1:f;continue}}var o9=X0<=3?k9(M,G0,V0):null;if(o9&&y0){if(e){A0=!0;break}u0=o9.contentCol,S0=!1,G0=V0<f?V0+1:f,y0=!0;continue}if(e){A0=!0;break}y0=!0,G0=V0<f?V0+1:f}if(A0)break}}for(var U9=[],J$=0;J$<G.length;J$++){for(var F9=G[J$],$9=F9.raw,Q9=$9.length;Q9>0&&$9.charCodeAt(Q9-1)===g;)Q9--;var h0=Q9<$9.length?$9.slice(0,Q9):$9,Z9=null;if(h0.length>=3&&h0.charCodeAt(0)===U0){var i0=h0[1];(i0===" "||i0==="x"||i0==="X")&&h0.charCodeAt(2)===d0&&(Z9={type:_.gfmTask,completed:i0==="x"||i0==="X"},h0=h0.slice(3))}var L0;if(F9.isEmpty&&h0.trim()==="")L0=[];else if(A0){var Q$=Z.inList;Z.inList=!0,L0=v9(h0,Z,Q),Z.inList=Q$}else{var O9=Z.inList;if(Z.inList=!0,L0=v9(h0,Z,Q),Z.inList=O9,L0.length===1&&L0[0].type===_.paragraph)L0=L0[0].children;else{for(var X$=[],m9=0;m9<L0.length;m9++)if(L0[m9].type===_.paragraph)for(var P9=L0[m9].children,J9=0;J9<P9.length;J9++)X$.push(P9[J9]);else X$.push(L0[m9]);L0=X$}}Z9?U9.push([Z9,{type:_.text,text:" "},...L0]):U9.push(L0)}return{node:{type:Y.ordered?_.orderedList:_.unorderedList,start:Y.ordered?Y.start:void 0,items:U9},end:F}}var w$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function L9($,J,Z){let Q={};for(let[G,F]of Object.entries($)){let V=G,K=G.toLowerCase();if(K==="style"&&typeof F=="string"){let q={},W=[],H=0,z=0;for(let O=0;O<F.length;O++){let U=F.charCodeAt(O);U===s0?H++:U===t0?H--:U===B$&&H===0&&(W.push(F.slice(z,O)),z=O+1)}z<F.length&&W.push(F.slice(z));let j=!1;W.forEach(O=>{let U=O.indexOf(":");if(U===-1)return;let D=O.slice(0,U).trim(),A=O.slice(U+1).trim();if(D&&A){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(A)){j=!0;return}let B=D.indexOf("-")!==-1?D.replace(/-([a-z])/g,(k,I)=>I.toUpperCase()):D;q[B]=A}}),!j&&Object.keys(q).length>0&&(Q[V]=q)}else if((K==="href"||K==="src")&&Z?.sanitizer){let q=Z.sanitizer(F,J,K);q!==null&&(Q[V]=q)}else if(F==="")Q[V]=!0;else if(F.length>=2&&F.charCodeAt(0)===j9&&F.charCodeAt(F.length-1)===V$){var X=F.slice(1,-1);if(X.length>0){var Y=X.charCodeAt(0);if(Y===U0||Y===j9)try{Q[V]=JSON.parse(X);continue}catch{}}if(X==="true"){Q[V]=!0;continue}if(X==="false"){Q[V]=!1;continue}if(Z?.evalUnserializableExpressions)try{Q[V]=(0,eval)("("+X+")");continue}catch{}Q[V]=X}else Q[V]=F}return Q}function A9($,J,Z){let Q=J.length;var X=J.charCodeAt(0);X>=l&&X<=n&&(X+=K9);for(let G=Z;G<=$.length-Q;G++){var Y=$.charCodeAt(G);if(Y>=l&&Y<=n&&(Y+=K9),Y!==X)continue;let F=!0;for(let V=1;V<Q;V++){let K=$.charCodeAt(G+V),q=J.charCodeAt(V);if(K>=l&&K<=n&&(K+=K9),q>=l&&q<=n&&(q+=K9),K!==q){F=!1;break}}if(F)return G}return-1}function YJ($,J,Z){let Q=J.length;var X=J.charCodeAt(0);X>=l&&X<=n&&(X+=K9);for(let G=Math.min(Z,$.length-Q);G>=0;G--){var Y=$.charCodeAt(G);if(Y>=l&&Y<=n&&(Y+=K9),Y!==X)continue;let F=!0;for(let V=1;V<Q;V++){let K=$.charCodeAt(G+V),q=J.charCodeAt(V);if(K>=l&&K<=n&&(K+=K9),q>=l&&q<=n&&(q+=K9),K!==q){F=!1;break}}if(F)return G}return-1}var $6=-1;function p6($,J,Z){let Q=Z.toLowerCase(),X="<"+Q,Y="</"+Q,G=1,F=J,V=$.length;for($6=-1;F<V&&G>0;){let W=A9($,X,F),H=A9($,Y,F);if(H===-1)return-1;if(W!==-1&&W<H){let z=M9($,W);z?(z.tag.toLowerCase()===Q&&!z.isClosing&&!z.selfClosing&&!t9(z.tag)&&G++,F=z.end):F=W+1}else{var K=H+Y.length,q=K<V?$.charCodeAt(K):62;if((q===u||q===P||q===N||q===g)&&(G--,G===0)){$6=H;let z=H+Y.length;for(;z<V&&$.charCodeAt(z)!==u;)z++;return z+1}F=H+1}}return-1}function d6($,J,Z,Q){if(Q.ignoreHTMLBlocks||Q.disableParsingRawHTML)return null;var X=Y0($,J);if(_0($,J,X),X0>3&&!Z.inHTML)return null;var Y=J+Z0;if($.charCodeAt(Y)!==F0)return null;var G=$.indexOf(">",Y+1);if(G!==-1&&G<X){var F=$.slice(Y+1,G);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(F)||/^[^\s@]+@[^\s@]+$/.test(F))return null}var V=KJ($,Y);if(V>=1&&V<=5){var K=$.length;if(V===1){for(var q=$.length,W=0;W<e$.length;W++){var H=A9($,"</"+e$[W]+">",Y);H>=0&&H<q&&(q=H)}if(q<$.length){var z=$.indexOf(">",q);K=z>=0?i($,z+1):$.length}}else{var j=V===2?"-->":V===3?"?>":V===4?">":"]]>",O=$.indexOf(j,Y);O>=0&&(K=i($,O+j.length))}var U=$.slice(Y,K);if(V>=2)return{node:{type:_.htmlComment,text:U,raw:!0,endPos:K},end:K};var D="div",A=U.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);A&&(D=A[1]);var B=M9($,Y),k={},I;B&&!B.isClosing&&(k=L9(B.attrs,D,Q),I=B.whitespaceBeforeAttrs+B.rawAttrs);var v=[],S=D.toLowerCase(),y="</"+S,R=A9(U,y,0),b=U,w="";if(B&&B.isClosing)for(b=U.slice(B.end-Y);b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);else if(B&&!B.isClosing){var L=B.end-Y;if(R!==-1)for(b=U.slice(L),b.charCodeAt(0)===g&&(b=b.slice(1));b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);else for(b=U;b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);if(R!==-1){var E=U.slice(L,R);if(w=E.trim(),w){var{inline:x,inHTML:T}=Z;Z.inline=!0,Z.inHTML=!0,v=C0(w,0,w.length,Z,Q),Z.inline=x,Z.inHTML=T}}}var h=B?B.isClosing:!1;return{node:{type:_.htmlBlock,tag:D,attrs:k,e:I,children:v,a:b,text:w,d:!0,c:h,endPos:K,canInterruptParagraph:!0},end:K}}if(V===6||V===7){var w0=w6($,J),m=w0<$.length?w0:$.length,q0=$.slice(Y,m),z0=w0<$.length?i($,w0):$.length,o=M9($,Y);if(o){var P0=o.tag,W0=P0.toLowerCase(),b0=o.isClosing;if(b0){var Q0=$.slice(o.end,m);return{node:{type:_.htmlBlock,tag:P0,attrs:{},children:[],a:Q0,text:Q0,d:!0,c:!0,endPos:m,canInterruptParagraph:V===6},end:z0}}var M0=Z.b||0,K0=$.slice(Y,m),a=-1,C=-1;if(!o.selfClosing&&!t9(P0)&&M0<10){for(var A0="</"+W0,k0=o.end-Y,M=1,f=k0;f<K0.length&&M>0;){var G0=A9(K0,"<"+W0,f),y0=A9(K0,A0,f);if(y0===-1)break;if(G0!==-1&&G0<y0){var e=G0+W0.length+1;if(e<K0.length){var S0=K0.charCodeAt(e);(S0===P||S0===N||S0===g||S0===u||S0===B0)&&M++}f=G0+1}else{var r=y0+A0.length;if(r<K0.length){var f0=K0.charCodeAt(r);if((f0===u||f0===P||f0===N||f0===g)&&(M--,M===0)){a=y0;for(var T0=r;T0<K0.length&&K0.charCodeAt(T0)!==u;)T0++;C=T0+1;break}}else if(M--,M===0){a=y0,C=K0.length;break}f=y0+1}}var u0=!1;if(a===-1&&V===6&&!o.isClosing&&!eZ.has(W0)){var V0=$.slice(o.end),x9=A9(V0,A0,0);if(x9!==-1){var f9=V0.slice(0,x9);if(f9.indexOf(`

`)!==-1){for(var T9=o.end+x9,V9=T9+A0.length;V9<$.length&&$.charCodeAt(V9)!==u;)V9++;if(V9<$.length&&$.charCodeAt(V9)===u){var h9=V9+1,I9=Y0($,h9);m=I9,z0=i($,I9),K0=$.slice(Y,m),q0=$.slice(Y,m),a=T9-Y,C=h9-Y,u0=!0}}}}}var o9=o.rawAttrs.indexOf(`
`)!==-1||o.whitespaceBeforeAttrs.indexOf(`
`)!==-1,U9=!1;if(a!==-1){var J$=K0.slice(C).trim();U9=J$.length===0}var F9=!1,$9=m,Q9=z0;if(a!==-1){var h0=Y+C,Z9=Y0($,h0-1);if(h0<Z9){for(var i0=h0;i0<Z9&&($.charCodeAt(i0)===P||$.charCodeAt(i0)===N);)i0++;if(i0<Z9&&$.charCodeAt(i0)===F0){var L0=M9($,i0);L0&&!L0.isClosing&&(F9=!0,$9=h0,Q9=h0,U9=!0)}}if(!F9){var Q$=i($,Z9);if(Q$<m){for(var O9=Q$;O9<m&&($.charCodeAt(O9)===P||$.charCodeAt(O9)===N);)O9++;if(O9<m&&$.charCodeAt(O9)===F0){var X$=M9($,O9);X$&&(F9=!0,$9=Z9,Q9=Q$,U9=!0)}}}if(!F9&&Z.inHTML){F9=!0,$9=Z9,Q9=i($,Z9);var m9=$.slice(h0,Z9).trim();U9=m9.length===0}}var P9=[],J9="";if(a!==-1){J9=K0.slice(o.end-Y,a);var C9=J9.trim();if(C9){var{inline:n6,inHTML:s6,b:t6}=Z;Z.inHTML=!0,Z.b=M0+1;var e6=W0==="p";if(e6)Z.inline=!0,P9=C0(C9,0,C9.length,Z,Q);else{var $Z=J9.indexOf(`

`)!==-1,ZZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(C9),Y6=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(C9),JZ=$Z||ZZ||Z.inHTML&&Y6;JZ||Y6?(Z.inline=!1,P9=v9(J9,Z,Q)):(Z.inline=!0,P9=C0(C9,0,C9.length,Z,Q))}Z.inline=n6,Z.inHTML=s6,Z.b=t6}}var K6=!1;if(V===6&&a!==-1&&!Z.inHTML&&!o9){var E$=J9,QZ=/<[a-zA-Z][^>]*>/.test(E$),XZ=/\n\n/.test(E$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(E$);QZ&&!XZ&&(K6=!0)}var YZ=Z.inHTML||V===7||o9||!U9||K6;if(YZ){var a0;if(a!==-1&&F9){var G6=!1;if(Z.inHTML&&C<K0.length){for(var z$=C;z$<K0.length&&K0.charCodeAt(z$)!==g;)z$++;var g$=K0.slice(C,z$).trim();G6=g$.length>1&&g$.charCodeAt(0)===F0&&g$.charCodeAt(1)!==B0}a0=G6?K0.slice(o.end-Y):J9}else(V===7||Z.inHTML)&&a!==-1?(a0=K0.slice(o.end-Y),a0.charCodeAt(0)===g&&(a0=a0.slice(1))):F9?a0=$.slice(Y,$9):o9?a0=q0:(a0=K0.slice(o.end-Y),a0.charCodeAt(0)===g&&(a0=a0.slice(1)));return{node:{type:_.htmlBlock,tag:P0,attrs:L9(o.attrs,P0,Q),e:o.whitespaceBeforeAttrs+o.rawAttrs,children:P9,a:a0,text:a0,d:!0,c:!1,endPos:$9,canInterruptParagraph:V===6},end:Q9}}return{node:{type:_.htmlBlock,tag:P0,attrs:L9(o.attrs,P0,Q),e:o.whitespaceBeforeAttrs+o.rawAttrs,children:P9,a:u0?"":J9,text:J9,d:!1,c:!1,endPos:$9,canInterruptParagraph:V===6},end:Q9}}var U$=q0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),KZ=U$?U$[2]:"div",V6=U$?U$[1]==="/":!1,x$=q0;if(V6){var F6=q0.indexOf(">");F6!==-1&&(x$=q0.slice(F6+1))}return{node:{type:_.htmlBlock,tag:KZ,attrs:{},children:[],a:x$,text:x$,d:!0,c:V6,endPos:m,canInterruptParagraph:V===6},end:z0}}var E0=M9($,Y);if(!E0)return null;var N9=E0.tag,f$=N9.toLowerCase(),q6=N9.charCodeAt(0),O$=q6>=l&&q6<=n;if(!O$&&!w$.has(f$)&&!W$.has(f$)&&!f$.includes("-"))return null;if(E0.isClosing)return{node:{type:_.htmlSelfClosing,tag:N9,attrs:{},endPos:E0.end,c:!0,a:$.slice(Y,E0.end)},end:E0.end};var LJ=!0,u9=p6($,E0.end,N9),Y$=[];if(u9!==-1){var GZ=$6,H$=$.slice(E0.end,GZ),K$=H$.trim();if(K$){var VZ=H$.indexOf(`

`)!==-1,FZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(K$),qZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(K$),WZ=Z.inline,zZ=Z.inHTML,UZ=Z.b;Z.inHTML=!0,Z.b=(Z.b||0)+1,VZ||FZ||qZ?(Z.inline=!1,Y$=v9(H$,Z,Q)):(Z.inline=!0,Y$=C0(K$,0,K$.length,Z,Q)),Z.inline=WZ,Z.inHTML=zZ,Z.b=UZ}var OZ=Y0($,u9),HZ=$.slice(u9,OZ).trim(),T$=HZ?u9:i($,u9),W6=O$?$.slice(Y,u9):$.slice(Y,T$),DZ=O$?u9:T$;return{node:{type:_.htmlBlock,tag:N9,attrs:L9(E0.attrs,N9,Q),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:Y$,a:W6,text:O$?H$:W6,d:!0,c:!1,endPos:DZ,canInterruptParagraph:!1},end:T$}}var r9=w6($,E0.end),jZ=r9<$.length?i($,r9):r9,h$=$.slice(E0.end,r9);if(h$.trim()){var{inline:BZ,inHTML:MZ,b:AZ}=Z;Z.inline=!1,Z.inHTML=!0,Z.b=(Z.b||0)+1,Y$=v9(h$,Z,Q),Z.inline=BZ,Z.inHTML=MZ,Z.b=AZ}var vZ=$.slice(E0.end,r9);return{node:{type:_.htmlBlock,tag:N9,attrs:L9(E0.attrs,N9,Q),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:Y$,a:vZ,text:h$,d:!0,c:!1,endPos:r9,canInterruptParagraph:!1},end:jZ}}function KJ($,J){if($.charCodeAt(J)!==F0)return 0;var Z=J+1,Q=$.length;if($.charCodeAt(Z)===g0&&$.charCodeAt(Z+1)===p&&$.charCodeAt(Z+2)===p)return 2;if($.charCodeAt(Z)===p9)return 3;if($.charCodeAt(Z)===g0){var X=$.charCodeAt(Z+1);if(X>=l&&X<=n)return 4;if($.slice(Z+1,Z+8)==="[CDATA[")return 5}for(var Y=$.charCodeAt(Z)===B0,G=Y?Z+1:Z,F=G;F<Q;){var V=$.charCodeAt(F);if(V>=l&&V<=n||V>=O0&&V<=j0||V>=s&&V<=t||V===p)F++;else break}if(F===G)return 0;var K=$.slice(G,F);if(W$.has(K.toLowerCase())){if(Y)return 0;var q=$.charCodeAt(F);return q===P||q===N||q===u||q===g||F>=Q?1:0}if(w$.has(K.toLowerCase())){if(Y){for(var W=F;W<Q&&($.charCodeAt(W)===P||$.charCodeAt(W)===N);)W++;return W<Q&&$.charCodeAt(W)===u?6:0}var H=F<Q?$.charCodeAt(F):-1;return H===P||H===N||H===u||H===g||H===B0||H===-1?6:0}if(Y){for(var U=F;U<Q&&($.charCodeAt(U)===P||$.charCodeAt(U)===N);)U++;if(U<Q&&$.charCodeAt(U)===u){var D=Y0($,J),A=$.slice(U+1,D).trim();if(A==="")return 7}}else{var z=Y0($,J),j=M9($,J);if(j&&j.end<=z){var O=$.slice(j.end,z).trim();if(O==="")return 7}}return 0}function S6($,J,Z){for(var Q=0,X=$.length;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;for(;X>Q&&($.charCodeAt(X-1)===P||$.charCodeAt(X-1)===N);)X--;Q<X&&$.charCodeAt(Q)===N0&&Q++,X>Q&&$.charCodeAt(X-1)===N0&&(X-2<Q||$.charCodeAt(X-2)!==v0)&&X--;for(var Y=[],G=Q,F=!1,V=[],K=Q;K<X;){var q=$.charCodeAt(K);if(q===v0&&K+1<X){$.charCodeAt(K+1)===N0?(F||(F=!0,V=[]),V.push($.slice(G,K)),V.push("|"),K+=2,G=K):K+=2;continue}if(q===$0){for(var W=0;K<X&&$.charCodeAt(K)===$0;)W++,K++;for(var H=!1;K<X&&!H;){for(var z=0;K<X&&$.charCodeAt(K)===$0;)z++,K++;z===W?H=!0:z===0&&K++}continue}if(q===N0){var j=F?(V.push($.slice(G,K)),V.join("")):$.slice(G,K);Y.push(j.trim()),K++,G=K,F=!1,V=[];continue}K++}var O=F?(V.push($.slice(G,X)),V.join("")):$.slice(G,X);return Y.push(O.trim()),Y.map(function(U){var D=U.indexOf("\\|")!==-1?U.replace(/\\\|/g,"|"):U;return C0(D,0,D.length,J,Z)})}function k6($,J,Z,Q){let X=Y0($,J);var Y=$.indexOf("|",J);if(Y<0||Y>=X)return null;let G=i($,X);if(G>=$.length)return null;let F=Y0($,G);if(!f6($,G,F))return null;let V=$.slice(J,X),K=$.slice(G,F);for(var q=[],W=0,H=K.length;W<H&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;for(W<H&&K.charCodeAt(W)===N0&&W++;W<H;){for(;W<H&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;if(W>=H||K.charCodeAt(W)===N0)break;var z=K.charCodeAt(W)===x0;for(z&&W++;W<H&&K.charCodeAt(W)===p;)W++;var j=W<H&&K.charCodeAt(W)===x0;for(j&&W++,q.push(z&&j?"center":j?"right":z?"left":null);W<H&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;W<H&&K.charCodeAt(W)===N0&&W++}let O=S6(V,Z,Q);if(q.length!==O.length)return null;let U=[],D=i($,F);for(;D<$.length;){let S=Y0($,D),y=$.slice(D,S);if(e0($,D,S))break;if(_0($,D,S),X0<4){var A=$.charCodeAt(D+Z0);if(A===u||A===Y9||(A===p||A===H0||A===D0)&&E9($,D))break;if(A===$0||A===I0){for(var B=D+Z0,k=0;B<S&&$.charCodeAt(B)===A;)k++,B++;if(k>=3)break}}U.push(S6(y,Z,Q)),D=i($,S)}if((Q.streaming||Q.optimizeForStreaming)&&U.length===0)return null;for(var I=O.length,v=0;v<U.length;v++)if(U[v].length<I)for(;U[v].length<I;)U[v].push([]);else U[v].length>I&&(U[v].length=I);return{node:{type:_.table,header:O,cells:U,align:q},end:D}}function GJ($,J,Z){var Q=Y0($,J);if(_0($,J,Q),X0>3)return null;var X=J+Z0;if($.charCodeAt(X)!==U0)return null;if(X+1<$.length&&$.charCodeAt(X+1)===r0){var Y=VJ($,X,Z);return Y||null}Z.refs||(Z.refs={});var G=T6($,X,Z.refs);return G===null?null:{node:{type:_.refCollection},end:G}}function VJ($,J,Z){var Q=$.length;if($.charCodeAt(J)!==U0||J+1>=Q||$.charCodeAt(J+1)!==r0)return null;for(var X=J+2,Y=X;X<Q&&$.charCodeAt(X)!==d0;){if($.charCodeAt(X)===g)return null;X++}if(X>=Q)return null;var G=("^"+$.slice(Y,X)).toLowerCase();if(X++,X>=Q||$.charCodeAt(X)!==x0)return null;for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===N);)X++;if(X<Q&&$.charCodeAt(X)===g)for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===N);)X++;var F=$.indexOf(`
`,X);F<0&&(F=Q);for(var V=$.slice(X,F).trim(),K=F<Q?F+1:Q;K<Q;){var q=Y0($,K);if(_0($,K,q),X0>=2&&!e0($,K,q))V+=`
`+$.slice(K,q),K=i($,q);else if(e0($,K,q)){var W=i($,q);if(W<Q){var H=Y0($,W);if(_0($,W,H),X0>=2){V+=`
`,K=i($,q);continue}}break}else break}return Z.refs[G]||(Z.refs[G]={target:V,title:void 0}),{node:{type:_.footnote},end:K}}function FJ($,J,Z,Q){let X=J,Y=0,G=0,F=-1;for(;X<$.length;){let w=F>=0?F:Y0($,X);if(F=-1,e0($,X,w))break;if(_0($,X,w),X0<4&&G>0&&!Z.f){let E=$.charCodeAt(X+Z0);if(E===p0||E===p){let x=X+Z0;for(;x<w&&$.charCodeAt(x)===E;)x++;for(;x<w&&($.charCodeAt(x)===P||$.charCodeAt(x)===N);)x++;if(x>=w){Y=E===p0?1:2,X=i($,w);break}}}G=w;let L=i($,w);if(L<$.length){if($.charCodeAt(L)===s9){var V=Y0($,L);X=i($,V),G=V;continue}let E=Y0($,L);if(F=E,_0($,L,E),X0<4){let x=$.charCodeAt(L+Z0);if(x===u){X=L;break}if(x===Y9&&C6($,L,Z,Q)){X=L;break}if(x===$0||x===I0){for(var K=L+Z0,q=0;K<E&&$.charCodeAt(K)===x;)q++,K++;if(q>=3){X=L;break}}if(x===F0){var W=L+Z0+1,H=W<E?$.charCodeAt(W):0,z=H===g0||H===p9;if(!z&&H===B0){for(var j=W+1,O=j;O<E&&($.charCodeAt(O)>=l&&$.charCodeAt(O)<=n||$.charCodeAt(O)>=O0&&$.charCodeAt(O)<=j0||$.charCodeAt(O)>=s&&$.charCodeAt(O)<=t||$.charCodeAt(O)===p);)O++;O>j&&(z=w$.has($.slice(j,O).toLowerCase()))}else if(!z){for(var U=W;U<E&&($.charCodeAt(U)>=l&&$.charCodeAt(U)<=n||$.charCodeAt(U)>=O0&&$.charCodeAt(U)<=j0||$.charCodeAt(U)>=s&&$.charCodeAt(U)<=t||$.charCodeAt(U)===p);)U++;if(U>W){var D=$.slice(W,U).toLowerCase();z=w$.has(D)||W$.has(D)}}if(z&&d6($,L,Z,Q)){X=L;break}}if(x===p||x===H0||x===D9){let T=L+Z0+1;if(T<E&&($.charCodeAt(T)===P||$.charCodeAt(T)===N)){var A=q$($,T,E);if(A<E&&!E9($,L)){X=L;break}}}if(x>=s&&x<=t){let T=L+Z0;for(;T<E&&$.charCodeAt(T)>=s&&$.charCodeAt(T)<=t;)T++;if(T<E&&($.charCodeAt(T)===n0||$.charCodeAt(T)===t0)&&T-(L+Z0)===1&&$.charCodeAt(L+Z0)===49){var B=T+1;if(B<E&&($.charCodeAt(B)===P||$.charCodeAt(B)===N)){var k=q$($,B,E);if(k<E){X=L;break}}}}if(x===N0){let T=i($,E);if(T<$.length){let h=Y0($,T);if(f6($,T,h)){X=L;break}}}if((x===p||x===H0||x===D0)&&E9($,L)){if(x!==p){X=L;break}let T=0,h=L+Z0;for(;h<E&&$.charCodeAt(h)===p;)T++,h++;for(;h<E&&($.charCodeAt(h)===P||$.charCodeAt(h)===N);)h++;if(h<E){X=L;break}}}}X=i($,w)}for(var I=Y?G:X;I>J&&($.charCodeAt(I-1)===g||$.charCodeAt(I-1)===X9||$.charCodeAt(I-1)===P||$.charCodeAt(I-1)===N);)I--;for(var v=J;v<I&&($.charCodeAt(v)===P||$.charCodeAt(v)===N);)v++;if(v>=I)return null;for(var S=!1,y=v;y<I;y++)if($.charCodeAt(y)===s9){S=!0;break}var R=S?$.slice(v,I).replace(/\u001E/g,""):$.slice(v,I);if(!R)return null;let b=qJ(R,0,R.length,Z,Q);if(Y){let L=(Q?.slugify||o0)(R);return{node:{type:_.heading,level:Y,children:b,id:L},end:X}}return{node:{type:_.paragraph,children:b},end:X}}function qJ($,J,Z,Q,X){var Y=$.indexOf(`
`,J);if(Y<0||Y>=Z)return C0($,J,Z,Q,X);for(var G="",F=J,V=J;V<Z;){var K=$.charCodeAt(V);if(K===$0){var q=k$($,V,Z);if(q>V){for(var W=!1,H=V;H<q;H++)if($.charCodeAt(H)===g){W=!0;break}W&&(G+=$.slice(F,V),G+=$.slice(V,q).replace(/\n/g," "),F=q),V=q;continue}}if(K===F0){var z=c6($,V,Z);if(z>V){V=z;continue}}if(K===g){var j=!1,O=0;if(V>J&&$.charCodeAt(V-1)===v0)j=!0,O=1;else{for(var U=0,D=V-1;D>=J&&$.charCodeAt(D)===P;)U++,D--;U>=2&&(j=!0,O=U)}for(j?(G+=$.slice(F,V-O),G+=""):G+=$.slice(F,V+1),V++;V<Z&&$.charCodeAt(V)===P;)V++;F=V;continue}V++}return F<Z&&(G+=$.slice(F,Z)),C0(G,0,G.length,Q,X)}function WJ($,J,Z){if($.charCodeAt(J)!==$0)return null;let Q=_9($,J,Z,96),X=J+Q;for(;X<Z;){let Y=$.indexOf("`",X);if(Y<0||Y>=Z)return null;let G=_9($,Y,Z,96);if(G===Q){let F=$.slice(J+Q,Y);return F=F.replace(/\n/g," "),F.length>0&&F[0]===" "&&F[F.length-1]===" "&&F.trim().length>0&&(F=F.slice(1,-1)),{node:{type:_.codeInline,text:F},end:Y+G}}X=Y+G}return null}function k$($,J,Z){if($.charCodeAt(J)!==$0)return J;let Q=_9($,J,Z,96),X=J+Q;for(;X<Z;){let Y=$.indexOf("`",X);if(Y<0||Y>=Z)return J;let G=_9($,Y,Z,96);if(G===Q)return Y+G;X=Y+G}return J}function c6($,J,Z){if($.charCodeAt(J)!==F0)return J;if(J+1<Z&&$.charCodeAt(J+1)===B0){let K=J+2;for(;K<Z&&$.charCodeAt(K)!==u;)K++;return K<Z?K+1:J}if(J+3<Z&&$.charCodeAt(J+1)===g0&&$.charCodeAt(J+2)===p&&$.charCodeAt(J+3)===p){let K=$.indexOf("-->",J+4);return K>=0?K+3:J}let Q=J+1,X=Q;for(;Q<Z;){let K=$.charCodeAt(Q);if(K>=l&&K<=n||K>=O0&&K<=j0||K>=s&&K<=t||K===p)Q++;else break}if(Q===X)return J;let Y=$.slice(X,Q).toLowerCase(),G=!1;for(;Q<Z;){let K=$.charCodeAt(Q);if(K===u){Q++;break}if(K===B0&&Q+1<Z&&$.charCodeAt(Q+1)===u){Q+=2,G=!0;break}if(K===q9||K===H9){var F=K;for(Q++;Q<Z&&$.charCodeAt(Q)!==F;)Q++;Q<Z&&Q++;continue}if(K===g)return J;Q++}if(G||t9(Y))return Q;let V=1;for(;Q<Z&&V>0;)if($.charCodeAt(Q)===F0)if(Q+1<Z&&$.charCodeAt(Q+1)===B0){let K=Q+2,q=K;for(;q<Z&&($.charCodeAt(q)>=l&&$.charCodeAt(q)<=n||$.charCodeAt(q)>=O0&&$.charCodeAt(q)<=j0);)q++;if($.slice(K,q).toLowerCase()===Y){for(;q<Z&&$.charCodeAt(q)!==u;)q++;if(q<Z&&q++,V--,V===0)return q}Q=q}else{let K=Q+1,q=K;for(;q<Z&&($.charCodeAt(q)>=l&&$.charCodeAt(q)<=n||$.charCodeAt(q)>=O0&&$.charCodeAt(q)<=j0);)q++;$.slice(K,q).toLowerCase()===Y&&V++,Q++}else Q++;return Q}function zJ($,J,Z,Q,X){if($.charCodeAt(J)!==I0||J+1>=Z||$.charCodeAt(J+1)!==I0)return null;let Y=J+2;for(;Y+1<Z;){let G=$.charCodeAt(Y);if(G===$0){let F=k$($,Y,Z);if(F>Y){Y=F;continue}}if(G===I0&&$.charCodeAt(Y+1)===I0){let F=$.slice(J+2,Y),V=C0(F,0,F.length,Q,X);return{node:{type:_.textFormatted,tag:"del",children:V},end:Y+2}}G===v0&&Y+1<Z&&Y++,Y++}return null}function UJ($,J,Z,Q,X){if($.charCodeAt(J)!==p0||J+1>=Z||$.charCodeAt(J+1)!==p0)return null;let Y=J+2;for(;Y+1<Z;){let G=$.charCodeAt(Y);if(G===$0){let F=k$($,Y,Z);if(F>Y){Y=F;continue}}if(G===p0&&$.charCodeAt(Y+1)===p0&&Y>J+2){let F=$.slice(J+2,Y),V=C0(F,0,F.length,Q,X);return{node:{type:_.textFormatted,tag:"mark",children:V},end:Y+2}}G===v0&&Y+1<Z&&Y++,Y++}return null}var OJ=/[\p{P}\p{S}]/u;function L6($,J,Z){return $<c0?!!(Q6($)&J0):OJ.test(J[Z])}function E6($,J,Z){return $<c0?!!(Q6($)&Z$):/\p{Zs}/u.test(J[Z])}function HJ($,J,Z){var Q=$.charCodeAt(J);if(Q!==H0&&Q!==D0)return null;var X=_9($,J,Z,Q);if(X===0)return null;var Y=J>0?$.charCodeAt(J-1):32,G=J+X<Z?$.charCodeAt(J+X):32,F=E6(Y,$,J-1),V=E6(G,$,J+X),K=J>0?L6(Y,$,J-1):!1,q=J+X<Z?L6(G,$,J+X):!1,W=!V&&(!q||F||K),H=!F&&(!K||V||q),z,j;return Q===H0?(z=W,j=H):(z=W&&(!H||K),j=H&&(!W||q)),{len:X,canOpen:z,canClose:j}}function DJ($,J,Z,Q){if(J.length!==0){for(var X=[],Y=0;Y<12;Y++)X[Y]=-1;for(var G=0;G<J.length;){var F=J[G];if(!F.active||!F.canClose){G++;continue}for(var V=F.ch===H0?0:1,K=V*6+F.len%3*2+(F.canOpen?1:0),q=X[K]!==void 0?X[K]:-1,W=-1,H=G-1;H>q;H--){var z=J[H];if(!(!z.active||z.ch!==F.ch||!z.canOpen)&&!((F.canOpen||z.canClose)&&(z.len+F.len)%3===0&&z.len%3!==0)){W=H;break}}if(W<0){X[K]=G-1,!F.canOpen&&(F.active=!1),G++;continue}var j=J[W],O=j.len>=2&&F.len>=2,U=O?2:1;j.len-=U,F.len-=U;var D=$[j.idx],A=$[F.idx];D.text=D.text.slice(0,D.text.length-U),A.text=A.text.slice(U);var B=j.idx+1,k=F.idx,I=$.slice(B,k),v={type:_.textFormatted,tag:O?"strong":"em",children:I};$.splice(B,k-B,v);for(var S=k-B-1,y=0;y<J.length;y++)J[y].idx>j.idx&&(J[y].idx-=S);for(var R=W+1;R<G;R++)J[R].active=!1;if(j.len===0&&(j.active=!1,D.text==="")){$.splice(j.idx,1);for(var b=0;b<J.length;b++)J[b].idx>j.idx?J[b].idx--:J[b].idx===j.idx&&(J[b].idx=-1)}if(F.len===0){F.active=!1;var w=F.idx;if(A.text===""){$.splice(w,1);for(var L=0;L<J.length;L++)J[L].idx>w?J[L].idx--:J[L].idx===w&&(J[L].idx=-1)}}else continue;G++}for(var E=0,x=0;x<$.length;x++){var T=$[x];if(T.type===_.text){var h=T;if(h.text==="")continue;if(E>0&&$[E-1].type===_.text){$[E-1].text+=h.text;continue}}$[E++]=T}$.length=E}}function g6($,J,Z,Q,X){let Y=$.charCodeAt(J)===g0,G=Y?J+1:J;if($.charCodeAt(G)!==U0)return null;var F=$.indexOf("]",G+1);if(F<0||F>=Z)return null;for(var V=G+1,K=-1,q=1;V<Z&&q>0;){var W=$.charCodeAt(V);if(W===v0&&V+1<Z){V+=2;continue}if(W===$0){var H=k$($,V,Z);if(H>V){V=H;continue}}if(W===F0){var z=l6($,V,Z);if(z){V=z.end;continue}var j=c6($,V,Z);if(j>V){V=j;continue}}W===U0?q++:W===d0&&q--,V++}if(q!==0)return null;var O=V-1,U=$.slice(G+1,O),D=V<Z?$.charCodeAt(V):0,A=!1;if(D===s0){var B=!0;for(V++;V<Z&&($.charCodeAt(V)===P||$.charCodeAt(V)===g);)V++;var k="",I=V;if(V<Z&&$.charCodeAt(V)===F0){for(V++,I=V;I<Z&&$.charCodeAt(I)!==u;){if($.charCodeAt(I)===v0&&I+1<Z){I+=2;continue}if($.charCodeAt(I)===g){B=!1;break}I++}B&&(I>=Z||$.charCodeAt(I)!==u)&&(B=!1),B&&(k=$.slice(V,I),I++)}else if(B){for(var v=0;I<Z;){var S=$.charCodeAt(I);if(S===v0&&I+1<Z){I+=2;continue}if(S===s0)v++;else if(S===t0){if(v===0)break;v--}else if(S===P||S===g)break;I++}k=$.slice(V,I)}if(B){for(V=I;V<Z&&($.charCodeAt(V)===P||$.charCodeAt(V)===g);)V++;var y;if(V<Z){var R=$.charCodeAt(V);if(R===q9||R===H9||R===s0){var b=R===s0?41:R;V++;for(var w=V;V<Z&&$.charCodeAt(V)!==b;)$.charCodeAt(V)===v0&&V+1<Z&&V++,V++;V>=Z?B=!1:(y=$.slice(w,V),V++)}}if(B){for(;V<Z&&($.charCodeAt(V)===P||$.charCodeAt(V)===g);)V++;(V>=Z||$.charCodeAt(V)!==t0)&&(B=!1)}}if(B){V++,k=$$(k),y!==void 0&&(y=$$(y));var L=X?.sanitizer||B9,E=L(k,Y?"img":"a",Y?"src":"href"),x=E===null?null:k;if(Y){var T=C0(U,0,U.length,Q,X),h=y$(T);return{node:{type:_.image,target:x,alt:h,title:y},end:V}}else{var w0=Q.inAnchor;Q.inAnchor=!0;var m=w0?[{type:_.text,text:U}]:C0(U,0,U.length,Q,X);return Q.inAnchor=w0,!Q.inAnchor&&Z6(m)?null:{node:{type:_.link,target:x,title:y,children:m},end:V}}}else V=O+1,A=!0}var q0="",z0=V;if(!A&&D===U0){var o=V+1;z0=o;for(var P0=!1;z0<Z&&$.charCodeAt(z0)!==d0;){if($.charCodeAt(z0)===v0&&z0+1<Z){z0+=2;continue}if($.charCodeAt(z0)===U0){P0=!0;break}z0++}if(P0||z0>=Z)return null;var W0=$.slice(o,z0);if(W0.trim())q0=b$(W0);else{if(R6(U))return null;q0=b$(U)}z0=z0+1}else{if(R6(U))return null;q0=b$(U)}var b0=Q.refs[q0];if(!b0)return null;if(Y)return{node:{type:_.image,target:b0.target,alt:y$(C0(U,0,U.length,Q,X)),title:b0.title},end:z0};var Q0=Q.inAnchor;Q.inAnchor=!0;var m=Q0?[{type:_.text,text:U}]:C0(U,0,U.length,Q,X);return Q.inAnchor=Q0,!Q.inAnchor&&Z6(m)?null:{node:{type:_.link,target:b0.target,title:b0.title,children:m},end:z0}}function l6($,J,Z){if($.charCodeAt(J)!==F0)return null;for(var Q=J+1;Q<Z;){var X=$.charCodeAt(Q);if(X===u)break;if(X===P||X===g||X===X9||X===F0)return null;Q++}if(Q>=Z||$.charCodeAt(Q)!==u)return null;var Y=$.slice(J+1,Q),G=Y.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return G?{node:{type:_.link,target:Y,children:[{type:_.text,text:Y}]},end:Q+1}:Y.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(Y)?{node:{type:_.link,target:"mailto:"+Y,children:[{type:_.text,text:Y}]},end:Q+1}:null}function jJ($,J,Z,Q){if($.charCodeAt(J)!==U0||J+1>=Z||$.charCodeAt(J+1)!==r0)return null;let X=J+2;for(;X<Z&&$.charCodeAt(X)!==d0&&$.charCodeAt(X)!==g;)X++;if(X>=Z||$.charCodeAt(X)!==d0)return null;let Y=$.slice(J+2,X);return Y?{node:{type:_.footnoteReference,target:"#"+o0(Y),text:Y},end:X+1}:null}function BJ($,J,Z,Q){if(Q.disableBareUrls)return null;var X="",Y=!1,G=$.charCodeAt(J);if(G===n9||G===72?J+8<=Z&&$.charCodeAt(J+1)===j$&&$.charCodeAt(J+2)===j$&&$.charCodeAt(J+3)===C$&&($.charCodeAt(J+4)===j6&&$.charCodeAt(J+5)===x0&&$.charCodeAt(J+6)===B0&&$.charCodeAt(J+7)===B0?X="https://":$.charCodeAt(J+4)===x0&&$.charCodeAt(J+5)===B0&&$.charCodeAt(J+6)===B0&&(X="http://")):G===b9||G===70?J+6<=Z&&$.charCodeAt(J+1)===j$&&$.charCodeAt(J+2)===C$&&$.charCodeAt(J+3)===x0&&$.charCodeAt(J+4)===B0&&$.charCodeAt(J+5)===B0&&(X="ftp://"):(G===R9||G===87)&&J+4<=Z&&$.charCodeAt(J+1)===R9&&$.charCodeAt(J+2)===R9&&$.charCodeAt(J+3)===n0&&(X="www.",Y=!0),!X)return null;let F=J+X.length;for(;F<Z;){let v=$.charCodeAt(F);if(v===P||v===g||v===N||v===X9||v===F0||v===u)break;F++}for(var V=0,K=0,q=J;q<F;q++){var W=$.charCodeAt(q);W===s0?V++:W===t0&&K++}let H=F;for(;H>J+X.length;){let v=$.charCodeAt(H-1);if(v===n0||v===u$||v===x0||v===g0||v===p9||v===t0){if(v===t0){if(V>=K)break;K--}H--}else if(v===B$){for(var z=H-2;z>J&&($.charCodeAt(z)>=l&&$.charCodeAt(z)<=n||$.charCodeAt(z)>=O0&&$.charCodeAt(z)<=j0||$.charCodeAt(z)>=s&&$.charCodeAt(z)<=t);)z--;z>=J&&$.charCodeAt(z)===D$?H=z:H--}else break}if(H<=J+X.length)return null;var j=J+(Y?4:X.length),O=$.indexOf("/",j);if((O<0||O>H)&&(O=H),Y&&$.indexOf(".",j)===-1)return null;for(var U=-1,D=-1,A=O-1;A>=j;A--)if($.charCodeAt(A)===n0)if(U<0)U=A;else{D=A;break}for(var B=D>=0?D+1:j,A=B;A<O;A++)if($.charCodeAt(A)===D0)return null;var k=$.slice(J,H),I=Y?"http://"+k:k;return{node:{type:_.link,target:I,children:[{type:_.text,text:k}]},end:H}}function MJ($,J,Z,Q){if(Q.disableBareUrls)return null;for(var X=J,Y=X;X<Z;){var G=$.charCodeAt(X);if(G>=l&&G<=n||G>=O0&&G<=j0||G>=s&&G<=t||G===n0||G===g0||G===Y9||G===36||G===i9||G===D$||G===H9||G===H0||G===D9||G===B0||G===p0||G===p9||G===r0||G===D0||G===$0||G===j9||G===N0||G===V$||G===I0||G===p)X++;else break}if(X===Y||X>=Z||$.charCodeAt(X)!==a9)return null;X++;for(var F=X,V=-1;X<Z;){var G=$.charCodeAt(X);if(G>=l&&G<=n||G>=O0&&G<=j0||G>=s&&G<=t)X++;else if((G===p||G===D0)&&X>F)X++;else if(G===n0){if(X===F)break;var K=$.charCodeAt(X-1);if(K===p||K===D0)break;if(X+1<Z){var q=$.charCodeAt(X+1);if(q>=l&&q<=n||q>=O0&&q<=j0||q>=s&&q<=t)V=X,X++;else break}else break}else break}if(V<0)return null;var W=$.charCodeAt(X-1);if(!(W>=l&&W<=n||W>=O0&&W<=j0||W>=s&&W<=t)||X<=V+1)return null;for(var H=-1,z=V-1;z>=F;z--)if($.charCodeAt(z)===n0){H=z;break}for(var j=H>=0?H+1:F,z=j;z<X;z++)if($.charCodeAt(z)===D0)return null;var O=$.slice(J,X);return{node:{type:_.link,target:"mailto:"+O,children:[{type:_.text,text:O}]},end:X}}function Z6($){for(var J=0;J<$.length;J++)if($[J].type===_.link||"children"in $[J]&&Array.isArray($[J].children)&&Z6($[J].children))return!0;return!1}function y$($){for(var J="",Z=0;Z<$.length;Z++){var Q=$[Z];Q.type===_.text?J+=Q.text:Q.type===_.breakLine?J+=" ":Q.type===_.codeInline?J+=Q.text:"children"in Q&&Array.isArray(Q.children)?J+=y$(Q.children):Q.type===_.image?J+=Q.alt||"":Q.type===_.link&&(J+=y$(Q.children))}return J}function l9($){let J=$.includes("&")?n$($):$;return{type:_.text,text:J}}function AJ($,J,Z,Q,X){if($.charCodeAt(J)!==F0)return null;var Y=J+1;if(Y>=Z)return null;var G=$.charCodeAt(Y);if(G===g0&&Y+1<Z&&$.charCodeAt(Y+1)===p&&Y+2<Z&&$.charCodeAt(Y+2)===p){var F=Y+3;if(F<Z&&$.charCodeAt(F)===u)return{node:{type:_.htmlComment,text:"",endsWithGreaterThan:!0},end:F+1};if(F+1<Z&&$.charCodeAt(F)===p&&$.charCodeAt(F+1)===u)return{node:{type:_.htmlComment,text:"-",endsWithGreaterThan:!0},end:F+2};var V=$.indexOf("-->",F);return V!==-1&&V<=Z-3?{node:{type:_.htmlComment,text:$.slice(J+4,V)},end:V+3}:null}if(G===p9){var K=$.indexOf("?>",Y+1);return K!==-1&&K<Z?{node:{type:_.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(J,K+2)},end:K+2}:null}if(G===g0&&Y+1<Z){var q=$.charCodeAt(Y+1);if(q===U0&&$.slice(Y+1,Y+8)==="[CDATA["){var W=$.indexOf("]]>",Y+8);return W!==-1&&W<Z?{node:{type:_.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(J,W+3)},end:W+3}:null}if(q>=l&&q<=n){var H=$.indexOf(">",Y+2);return H!==-1&&H<Z?{node:{type:_.htmlSelfClosing,tag:"!"+$.slice(Y+1,H),attrs:{},a:$.slice(J,H+1)},end:H+1}:null}}if(G===B0){var z=Y+1;if(z>=Z)return null;var j=$.charCodeAt(z);if(!(j>=l&&j<=n||j>=O0&&j<=j0))return null;for(z++;z<Z;){var O=$.charCodeAt(z);if(O>=l&&O<=n||O>=O0&&O<=j0||O>=s&&O<=t||O===p)z++;else break}for(;z<Z&&($.charCodeAt(z)===P||$.charCodeAt(z)===N||$.charCodeAt(z)===g);)z++;if(z<Z&&$.charCodeAt(z)===u){var U=$.slice(Y+1,z).trim();return{node:{type:_.htmlSelfClosing,tag:U,attrs:{},a:$.slice(J,z+1),c:!0},end:z+1}}return null}if(!(G>=l&&G<=n||G>=O0&&G<=j0))return null;var D=M9($,J);if(!D)return null;var A=D.tag,B=A.toLowerCase(),k=D.selfClosing;if(k||t9(A))return{node:{type:_.htmlSelfClosing,tag:A,attrs:L9(D.attrs,A,X),a:$.slice(J,D.end)},end:D.end};var I=W$.has(B),v=p6($.slice(0,Z),D.end,A);if(v===-1)return{node:{type:_.htmlSelfClosing,tag:A,attrs:L9(D.attrs,A,X),a:$.slice(J,D.end)},end:D.end};var S=YJ($,"</"+B,v),y=$.slice(D.end,S),R=[];if(I)y.trim()&&(R=[{type:_.text,text:y}]);else{var b=y.trim();if(b){var{inAnchor:w,inline:L}=Q;B==="a"&&(Q.inAnchor=!0);var E=b.indexOf(`

`)!==-1||/^#{1,6}\s/.test(b);E?(Q.inline=!1,R=v9(b,Q,X)):R=C0(b,0,b.length,Q,X),Q.inAnchor=w,Q.inline=L}}return{node:{type:_.htmlBlock,tag:A,attrs:L9(D.attrs,A,X),e:D.rawAttrs,children:R,text:y,d:!1},end:v}}var vJ=200,e9=0;function C0($,J,Z,Q,X){if(e9++,e9>vJ)return e9--,[{type:_.text,text:$.slice(J,Z)}];let Y=Q;if(X.streaming||X.optimizeForStreaming){let e=function(r,f0){for(var T0=1,u0=f0+1;u0<r.length;u0++){var V0=r.charCodeAt(u0);if(V0===U0)T0++;else if(V0===d0&&(T0--,T0===0))return u0}return-1},M=$.slice(J,Z),f=M;for(var G=0,F=0,V=0,K=0,q=0,W=-1,H=-1,z=-1,j=-1,O=-1,U=0;U<M.length;U++){var D=M.charCodeAt(U);D===H0?U+1<M.length&&M.charCodeAt(U+1)===H0?(G++,W=U,U++):(F++,H=U):D===D0?U+1<M.length&&M.charCodeAt(U+1)===D0?(V++,z=U,U++):(K++,j=U):D===I0&&U+1<M.length&&M.charCodeAt(U+1)===I0&&(q++,O=U,U++)}var A=[];q%2===1&&O>=0&&A.push([O,2]),V%2===1&&z>=0&&A.push([z,2]),K%2===1&&j>=0&&A.push([j,1]),G%2===1&&W>=0&&A.push([W,2]),F%2===1&&H>=0&&A.push([H,1]),A.sort(function(r,f0){return f0[0]-r[0]});for(var B=0;B<A.length;B++){var k=A[B][0],I=A[B][1];M=M.slice(0,k)+M.slice(k+I)}let G0=0,y0=-1;for(let r=0;r<M.length;r++)M.charCodeAt(r)===$0&&(G0++,y0=r);if(G0%2===1&&y0!==-1){let r=!1,f0=-1,T0=0;for(;T0<M.length;)M.charCodeAt(T0)===$0&&(r?(r=!1,f0=-1):(f0=T0,r=!0)),T0++;r&&f0!==-1&&(M=M.slice(0,f0))}for(var v=!0;v;){v=!1;for(var S=-1,y=-1,R=-1,b=!1,w=0;w<M.length;w++){var L=M.charCodeAt(w);if(L===U0&&(w===0||M.charCodeAt(w-1)!==v0)){var E=w>0&&M.charCodeAt(w-1)===g0,x=E?w-1:w,T=e(M,w);if(T===-1)S=x,b=E,y=w+1,R=M.length;else{var h=T+1;if(h>=M.length)S=x,b=E,y=w+1,R=T;else if(M.charCodeAt(h)===s0){var w0=M.indexOf(")",h+1);w0===-1?(S=x,b=E,y=w+1,R=T,w=M.length):w=w0}else if(M.charCodeAt(h)===U0){var m=M.indexOf("]",h+1);m===-1?(S=x,b=E,y=w+1,R=T,w=M.length):w=m}else w=T}}}if(S>=0){var q0=b?"":M.slice(y,R);M=M.slice(0,S)+q0,v=!0}}let S0=M.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(S0&&S0.index!==void 0){for(var z0=!1,o=0,P0=0;P0<S0.index;P0++)M.charCodeAt(P0)===$0&&o++;if(z0=o%2===1,!z0){let r=S0[1];A9(M,"</"+r,0)===-1&&(M=M.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}M!==f&&($=$.slice(0,J)+M,Z=J+M.length)}let W0=[];var b0=[];let Q0=J;var M0=X.disableAutoLink||X.disableBareUrls||Y.inAnchor?-1:$.indexOf("@",J);for(M0>=Z&&(M0=-1);J<Z;){let M=$.charCodeAt(J),f=null;if(M===$0){if(f=WJ($,J,Z),!f){var K0=_9($,J,Z,$0);J+=K0-1}}else if(M===H0||M===D0){var a=HJ($,J,Z);if(a){if(a.canOpen||a.canClose){J>Q0&&W0.push(l9($.slice(Q0,J)));var C=$.slice(J,J+a.len),A0=l9(C);b0.push({idx:W0.length,ch:M,len:a.len,canOpen:a.canOpen,canClose:a.canClose,active:!0}),W0.push(A0),J+=a.len,Q0=J;continue}J+=a.len-1}}else M===I0?f=zJ($,J,Z,Y,X):M===p0?f=UJ($,J,Z,Y,X):M===U0?(J+1<Z&&$.charCodeAt(J+1)===r0&&(f=jJ($,J,Z,Y)),f||(f=g6($,J,Z,Y,X))):M===g0&&J+1<Z&&$.charCodeAt(J+1)===U0?f=g6($,J,Z,Y,X):M===F0?(f=l6($,J,Z),!f&&!X.disableParsingRawHTML&&!X.ignoreHTMLBlocks&&(f=AJ($,J,Z,Y,X))):(M===n9||M===R9||M===b9)&&!Y.inAnchor&&!X.disableAutoLink&&(J===0||$.charCodeAt(J-1)!==F0)&&(f=BJ($,J,Z,X));if(!f&&M0>=0&&M0-J<=64&&!Y.inAnchor&&!X.disableAutoLink&&!X.disableBareUrls&&(M>=l&&M<=n||M>=O0&&M<=j0||M>=s&&M<=t)&&(f=MJ($,J,Z,X),!f&&J>=M0&&(M0=$.indexOf("@",J+1),M0>=Z&&(M0=-1))),M===p$){J>Q0&&W0.push(l9($.slice(Q0,J))),W0.push({type:_.breakLine}),J++,Q0=J;continue}if(f)J>Q0&&W0.push(l9($.slice(Q0,J))),W0.push(f.node),J=f.end,Q0=J;else{if(M===v0&&J+1<Z){let G0=$.charCodeAt(J+1);if(Q6(G0)&J0){J>Q0&&W0.push(l9($.slice(Q0,J))),W0.push(l9($[J+1])),J+=2,Q0=J;continue}}if(J++,M0<0||M0-J>64)for(;J<Z;){var k0=$.charCodeAt(J);if(k0<c0&&!x6[k0])J++;else break}}}if(Z>Q0){let M=$.slice(Q0,Z);(X.streaming||X.optimizeForStreaming)&&(M=M.replace(/\*\*([^*]+)$/,"$1"),M.match(/\*[^*]+$/)&&(M=M.replace(/\*([^*]+)$/,"$1")),M=M.replace(/__([^_]+)$/,"$1"),M.match(/_[^_]+$/)&&(M=M.replace(/_([^_]+)$/,"$1")),M=M.replace(/~~([^~]+)$/,"$1"),M=M.replace(/\[([^\]]+)$/,"$1"),M=M.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),M&&W0.push(l9(M))}return b0.length>0&&DJ(W0,b0,Q,X),e9--,W0}var _J=500;function v9($,J,Z){var Q=J.g||0;if(Q>_J)return[{type:_.text,text:$}];J.g=Q+1;let X=J;if(Z.streaming||Z.optimizeForStreaming){var Y=$.length;Y>0&&$.charCodeAt(Y-1)===g&&Y--;for(var G=Y;G>0&&$.charCodeAt(G-1)!==g;)G--;if(G>0&&$.charCodeAt(G)===N0){for(var F=!0,V=G;V<Y;V++){var K=$.charCodeAt(V);if(K!==P&&K!==N&&K!==p&&K!==x0&&K!==N0){F=!1;break}}if(F){for(var q=G-1;q>0&&$.charCodeAt(q-1)!==g;)q--;$.charCodeAt(q)===N0&&($=$.slice(0,q).trimEnd())}}var W=$.trim(),H=W.lastIndexOf(`
`),z=H===-1?W:W.slice(H+1);if(z.length>0&&z.charCodeAt(0)===N0){for(var j=!1,O=!1,U=1;U<z.length;U++){var D=z.charCodeAt(U);D===N0&&(j=!0),D===p&&(O=!0)}j&&O&&($=H===-1?"":$.slice(0,$.lastIndexOf(z)).trimEnd())}for(var A=-1,B=-1,k=-1,I=$.length-1;I>=0;I--)if($.charCodeAt(I)===F0){var v=I+1<$.length?$.charCodeAt(I+1):0;if(v>=l&&v<=n||v>=O0&&v<=j0){for(var S=I+2;S<$.length;){var y=$.charCodeAt(S);if(y>=l&&y<=n||y>=O0&&y<=j0||y>=s&&y<=t)S++;else break}for(var R=S;R<$.length&&$.charCodeAt(R)!==u;)R++;if(R<$.length){for(var b=!1,w=R+1;w<$.length;w++)if($.charCodeAt(w)===F0){b=!0;break}b||(A=I,B=S,k=R+1)}}break}if(A>=0){for(var L=0,E=0;E<A;E++)$.charCodeAt(E)===$0&&L++;if(L%2===0){var x=$.slice(A+1,B);A9($,"</"+x,0)===-1&&($=$.slice(0,A)+$.slice(k))}}var T=$.length;if(T>0){for(var h=$.lastIndexOf(`
`),w0=h===-1?0:h+1,m=T,q0=w0,z0=0;q0<m&&$.charCodeAt(q0)===P&&z0<3;)q0++,z0++;if(q0<m){var o=$.charCodeAt(q0),P0=!1;if(o===H0||o===p||o===D9){var W0=q0+1;if(W0>=m||$.charCodeAt(W0)===P||$.charCodeAt(W0)===N){for(var b0=W0;b0<m&&($.charCodeAt(b0)===P||$.charCodeAt(b0)===N);)b0++;b0>=m&&(P0=!0)}}else if(o>=s&&o<=t){for(var Q0=q0;Q0<m&&$.charCodeAt(Q0)>=s&&$.charCodeAt(Q0)<=t;)Q0++;if(Q0<m&&($.charCodeAt(Q0)===n0||$.charCodeAt(Q0)===t0)){var M0=Q0+1;if(M0>=m||$.charCodeAt(M0)===P||$.charCodeAt(M0)===N){for(var K0=M0;K0<m&&($.charCodeAt(K0)===P||$.charCodeAt(K0)===N);)K0++;K0>=m&&(P0=!0)}}}P0&&($=$.slice(0,w0).trimEnd())}}}if(J.inline)return C0($,0,$.length,J,Z);let a=[],C=0,A0=$.length;if(C===0&&$.startsWith("---")){let e=i$($);if(e&&e.hasValidYaml){if(Z.preserveFrontmatter!==!1){let S0=$.slice(0,e.endPos).trimEnd();a.push({type:_.frontmatter,text:S0})}C=e.endPos}}for(;C<A0;){for(var k0=$.indexOf(`
`,C),M=k0<0?A0:k0;C<A0&&e0($,C,M);)C=M<A0?M+1:M,C<A0&&(k0=$.indexOf(`
`,C),M=k0<0?A0:k0);if(C>=A0)break;$.charCodeAt(C),_0($,C,M);let e=null;if($.charCodeAt(C)!==s9&&X0>=4&&!J.inHTML)e=JJ($,C);else if($.charCodeAt(C)!==s9){let S0=C+Z0,r=$.charCodeAt(S0);r===Y9?e=C6($,C,J,Z):r===u?e=QJ($,C,J,Z):r===$0||r===I0?e=ZJ($,C,J):r===p||r===H0||r===D0?(e=E9($,C),!e&&(e=y6($,C,J,Z))):r===D9||r>=s&&r<=t?e=y6($,C,J,Z):r===F0?e=d6($,C,J,Z):r===N0?e=k6($,C,J,Z):r===U0&&(e=GJ($,C,J))}if(!e){for(var f=!1,G0=C;G0<M;G0++)if($.charCodeAt(G0)===N0){f=!0;break}f&&(e=k6($,C,J,Z))}if(e||(e=FJ($,C,J,Z)),e)e.node.type!==_.refCollection&&a.push(e.node),C=e.end;else{var y0=$.indexOf(`
`,C);C=y0<0?A0:y0+1}}return J.g=Q,a}function o6($,J){e9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=I$($);let Z={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},Q={...J,slugify:J?.slugify?Y=>J.slugify(Y,o0):o0,sanitizer:J?.sanitizer||B9,tagfilter:J?.tagfilter!==!1};S$($,Z.refs,Q);let X=v9($,Z,Q);return Z.refs&&Object.keys(Z.refs).length>0?[{type:_.refCollection,refs:Z.refs},...X]:X}function mJ($,J,Z,Q){var X=M9($,J);return X?{tagName:X.tag,tagLower:X.tag.toLowerCase(),attrs:X.rawAttrs,whitespaceBeforeAttrs:X.whitespaceBeforeAttrs,isSelfClosing:X.selfClosing,hasSpaceBeforeSlash:X.hasSpaceBeforeSlash,isClosing:X.isClosing,hasNewline:X.whitespaceBeforeAttrs.includes(`
`)||X.rawAttrs.includes(`
`),endPos:X.end}:null}function L$($,J,Z){e9=0,$=I$($),!J.refs&&(J.refs={}),S$($,J.refs,Z);let Q=v9($,J,Z);return J.refs&&Object.keys(J.refs).length>0?[{type:_.refCollection,refs:J.refs},...Q]:Q}var PJ=/^\n+/,X6=z9.createContext(void 0);function NJ($,J,Z,Q,X,Y,G,F){let V=F.styles||{};switch($.type){case _.blockQuote:{let K=$;return Q(d.View,{key:Z.key,style:V.blockquote},J(K.children,Z))}case _.breakLine:return`
`;case _.breakThematic:return Q(d.View,{key:Z.key,style:V.thematicBreak});case _.frontmatter:if(F.preserveFrontmatter){let K=$;return Q(d.Text,{key:Z.key,style:V.codeBlock},K.text)}return null;case _.codeBlock:{let K=$;return Q(d.View,{key:Z.key,style:V.codeBlock},Q(d.Text,{style:V.codeInline},K.text))}case _.codeInline:{let K=$;return Q(d.Text,{key:Z.key,style:V.codeInline},K.text)}case _.footnoteReference:{let K=$,q=X(K.target,"a","href");return q?Q(d.Text,{key:Z.key,onPress:()=>{F.onLinkPress?F.onLinkPress(q,K.text):d.Linking.openURL(q).catch(()=>{})},style:V.link},Q(d.Text,{style:{fontWeight:"bold"}},K.text)):null}case _.gfmTask:{let K=$;return Q(d.Text,{key:Z.key,style:V.gfmTask},K.completed?"[x]":"[ ]")}case _.heading:{let K=$,q=`heading${K.level}`,W=V[q];return Q(d.Text,{key:Z.key,style:W},J(K.children,Z))}case _.htmlBlock:{let K=$;if(F.tagfilter&&P$(K.tag)){let q=typeof K.a=="string"?K.a:`<${K.tag}>`;return Q(d.Text,{key:Z.key},q)}if(K.a&&K.d){let H=function(D){return(D.type===_.htmlSelfClosing||D.type===_.htmlBlock)&&D.c?[]:D.type===_.paragraph?D.children?.flatMap(H)||[]:D.type===_.text?D.text?.trim()?[D]:[]:D.type===_.htmlBlock&&D.children?[{...D,children:D.children?.flatMap(H)}]:[D]},q=K.tag.toLowerCase();if(J6(q)&&!/<[a-z][^>]{0,100}>/i.test(K.a)){let D=K.a.replace(new RegExp("\\s*</"+q+">\\s*$","i"),"");return F.tagfilter&&(D=N$(D)),Q(K.tag,{key:Z.key,...S9(K.attrs||{})},D)}if(/<\/?pre\b/i.test(K.a)){let D=F.tagfilter?N$(K.a):K.a;return Q(d.Text,{key:Z.key,style:V.codeBlock},D)}if(K.children&&K.children.length>0)return Q(K.tag,{key:Z.key,...S9(K.attrs||{})},J(K.children.flatMap(H),Z));let z=K.a.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${K.tag}(\\s[^>]*)?>(\\s*</${K.tag}>)?$`,"i").test(z))return Q(K.tag,{key:Z.key,...S9(K.attrs||{})});let U=L$(z,{inline:!1,refs:G,inHTML:!1},{slugify:D=>Y(D,o0),sanitizer:(D,A,B)=>X(D,A,B),tagfilter:!0});return Q(K.tag,{key:Z.key,...S9(K.attrs||{})},J(U.flatMap(H),Z))}return Q(K.tag,{key:Z.key,...S9(K.attrs||{})},K.children?J(K.children,Z):"")}case _.htmlSelfClosing:{let K=$;if(F.tagfilter&&P$(K.tag)){let q=typeof K.a=="string"?K.a:`<${K.tag} />`;return Q(d.Text,{key:Z.key},q)}return Q(K.tag,{key:Z.key,...S9(K.attrs||{})})}case _.image:{let K=$,q=X(K.target,"img","src");return q?Q("img",{key:Z.key,source:{uri:q},accessibilityLabel:K.alt||void 0,style:V.image}):null}case _.link:{let K=$,q={textDecorationLine:"underline"},W=V.link?[q,V.link]:q,H={key:Z.key,style:W};if(K.target!=null){let z=s$(K.target);H.onPress=()=>{F.onLinkPress?F.onLinkPress(z,K.title):d.Linking.openURL(z).catch(()=>{})},F.onLinkLongPress&&(H.onLongPress=()=>F.onLinkLongPress(z,K.title))}return Q("a",H,J(K.children,Z))}case _.table:{let K=$;return Q(d.View,{key:Z.key,style:V.table},Q(d.View,{style:V.tableHeader},Q(d.View,{style:{flexDirection:"row"}},K.header.map(function(W,H){return Q(d.View,{key:H,style:[V.tableHeaderCell,K.align[H]!=null?{alignItems:K.align[H]==="center"?"center":K.align[H]==="right"?"flex-end":"flex-start"}:{}]},J(W,Z))}))),Q(d.View,{},K.cells.map(function(W,H){return Q(d.View,{key:H,style:{flexDirection:"row"}},W.map(function(j,O){return Q(d.View,{key:O,style:[V.tableCell,K.align[O]!=null?{alignItems:K.align[O]==="center"?"center":K.align[O]==="right"?"flex-end":"flex-start"}:{}]},J(j,Z))}))})))}case _.text:return $.text;case _.textFormatted:{let K=$,W={em:{fontStyle:"italic"},strong:{fontWeight:"bold"},del:{textDecorationLine:"line-through"}}[K.tag],H=V[K.tag]||W;return Q(d.Text,{key:Z.key,style:H},J(K.children,Z))}case _.orderedList:case _.unorderedList:{let K=$,q=$.type===_.orderedList,W=q?V.listOrdered:V.listUnordered;return Q(d.View,{key:Z.key,style:W},K.items.map((H,z)=>{let j=q&&"start"in K&&K.start!=null?K.start+z:z+1,O=q?`${j}.`:"\u2022",U=q?V.listItemNumber:V.listItemBullet;return Q(d.View,{key:z,style:{flexDirection:"row"}},Q(d.Text,{style:U},O+" "),Q(d.View,{style:V.listItem},J(H,Z)))}))}case _.paragraph:return Q("p",{key:Z.key,style:V.paragraph},J($.children,Z));case _.ref:return null;default:return null}}var bJ=($,J,Z,Q,X,Y)=>{let G=(K,q,W)=>{let H=(j,O)=>{let U=Array.isArray(j)?j:[j];return q(U,O||W)},z=()=>NJ(K,H,W,J,Z,Q,X,Y);return $?$(z,K,q,W):z()},F=K=>K.map(q=>"text"in q?q.text:""),V=(K,q={})=>{let W=Array.isArray(K)?K:[K],H=(q.renderDepth||0)+1;if(H>2500)return F(W);q.renderDepth=H;let z=q.key,j=[],O=!1;for(let U=0;U<W.length;U++){q.key=U;let D=G(W[U],V,q),A=typeof D=="string";if(A&&O)j[j.length-1]+=D;else if(D!==null)if(Array.isArray(D))for(let B=0;B<D.length;B++)j.push(D[B]);else j.push(D);O=A}return q.key=z,q.renderDepth=H-1,j.length===1?j[0]:j};return V},RJ=($,J)=>{if(!J||typeof $!="string")return $;let Z=c9(J,$,void 0);return Z?typeof Z=="function"||typeof Z=="object"&&Z!==null&&"render"in Z?Z:c9(J,`${$}.component`,$):$},wJ=$=>{let J=$.toLowerCase();return J==="img"?d.Image:J==="div"||J==="section"||J==="article"||J==="aside"||J==="header"||J==="footer"||J==="main"||J==="nav"||J==="figure"||J==="figcaption"||J==="blockquote"||J==="ul"||J==="ol"||J==="li"||J==="table"||J==="thead"||J==="tbody"||J==="tr"||J==="th"||J==="td"||J6(J)?d.View:d.Text};function r6($,J){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||o0,X=Z.sanitizer||B9,Y=Z.createElement||z9.createElement;function G(O,U,...D){if(typeof O!="string")return Y(O,U,...D);let A=c9(Z.overrides||{},`${O}.props`,{}),B=RJ(O,Z.overrides||{}),k={...U,...A,style:U.style||A.style||void 0};if(typeof B=="function"||typeof B=="object"&&B!==null)return Y(B,k,...D);let I=wJ(B);return Y(I,k,...D)}let F={slugify:O=>Q(O,o0),sanitizer:(O,U,D)=>X(O,U,D),tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings},V=$[0]&&$[0].type===_.refCollection?$[0].refs:{},K=bJ(Z.renderRule,G,(O,U,D)=>X(O,U,D),Q,V,Z),q=K($,{inline:Z.forceInline,refs:V}),W=Array.isArray(q)?q:[q],H=[];for(let O in V)O.charCodeAt(0)===r0&&H.push({identifier:O,footnote:V[O].target});if(H.length&&W.push(Y(d.View,{key:"footer"},H.map(function(U){let D=U.identifier.charCodeAt(0)===r0?U.identifier.slice(1):U.identifier,A=L$(U.footnote,{inline:!0,refs:V},F),B=K(A,{inline:!0,refs:V}),k=typeof B=="string"?Y(d.Text,{},B):B;return Y(d.View,{key:U.identifier},Y(d.Text,{},D+": "),k)}))),Z.wrapper===null)return W;let z=Z.wrapper||(Z.forceInline?d.Text:d.View),j;if(W.length>1||Z.forceWrapper)j=W;else if(W.length===1){let O=W[0];return typeof O=="string"?Y(d.Text,{key:"outer",...Z.wrapperProps},O):O}else return null;return Y(z,{key:"outer",...Z.wrapperProps},j)}function i6($="",J={}){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||o0,X=Z.sanitizer||B9;function Y(V){let K=Z.forceInline||!Z.forceBlock&&!a$.test(V),q={slugify:z=>Q(z,o0),sanitizer:(z,j,O)=>X(z,j,O),tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings};K||S$(V,G,q);let W=V;if(!K){let z=W.length;for(;z>0&&(W[z-1]===`
`||W[z-1]==="\r");)z--;W=W.slice(0,z),W=`${W.replace(PJ,"")}

`}let H=L$(K?V:W,{inline:K,refs:G},q);return r6(H,{...Z,forceInline:K})}let G={};return Y($)}var yJ=({options:$,children:J})=>z9.createElement(X6.Provider,{value:$},J),a6=({children:$,options:J,...Z})=>{let Q=z9.useContext(X6),X=z9.useMemo(()=>{var F=Object.assign({},Q,J);return F.styles=Object.assign({},Q?.styles,J?.styles),F.overrides=Object.assign({},Q?.overrides,J?.overrides),F.wrapperProps=Object.assign({},Q?.wrapperProps,J?.wrapperProps,Z),F},[Q,J,Z]),Y=$??"";return z9.useMemo(()=>i6(Y,X),[Y,X])},kJ=a6;
