var IZ=Object.create,{getPrototypeOf:NZ,defineProperty:j$,getOwnPropertyNames:_6,getOwnPropertyDescriptor:PZ}=Object,v6=Object.prototype.hasOwnProperty,RJ=($,Z,J)=>{J=$!=null?IZ(NZ($)):{};let Q=Z||!$||!$.h?j$(J,"default",{value:$,enumerable:!0}):J;for(let X of _6($))v6.call(Q,X)||j$(Q,X,{get:()=>$[X],enumerable:!0});return Q},A6=new WeakMap,bZ=$=>{var Z=A6.get($),J;return Z||(Z=j$({},"__esModule",{value:!0}),($&&typeof $=="object"||typeof $=="function")&&_6($).map(Q=>!v6.call(Z,Q)&&j$(Z,Q,{get:()=>$[Q],enumerable:!(J=PZ($,Q))||J.enumerable})),A6.set($,Z),Z)},I6=($,Z)=>{for(var J in Z)j$($,J,{get:Z[J],enumerable:!0,configurable:!0,set:Q=>Z[J]=()=>Q})},PJ={};I6(PJ,{slugify:()=>n0,sanitizer:()=>i9,parser:()=>p$,compiler:()=>NJ,astToHTML:()=>Q9,RuleType:()=>j}),module.exports=bZ(PJ);var N=32,b=9,A9=13,x=10,W0=96,g0=126,I0=91,W9=94,c=62,_9=35,N6=36,V$=37,i=45,e0=61,y0=92,P0=42,b0=95,e=60,G$=64,$9=93,l0=33,R9=38,o0=58,s$=70,c9=102,K$=104,l9=119,w$=116,t$=112,P6=115,b6=160,R6=12,e$=44,y$=59,Z$=63,z9=46,R0=47,L9=39,r0=34,k9=43,f0=124,S9=123,B$=125,U9=40,O9=41,q$=30,$6=31,Z0=48,J0=57,a=65,s=90,H0=97,A0=122,Z9=128,D9=32,RZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},j=RZ,f$={};I6(f$,{startsWith:()=>Q6,slugify:()=>n0,skipWhitespace:()=>rZ,shouldFilterTag:()=>A$,sanitizer:()=>i9,parseFrontmatterBounds:()=>V6,normalizeInput:()=>g$,isVoidElement:()=>F$,isUnicodeWhitespace:()=>cZ,isUnicodePunctuation:()=>lZ,isSpaceOrTabCode:()=>mZ,isDigitCode:()=>uZ,isAlphaCode:()=>CZ,isAlnumCode:()=>k6,isASCIIWhitespace:()=>TZ,isASCIIPunctuation:()=>hZ,inlineCharTypeTable:()=>fZ,htmlAttrsToJSXProps:()=>yZ,hasKeys:()=>iZ,getTag:()=>E9,getOverrideProps:()=>g9,get:()=>G6,findLineEnd:()=>oZ,extractPlainText:()=>E6,endsWith:()=>kZ,encodeUrlTarget:()=>x$,decodeEntityReferences:()=>Q$,cx:()=>aZ,containsTagfilterTag:()=>sZ,charClassTable:()=>w9,applyTagFilterToText:()=>W$,VOID_ELEMENTS:()=>X6,SHOULD_RENDER_AS_BLOCK_R:()=>LZ,SANITIZE_R:()=>J6,NAMED_CODES_TO_UNICODE:()=>wZ,HTML_TO_JSX_MAP:()=>L6,HTML_CHAR_CODE_R:()=>y6,CC_WHITESPACE:()=>o9,CC_SPACE_TAB:()=>L$,CC_PUNCTUATION:()=>r9,CC_NEWLINE:()=>Y6,CC_DIGIT:()=>E$,CC_ALPHA_UPPER:()=>S6,CC_ALPHA:()=>M$,ATTRIBUTES_TO_SANITIZE:()=>SZ});var S$=require("#entities");function V6($){if(!Q6($,"---"))return null;let Z=3;for(;Z<$.length&&($[Z]===" "||$[Z]==="	");)Z++;if(Z<$.length&&$[Z]==="\r"&&Z++,Z>=$.length||$[Z]!==`
`)return null;Z++;let J=!1;for(;Z<$.length;){let Q=Z;for(;Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r";)Z++;if(Z>=$.length)break;let X=Z;if($[Z]==="\r"&&Z++,Z<$.length&&$[Z]===`
`&&Z++,Q6($,"---",Q))return{endPos:Z,hasValidYaml:J};let Y=$.indexOf(":",Q);Y!==-1&&Y<X&&(J=!0)}return null}var wZ=S$.NAMED_CODES_TO_UNICODE,y6=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,L6={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function yZ($){var Z={};for(var J in $){var Q=J.toLowerCase(),X=L6[Q];if(X)Z[X]=$[J];else{var Y=J.indexOf(":");Y!==-1?Z[J.slice(0,Y)+J[Y+1].toUpperCase()+J.slice(Y+2)]=$[J]:Z[J]=$[J]}}return Z}var LZ=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function Q$($){return $.indexOf("&")===-1?$:$.replace(y6,(Z,J)=>{var Q=S$.decodeEntity(J);if(Q)return Q;if(J[0]==="#"){var X=J[1]==="x"||J[1]==="X"?parseInt(J.slice(2),16):parseInt(J.slice(1),10);return X===0||X>=55296&&X<=57343||X>1114111?"\uFFFD":X<=65535?String.fromCharCode(X):String.fromCharCode(55296+(X-65536>>10),56320+(X-65536&1023))}return Z})}var J6=/(javascript|vbscript|data(?!:image)):/i;function i9($){if(J6.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(J6.test(Z))return null}catch{return null}return $}var a0={},J9,m0;for(J9=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],m0=0;m0<J9.length;m0++)a0[J9[m0]]="a";for(a0[231]=a0[199]="c",a0[240]=a0[208]="d",J9=[200,201,202,203,233,232,234,235],m0=0;m0<J9.length;m0++)a0[J9[m0]]="e";for(J9=[207,239,206,238,205,237,204,236],m0=0;m0<J9.length;m0++)a0[J9[m0]]="i";for(a0[209]=a0[241]="n",J9=[248,216,339,338,213,245,212,244,211,243,210,242],m0=0;m0<J9.length;m0++)a0[J9[m0]]="o";for(J9=[220,252,219,251,218,250,217,249],m0=0;m0<J9.length;m0++)a0[J9[m0]]="u";a0[376]=a0[255]=a0[221]=a0[253]="y";function k6($){return $<Z9&&(w9[$]&(M$|E$))!==0}function n0($){for(var Z=[],J=0;J<$.length;J++){var Q=$.charCodeAt(J);if(k6(Q))Q>=a&&Q<=s?Z.push(String.fromCharCode(Q+D9)):Z.push($[J]);else if(Q===N||Q===i)Z.push("-");else{var X=a0[Q];X&&Z.push(X)}}return Z.join("")}function Q6($,Z,J){return $.startsWith(Z,J)}function kZ($,Z,J){return $.startsWith(Z,(J===void 0?$.length:J)-Z.length)}var X6=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function F$($){let Z=$.toLowerCase();if(X6.has(Z))return!0;let J=Z.indexOf(":");return J!==-1?(Z=Z.slice(J+1),X6.has(Z)):!1}var SZ=["src","href","data","formAction","srcDoc","action"],o9=1,r9=2,M$=4,E$=8,Y6=16,L$=32,S6=64,w6=1,EZ=2,gZ=3,xZ=4,w9=(function(){let $=new Uint8Array(128),Z;for($[b]=o9|L$,$[x]=o9|Y6,$[R6]=o9,$[A9]=o9|Y6,$[N]=o9|L$,Z=l0;Z<=R0;Z++)$[Z]=r9;for(Z=o0;Z<=G$;Z++)$[Z]=r9;for(Z=I0;Z<=W0;Z++)$[Z]=r9;for(Z=S9;Z<=g0;Z++)$[Z]=r9;for(Z=Z0;Z<=J0;Z++)$[Z]=E$;for(Z=a;Z<=s;Z++)$[Z]=M$|S6;for(Z=H0;Z<=A0;Z++)$[Z]=M$;return $})(),fZ=(function(){let $=new Uint8Array(128);return $[y0]=EZ,$[I0]=xZ,$[P0]=$[b0]=$[g0]=$[e0]=gZ,$[W0]=$[e]=$[G$]=$[$9]=$[x]=$[N]=$[l0]=w6,$[c9]=$[K$]=$[l9]=w6,$})();function hZ($){return $<Z9&&(w9[$]&r9)!==0}function TZ($){return $<Z9&&(w9[$]&o9)!==0}function mZ($){return $<Z9&&(w9[$]&L$)!==0}function CZ($){return $<Z9&&(w9[$]&M$)!==0}function uZ($){return $<Z9&&(w9[$]&E$)!==0}var pZ=/[\p{P}\p{S}]/u,dZ=/\p{Zs}/u;function cZ($){if(!$)return!0;let Z=$.charCodeAt(0);return Z<Z9?(w9[Z]&o9)!==0:dZ.test($)}function lZ($){if(typeof $=="number")return $<Z9&&(w9[$]&r9)!==0;if(!$)return!1;let Z=$.charCodeAt(0);return Z<Z9?(w9[Z]&r9)!==0:pZ.test($)}function oZ($,Z){let J=$.indexOf(`
`,Z);return J===-1?$.length:J>0&&$.charCodeAt(J-1)===A9?J-1:J}var J$=[];function g$($){var Z=$.indexOf("\r"),J=$.indexOf("\0");if(Z===-1&&J===-1)return $;var Q=$.length;J$.length=0;var X=0,Y=0;for(Z===-1?Y=J:J===-1?Y=Z:Y=Z<J?Z:J;Y<Q;Y++){var V=$.charCodeAt(Y);V===A9?(X<Y&&J$.push($.slice(X,Y)),Y+1<Q&&$.charCodeAt(Y+1)===x&&Y++,J$.push(`
`),X=Y+1):V===0&&(X<Y&&J$.push($.slice(X,Y)),J$.push("\uFFFD"),X=Y+1)}return X<Q&&J$.push($.slice(X)),J$.join("")}function rZ($,Z,J){let Q=J??$.length;for(;Z<Q&&($[Z]===" "||$[Z]==="	");)Z++;return Z}function iZ($){if(!$)return!1;for(var Z in $)return!0;return!1}function G6($,Z,J){for(var Q=$,X=Z.split("."),Y=0;Y<X.length&&(Q=Q?.[X[Y]],Q!==void 0);)Y++;return Q||J}function x$($){for(var Z=!1,J=0;J<$.length;J++){var Q=$.charCodeAt(J);if(Q<=N||Q===r0||Q===V$||Q===e||Q===c||Q===I0||Q===y0||Q===$9||Q===W9||Q===W0||Q>=123){Z=!0;break}}if(!Z)return $;for(var X="",J=0;J<$.length;J++){var Q=$.charCodeAt(J);if(Q===V$&&J+2<$.length){var Y=$.charCodeAt(J+1),V=$.charCodeAt(J+2);if((Y>=Z0&&Y<=J0||Y>=a&&Y<=s$||Y>=H0&&Y<=c9)&&(V>=Z0&&V<=J0||V>=a&&V<=s$||V>=H0&&V<=c9)){X+=$[J]+$[J+1]+$[J+2],J+=2;continue}}X+=encodeURI($[J])}return X}function aZ(...$){return $.filter(Boolean).join(" ")}function E9($,Z){if(!Z)return $;let J=G6(Z,$,void 0);return typeof J=="string"?J:typeof J=="object"&&J.component?J.component:$}function g9($,Z){if(!Z)return{};let J=G6(Z,$,void 0);return typeof J=="object"&&J.props?J.props:{}}function E6($,Z){for(var J="",Q=0,X=$.length;Q<X;Q++){var Y=$[Q],V=Y.type;if(V===Z.text||V===Z.codeInline){var G=Y.text;G&&(J+=G)}else V===Z.textFormatted||V===Z.link?Y.children&&(J+=E6(Y.children,Z)):V===Z.image&&Y.alt&&(J+=Y.alt)}return J}var nZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),k$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function A$($){return nZ.has($.toLowerCase())}function sZ($){return k$.lastIndex=0,k$.test($)}function W$($){return k$.lastIndex=0,$.replace(k$,function(Z,J,Q,X){return"&lt;"+J+Q+X})}var kJ=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,SJ=/^<[A-Z]/,K6=["script","pre","style","textarea"],v$=new Set(K6),tZ=/<(?:pre|script|style|textarea)\b/i,eZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),d6=new Uint8Array(128);(function(){for(var $=[W0,P0,b0,g0,e0,I0,l0,e,y0,$6,K$,l9,c9],Z=0;Z<$.length;Z++)d6[$[Z]]=1})();var g6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function c6($){return v$.has($)}function EJ($){return tZ.test($)}function l6($,Z,J){for(var Q=Z,X=J;Q<X&&($.charCodeAt(Q)===N||$.charCodeAt(Q)===b);)Q++;if(Q>=X)return!1;$.charCodeAt(Q)===f0&&Q++;for(var Y=0;Q<X;){for(;Q<X&&($.charCodeAt(Q)===N||$.charCodeAt(Q)===b);)Q++;if(Q>=X)break;if($.charCodeAt(Q)===f0&&Y>0){for(var V=Q+1;V<X&&($.charCodeAt(V)===N||$.charCodeAt(V)===b);)V++;if(V>=X)return!0}if($.charCodeAt(Q)===o0&&Q++,Q>=X||$.charCodeAt(Q)!==i)return!1;for(;Q<X&&$.charCodeAt(Q)===i;)Q++;for(Q<X&&$.charCodeAt(Q)===o0&&Q++,Y++;Q<X&&($.charCodeAt(Q)===N||$.charCodeAt(Q)===b);)Q++;if(Q<X)if($.charCodeAt(Q)===f0)Q++;else return!1}return Y>0}function x9($,Z){if($.charCodeAt(Z)!==e)return null;let J=Z+1,Q=$.length,X=!1;$.charCodeAt(J)===R0&&(J++,X=!0);let Y=J,V=$.charCodeAt(J);if(!(V>=H0&&V<=A0||V>=a&&V<=s))return null;for(;J<Q&&($.charCodeAt(J)>=H0&&$.charCodeAt(J)<=A0||$.charCodeAt(J)>=a&&$.charCodeAt(J)<=s||$.charCodeAt(J)>=Z0&&$.charCodeAt(J)<=J0||$.charCodeAt(J)===i);)J++;let G=$.slice(Y,J);if(!G)return null;let K=J;for(;J<Q&&($.charCodeAt(J)===N||$.charCodeAt(J)===b||$.charCodeAt(J)===x);)J++;let q=$.slice(K,J);if(J===K&&J<Q){var F=$.charCodeAt(J);if(F!==c&&F!==R0)return null}let W=J,O={},U=!1;for(;J<Q;){let S=$.charCodeAt(J);if(S===c){let L=$.slice(W,J);return{tag:G,attrs:O,selfClosing:!1,end:J+1,rawAttrs:L,whitespaceBeforeAttrs:q,isClosing:X,hasSpaceBeforeSlash:U}}if(S===N||S===b||S===x){J++;continue}if(S===R0&&J+1<Q&&$.charCodeAt(J+1)===c){let L=$.slice(W,J);return U=J>W&&$.charCodeAt(J-1)===N,{tag:G,attrs:O,selfClosing:!0,end:J+2,rawAttrs:L,whitespaceBeforeAttrs:q,isClosing:X,hasSpaceBeforeSlash:U}}var A=J,D=$.charCodeAt(J);if(!(D>=H0&&D<=A0||D>=a&&D<=s||D===b0||D===o0))return null;for(J++;J<Q;){var z=$.charCodeAt(J);if(z>=H0&&z<=A0||z>=a&&z<=s||z>=Z0&&z<=J0||z===b0||z===z9||z===o0||z===i)J++;else break}for(var I=$.slice(A,J);J<Q&&($.charCodeAt(J)===N||$.charCodeAt(J)===b);)J++;if($.charCodeAt(J)!==e0){O[I]="";continue}for(J++;J<Q&&($.charCodeAt(J)===N||$.charCodeAt(J)===b);)J++;var _=$.charCodeAt(J);if(_===r0||_===L9){J++;for(var v=J;J<Q&&$.charCodeAt(J)!==_;)J++;if(J>=Q)return null;if(O[I]=$.slice(v,J),J++,J<Q){var k=$.charCodeAt(J);if(k!==N&&k!==b&&k!==x&&k!==c&&k!==R0)return null}}else if(_===S9){var P=1,v=J;for(J++;J<Q&&P>0;){var z=$.charCodeAt(J);z===S9?P++:z===B$&&P--,J++}O[I]=$.slice(v,J)}else{for(var v=J;J<Q;){var M=$.charCodeAt(J);if(M===N||M===b||M===c||M===x||M===r0||M===L9||M===e0||M===e||M===W0)break;J++}if(J===v)return null;O[I]=$.slice(v,J)}}return null}function o6($,Z,J){for(var Q=0,X=$.length,Y=!1;Q<X;){for(var V=$.indexOf(`
`,Q),G=V<0?X:V,K=Q,q=0;K<G&&q<4;)if($.charCodeAt(K)===N)q++,K++;else if($.charCodeAt(K)===b)q+=4,K++;else break;if(K>=G){Y=!1,Q=V<0?X:V+1;continue}if(q<4){var F=$.charCodeAt(K);if(F===W0||F===g0){for(var W=F,O=0,U=K;U<G&&$.charCodeAt(U)===W;)O++,U++;if(O>=3){Y=!1;for(var A=V<0?X:V+1;A<X;){for(var D=A,z=0;D<X&&z<4;){var I=$.charCodeAt(D);if(I===N)z++,D++;else if(I===b)z+=4,D++;else break}if(z<4&&D<X&&$.charCodeAt(D)===W){for(var _=0;D<X&&$.charCodeAt(D)===W;)_++,D++;if(_>=O){for(;D<X&&($.charCodeAt(D)===N||$.charCodeAt(D)===b);)D++;if(D>=X||$.charCodeAt(D)===x){Q=D>=X?X:D+1;break}}}for(;A<X&&$.charCodeAt(A)!==x;)A++;A<X&&A++}A>=X&&(Q=X);continue}}}for(var v=K;v<G&&$.charCodeAt(v)===c;){v++,v<G&&$.charCodeAt(v)===N&&v++;for(var k=0;v<G&&k<4;)if($.charCodeAt(v)===N)k++,v++;else if($.charCodeAt(v)===b)k+=4,v++;else break;if(k>=4)break;Y=!1}if(!Y&&q<4&&v<G&&$.charCodeAt(v)===I0&&!(v+1<X&&$.charCodeAt(v+1)===W9)){var P=r6($,v,Z);if(P){Q=P,Y=!1;continue}}var M=$.charCodeAt(K);if(M===_9&&q<4)Y=!1;else if(q<4&&(M===i||M===P0||M===b0)){for(var S=K,L=0;S<G;){var w=$.charCodeAt(S);if(w===M)L++;else if(w!==N&&w!==b)break;S++}Y=!(L>=3&&S>=G)}else Y=!0;Q=V<0?X:V+1}}function r6($,Z,J){let Q=$.length;if($.charCodeAt(Z)!==I0)return null;let X=Z+1<Q&&$.charCodeAt(Z+1)===W9,Y=Z+1;for(;Y<Q;){var V=$.charCodeAt(Y);if(V===$9){Y++;break}if(V===I0)return null;V===y0&&Y+1<Q&&Y++,Y++}if(Y>Q||$.charCodeAt(Y-1)!==$9)return null;let G=$.slice(Z+1,Y-1);if(G.length>999)return null;let K=h$(G);if(!K||Y>=Q||$.charCodeAt(Y)!==o0)return null;Y++;let q=!1;for(;Y<Q;){let g=$.charCodeAt(Y);if(g===N||g===b)Y++;else if(g===x&&!q)q=!0,Y++;else break}if(X){let g=$.indexOf(`
`,Y),h=g<0?Q:g,m=$.slice(Y,h).trim();return J[K]={target:m,title:void 0},g<0?Q:g+1}var F;if(Y<Q&&$.charCodeAt(Y)===e){Y++;for(var W=Y;Y<Q&&$.charCodeAt(Y)!==c&&$.charCodeAt(Y)!==x;)$.charCodeAt(Y)===y0&&Y+1<Q&&Y++,Y++;if(Y>=Q||$.charCodeAt(Y)!==c)return null;F=$.slice(W,Y),Y++;for(var O=$.indexOf(`
`,Y),U=O<0?Q:O,A=Y;A<U&&($.charCodeAt(A)===N||$.charCodeAt(A)===b);)A++;if(A<U){if(A===Y)return null;var D=$.charCodeAt(A);if(D!==r0&&D!==L9&&D!==U9)return null}}else{for(var W=Y,z=0;Y<Q;){var V=$.charCodeAt(Y);if(V===U9)z++;else if(V===O9){if(z===0)break;z--}else{if(V===N||V===b||V===x)break;V===y0&&Y+1<Q&&Y++}Y++}if(F=$.slice(W,Y),!F)return null}for(;Y<Q&&($.charCodeAt(Y)===N||$.charCodeAt(Y)===b);)Y++;var I=$.indexOf(`
`,Y),_=I<0?Q:I,v,k=!1,P=Y,M=Y;if(Y===_&&Y<Q)for(M=Y+1;M<Q&&($.charCodeAt(M)===N||$.charCodeAt(M)===b);)M++;if(M<Q){var S=$.charCodeAt(M);if(S===r0||S===L9||S===U9){for(var L=S===U9?41:S,w=M+1,R=w;w<Q;){var y=$.charCodeAt(w);if(y===L){for(var E=w+1;E<Q&&($.charCodeAt(E)===N||$.charCodeAt(E)===b);)E++;(E>=Q||$.charCodeAt(E)===x)&&(v=$.slice(R,w),k=!0,P=E<Q?E+1:Q);break}if(y===y0&&w+1<Q){w+=2;continue}if(y===x&&w+1<Q&&$.charCodeAt(w+1)===x)break;w++}if(!k&&M===Y)return null}}if(k)return J[K]||(J[K]={target:U$(F),title:v!==void 0?U$(v):v}),P;for(;Y<_&&($.charCodeAt(Y)===N||$.charCodeAt(Y)===b);)Y++;return Y<_?null:(J[K]||(J[K]={target:U$(F),title:v}),I<0?Q:I+1)}var O$=1,i6=2,U0=4,a6=8,$J=16,v9=32,t9=64,$0=new Uint8Array(128);$0[N]=O$,$0[b]=O$,$0[x]=O$|i6,$0[A9]=O$|i6,$0[_9]=v9|U0,$0[c]=v9|U0,$0[i]=v9|t9|U0,$0[k9]=v9|U0,$0[P0]=v9|t9|U0,$0[b0]=v9|t9|U0,$0[W0]=v9|t9|U0,$0[g0]=v9|t9|U0,$0[e]=v9|t9|U0,$0[I0]=t9|U0,$0[l0]=t9|U0,$0[f0]=v9|U0;for(let $=Z0;$<=J0;$++)$0[$]=$J|v9;for(let $=a;$<=s;$++)$0[$]=a6;for(let $=H0;$<=A0;$++)$0[$]=a6;$0[y0]=U0,$0[$9]=U0,$0[U9]=U0,$0[O9]=U0,$0[o0]=U0,$0[r0]=U0,$0[L9]=U0,$0[R9]=U0,$0[e0]=U0,$0[N6]=U0,$0[V$]=U0,$0[e$]=U0,$0[z9]=U0,$0[R0]=U0,$0[y$]=U0,$0[Z$]=U0,$0[G$]=U0,$0[W9]=U0,$0[S9]=U0,$0[B$]=U0;function x6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var Z=0;Z<$.length;Z++){if($.charCodeAt(Z)===y0){Z++;continue}if($.charCodeAt(Z)===I0||$.charCodeAt(Z)===$9)return!0}return!1}function h$($){var Z=$.replace(/\s+/g," ").trim();return Z.indexOf("\u1E9E")!==-1?Z.replace(/\u1E9E/g,"ss").toLowerCase():Z.toLowerCase()}function W6($){return $<Z9?$0[$]:$===b6?O$:0}function U$($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function j0($,Z){var J=$.indexOf(`
`,Z);return J<0?$.length:J}function Q0($,Z){let J=j0($,Z);return J<$.length?J+1:J}function _$($,Z,J){for(;Z<J;){let Q=$.charCodeAt(Z);if(Q!==N&&Q!==b)break;Z++}return Z}function f6($,Z){let J=Q0($,Z);for(;J<$.length;){let Q=j0($,J);if(H9($,J,Q))return J;J=Q0($,J)}return $.length}function T9($,Z,J,Q){let X=0;for(;Z+X<J&&$.charCodeAt(Z+X)===Q;)X++;return X}var D0=0,z0=0;function L0($,Z,J){for(D0=0,z0=0;Z+z0<J;){let Q=$.charCodeAt(Z+z0);if(Q===b)D0+=4-D0%4;else if(Q===N)D0++;else break;z0++}}function H9($,Z,J){return _$($,Z,J)>=J}function n6($,Z,J,Q){let X=j0($,Z);if(L0($,Z,X),D0>3)return null;let Y=Z+z0;if($.charCodeAt(Y)!==_9)return null;let V=T9($,Y,X,35);if(V<1||V>6||(Y+=V,Y<X&&$.charCodeAt(Y)!==N&&$.charCodeAt(Y)!==b))return null;Y=_$($,Y,X);for(var G=X;G>Y&&$.charCodeAt(G-1)===N;)G--;for(var K=G;G>Y&&$.charCodeAt(G-1)===_9;)G--;if(G<K)if(G===Y||$.charCodeAt(G-1)===N)for(;G>Y&&$.charCodeAt(G-1)===N;)G--;else G=K;let q=$.slice(Y,G),F=s0(q,0,q.length,J,Q),O=(Q?.slugify||n0)(q);return{node:{type:j.heading,level:V,children:F,id:O},end:Q0($,X)}}function s9($,Z){let J=j0($,Z);if(L0($,Z,J),D0>3)return null;let Q=Z+z0,X=$.charCodeAt(Q);if(X!==i&&X!==P0&&X!==b0)return null;let Y=0;for(;Q<J;){let V=$.charCodeAt(Q);if(V===X)Y++;else if(V!==N&&V!==b)return null;Q++}return Y<3?null:{node:{type:j.breakThematic},end:Q0($,J)}}function ZJ($,Z,J){let Q=j0($,Z);if(L0($,Z,Q),D0>3)return null;let X=D0,Y=z0,V=Z+z0,G=$.charCodeAt(V);if(G!==W0&&G!==g0)return null;let K=T9($,V,Q,G);if(K<3)return null;V+=K;let q=_$($,V,Q),F=Q;if(G===W0){for(let w=q;w<Q;w++)if($.charCodeAt(w)===W0)return null}for(;F>q&&($.charCodeAt(F-1)===N||$.charCodeAt(F-1)===b);)F--;let W=$.slice(q,F),O="",U="",A=W.indexOf(" ");A===-1?O=W:(O=W.slice(0,A),U=W.slice(A+1).trim()),O=U$(O);var D=void 0;if(U){g6.lastIndex=0;for(var z;(z=g6.exec(U))!==null;)D||(D={}),D[z[1]]=z[2]!==void 0?z[2]:z[3]}let I=Q0($,Q),_=I,v=$.length;for(;_<$.length;){let w=j0($,_);if(L0($,_,w),D0<4){let R=_+z0;var k=T9($,R,w,G);if(k>=K){let y=R+k;if(H9($,y,w)){v=Q0($,w);break}}}_=Q0($,w)}var P;if(X===0)P=_>I&&$.charCodeAt(_-1)===x?$.slice(I,_-1):$.slice(I,_);else{P="";for(var M=I;M<_;){var S=j0($,M);L0($,M,S);var L=Math.min(z0,X);P+=$.slice(M+L,S)+`
`,M=Q0($,S)}P.length>0&&P.charCodeAt(P.length-1)===x&&(P=P.slice(0,-1))}return{node:{type:j.codeBlock,lang:O||void 0,text:P,infoString:U||void 0,attrs:D},end:v}}function JJ($,Z){let J=j0($,Z);if(L0($,Z,J),D0<4)return null;let Q="",X=Z;for(;X<$.length;){let U=j0($,X);if(L0($,X,U),H9($,X,U)){for(var Y=0,V=Q0($,U);V<$.length;){var G=j0($,V);if(H9($,V,G)){Y++,V=Q0($,G);continue}if(L0($,V,G),D0>=4){for(var K=0;K<=Y;K++)Q+=`
`;X=V;break}break}if(X!==V)break;continue}if(D0<4)break;let A=0,D=0;var q=0;for(let z=X;z<U&&D<4;z++){if($.charCodeAt(z)===b){var F=4-D%4;D+F>4&&(q=D+F-4),D+=F}else D++;A++}var W="";if(q>0)for(var O=0;O<q;O++)W+=" ";W+=$.slice(X+A,U),Q+=W+`
`,X=Q0($,U)}for(;Q.length>0&&Q.charCodeAt(Q.length-1)===x;)Q=Q.slice(0,-1);for(;Q.length>0&&Q.charCodeAt(Q.length-1)===x;)Q=Q.slice(0,-1);return Q?{node:{type:j.codeBlock,text:Q},end:X}:null}function QJ($,Z,J,Q){let X=j0($,Z);if(L0($,Z,X),D0>3)return null;let Y=Z+z0;if($.charCodeAt(Y)!==c)return null;let V="",G=Z,K,q=!1,F=!1,W=!1;for(;G<$.length;){let u=j0($,G);L0($,G,u);let k0=G+z0;if($.charCodeAt(k0)===c){let H=k0+1;var O=D0+1,U=!1;if(H<u){var A=$.charCodeAt(H);A===N?(H++,O++,U=!0):A===b&&(U=!0)}for(var D="",z=!1,I=H;I<u;I++)if($.charCodeAt(I)===b){z=!0;break}if(z){var _=O;if(U&&H<u&&$.charCodeAt(H)===b){for(var v=4-_%4,k=0;k<v-1;k++)D+=" ";_+=v,H++}for(var P=H;P<u;P++)if($.charCodeAt(P)===b){for(var M=4-_%4,S=0;S<M;S++)D+=" ";_+=M}else D+=$[P],_++}else D=$.slice(H,u);if(!V&&!K){let l=D.match(/^\[!([A-Z]+)\]\s*$/);if(l){K=l[1],G=Q0($,u);continue}}V+=D+`
`;var L=D.trimStart();L.startsWith("```")||L.startsWith("~~~")?W=!W:D.startsWith("    ")||D.startsWith("	")?W=!0:L.length>0&&!W&&(W=!1),F=L.length>0,G=Q0($,u)}else if(V&&!H9($,G,u)&&F){if(D0<4){var w=G+z0,R=w<u?$.charCodeAt(w):0;if(R===_9||R===c||R===W0||R===g0||R===e||(R===i||R===P0||R===b0)&&s9($,G)||(R===i||R===P0||R===k9)&&w+1<u&&($.charCodeAt(w+1)===N||$.charCodeAt(w+1)===b))break;if(R>=Z0&&R<=J0){for(var y=w;y<u&&$.charCodeAt(y)>=Z0&&$.charCodeAt(y)<=J0;)y++;if(y<u&&($.charCodeAt(y)===z9||$.charCodeAt(y)===O9))break}}if(W)break;V+=$.slice(G,u)+`
`,q=!0,G=Q0($,u)}else break}if(!V&&!K)return null;var{inBlockQuote:E,f:g}=J;J.inBlockQuote=!0,q&&(J.f=!0);let h=h9(V||"",J,Q);J.inBlockQuote=E,J.f=g;let m={type:j.blockQuote,children:h};return K&&(m.alert=K),{node:m,end:G}}function s6($,Z,J){for(var Q=0,X=Z;X<J;X++)$.charCodeAt(X)===b?Q+=4-Q%4:Q++;return Q}function a9($,Z,J){if(L0($,Z,J),D0>3)return null;var Q=Z+z0;if(Q>=J)return null;var X=$.charCodeAt(Q),Y=D0,V=Q;if(X===i||X===P0||X===k9){if(V=Q+1,V<J&&$.charCodeAt(V)!==N&&$.charCodeAt(V)!==b&&$.charCodeAt(V)!==x)return null}else if(X>=Z0&&X<=J0){for(var G=Q;G<J&&G-Q<9;){var K=$.charCodeAt(G);if(K<Z0||K>J0)break;G++}if(G>Q&&G<J){var q=$.charCodeAt(G);if(q===z9||q===O9){if(V=G+1,V<J&&$.charCodeAt(V)!==N&&$.charCodeAt(V)!==b&&$.charCodeAt(V)!==x)return null}else return null}else return null}else return null;var F=V,W=s6($,Z,V),O=0,U=F,A=W;if(F>=J)return{ordered:X>=Z0&&X<=J0,marker:X>=Z0&&X<=J0?$[G]:$[Q],start:X>=Z0&&X<=J0?parseInt($.slice(Q,G),10):void 0,contentStart:F,contentCol:W+1,markerCol:Y,isEmpty:!0};for(;U<J&&($.charCodeAt(U)===N||$.charCodeAt(U)===b);){if($.charCodeAt(U)===b){var D=4-A%4;A+=D}else A++;U++,O++}var z=U>=J,I=A-W;return z||I>4?(A=W+1,U=F+1,O=1):O===0&&(A=W+1,U=F,O=1),{ordered:X>=Z0&&X<=J0,marker:X>=Z0&&X<=J0?$[G]:$[Q],start:X>=Z0&&X<=J0?parseInt($.slice(Q,G),10):void 0,contentStart:U,contentCol:A,markerCol:Y,isEmpty:z}}var T$=0;function XJ($,Z,J,Q){var X=0,Y=Z;for(T$=0;Y<J&&X<Q;){var V=$.charCodeAt(Y);if(V===b){var G=4-X%4;if(X+G>Q){T$=X+G-Q,Y++,X=Q;break}X+=G}else if(V===N)X++;else break;Y++}return Y}function h6($,Z,J,Q){var X=j0($,Z),Y=a9($,Z,X);if(!Y)return null;var V=[],G=Z,K=Y.contentCol,q="",F=Y.isEmpty,W=!1,O=!1;if(!Y.isEmpty){for(var U=!1,A=Y.contentStart;A<X;A++)if($.charCodeAt(A)===b){U=!0;break}if(U){var D="",z=s6($,Z,Y.contentStart),I=z-Y.contentCol;if(I>0)for(var _=0;_<I;_++)D+=" ";for(var v=Y.contentStart;v<X;v++)if($.charCodeAt(v)===b){for(var k=4-z%4,P=0;P<k;P++)D+=" ";z+=k}else D+=$[v],z++;q=D+`
`}else q=$.slice(Y.contentStart,X)+`
`}for(G=Q0($,X);G<$.length;){var M=j0($,G);L0($,G,M);var S=$.charCodeAt(G+z0);if(D0<K&&(S===i||S===P0||S===b0)&&D0<=3&&s9($,G))break;var L=a9($,G,M);if(L&&L.ordered===Y.ordered&&L.marker===Y.marker&&L.markerCol<K){V.push({contentCol:K,raw:q,hasBlankAfter:W,isEmpty:F}),W&&(O=!0),K=L.contentCol,F=L.isEmpty,W=!1,q=L.isEmpty?"":$.slice(L.contentStart,M)+`
`,G=Q0($,M);continue}if(H9($,G,M)){q+=`
`,G=Q0($,M);for(var w=!1,R=0;R<q.length;R++){var y=q.charCodeAt(R);if(y!==x&&y!==A9&&y!==N&&y!==b){w=!0;break}}if(F&&!w)if(G<$.length){var E=j0($,G),g=a9($,G,E);if(!g||g.ordered!==Y.ordered||g.marker!==Y.marker)break;W=!0}else break;if(G<$.length){var h=j0($,G);L0($,G,h);var m=$.charCodeAt(G+z0);if((m===i||m===P0||m===b0)&&D0<=3&&s9($,G))break;var u=a9($,G,h);if(u&&u.ordered===Y.ordered&&u.marker===Y.marker&&u.markerCol<K){W=!0;continue}if(!H9($,G,h)&&D0<K)break}continue}if(D0>=K){var k0=XJ($,G,M,K);if(T$>0){for(var H="",l=K,T=0;T<T$;T++)H+=" ",l++;for(var C=k0;C<M;C++)if($.charCodeAt(C)===b){for(var G0=4-l%4,K0=0;K0<G0;K0++)H+=" ";l+=G0}else H+=$[C],l++;q+=H+`
`}else q+=$.slice(k0,M)+`
`;G=Q0($,M);continue}for(var S0=!1,X0=0;X0<q.length;X0++){var B0=q.charCodeAt(X0);if(B0!==x&&B0!==A9&&B0!==N&&B0!==b){S0=!0;break}}if(!W&&S0&&!F){var V0=G+z0,o=$.charCodeAt(V0),p=o===_9||o===c||o===e||o===W0||o===g0||(o===i||o===P0||o===b0||o===k9)&&(s9($,G)!==null||a9($,G,M)!==null)||o>=Z0&&o<=J0&&a9($,G,M)!==null;if(!p){q+=""+$.slice(V0,M)+`
`,G=Q0($,M);continue}}break}if(V.push({contentCol:K,raw:q,hasBlankAfter:W,isEmpty:F}),V.length===0)return null;var q0=O;if(!q0)for(var x0=0;x0<V.length;x0++){if(V[x0].hasBlankAfter&&x0<V.length-1){q0=!0;break}if(!V[x0].isEmpty){for(var B=V[x0].raw,d=B.length,O0=0,_0=!1,t=!1,n=!1,r=!1,v0=0,C0=0,E0=-1;O0<d;){var F0=B.indexOf(`
`,O0);if(F0<0&&(F0=d),r){L0(B,O0,F0);for(var N9=B.slice(O0+z0,F0),j9=0;j9<N9.length&&N9.charCodeAt(j9)===v0;)j9++;j9>=C0&&N9.slice(j9).trim()===""&&(r=!1),O0=F0<d?F0+1:d;continue}if(H9(B,O0,F0)){E0>=0?n=!0:_0&&(t=!0),O0=F0<d?F0+1:d;continue}if(L0(B,O0,F0),E0>=0){if(D0>=E0){O0=F0<d?F0+1:d;continue}var V9=a9(B,O0,F0);if(V9&&V9.markerCol<E0&&V9.contentCol<=E0){O0=F0<d?F0+1:d;continue}if(V9){O0=F0<d?F0+1:d;continue}E0=-1,n&&(t=!0,n=!1)}var i0=B.slice(O0+z0,F0),P9=i0.charCodeAt(0);if((P9===W0||P9===g0)&&D0<=3){for(var B9=0;B9<i0.length&&i0.charCodeAt(B9)===P9;)B9++;if(B9>=3){if(t&&_0){q0=!0;break}r=!0,v0=P9,C0=B9,_0=!0,O0=F0<d?F0+1:d;continue}}var y9=D0<=3?a9(B,O0,F0):null;if(y9&&_0){if(t){q0=!0;break}E0=y9.contentCol,n=!1,O0=F0<d?F0+1:d,_0=!0;continue}if(t){q0=!0;break}_0=!0,O0=F0<d?F0+1:d}if(q0)break}}for(var X9=[],Y9=0;Y9<V.length;Y9++){for(var G9=V[Y9],M0=G9.raw,u0=M0.length;u0>0&&M0.charCodeAt(u0-1)===x;)u0--;var N0=u0<M0.length?M0.slice(0,u0):M0,p0=null;if(N0.length>=3&&N0.charCodeAt(0)===I0){var h0=N0[1];(h0===" "||h0==="x"||h0==="X")&&N0.charCodeAt(2)===$9&&(p0={type:j.gfmTask,completed:h0==="x"||h0==="X"},N0=N0.slice(3))}var T0;if(G9.isEmpty&&N0.trim()==="")T0=[];else if(q0){var m9=J.inList;J.inList=!0,T0=h9(N0,J,Q),J.inList=m9}else{var K9=J.inList;if(J.inList=!0,T0=h9(N0,J,Q),J.inList=K9,T0.length===1&&T0[0].type===j.paragraph)T0=T0[0].children;else{for(var C9=[],b9=0;b9<T0.length;b9++)if(T0[b9].type===j.paragraph)for(var q9=T0[b9].children,d0=0;d0<q9.length;d0++)C9.push(q9[d0]);else C9.push(T0[b9]);T0=C9}}p0?X9.push([p0,{type:j.text,text:" "},...T0]):X9.push(T0)}return{node:{type:Y.ordered?j.orderedList:j.unorderedList,start:Y.ordered?Y.start:void 0,items:X9},end:G}}var m$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function n9($,Z,J){let Q={};for(let[V,G]of Object.entries($)){let K=V,q=V.toLowerCase();if(q==="style"&&typeof G=="string"){let F={},W=[],O=0,U=0;for(let D=0;D<G.length;D++){let z=G.charCodeAt(D);z===U9?O++:z===O9?O--:z===y$&&O===0&&(W.push(G.slice(U,D)),U=D+1)}U<G.length&&W.push(G.slice(U));let A=!1;W.forEach(D=>{let z=D.indexOf(":");if(z===-1)return;let I=D.slice(0,z).trim(),_=D.slice(z+1).trim();if(I&&_){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(_)){A=!0;return}let v=I.indexOf("-")!==-1?I.replace(/-([a-z])/g,(k,P)=>P.toUpperCase()):I;F[v]=_}}),!A&&Object.keys(F).length>0&&(Q[K]=F)}else if((q==="href"||q==="src")&&J?.sanitizer){let F=J.sanitizer(G,Z,q);F!==null&&(Q[K]=F)}else if(G==="")Q[K]=!0;else if(G.length>=2&&G.charCodeAt(0)===S9&&G.charCodeAt(G.length-1)===B$){var X=G.slice(1,-1);if(X.length>0){var Y=X.charCodeAt(0);if(Y===I0||Y===S9)try{Q[K]=JSON.parse(X);continue}catch{}}if(X==="true"){Q[K]=!0;continue}if(X==="false"){Q[K]=!1;continue}if(J?.evalUnserializableExpressions)try{Q[K]=(0,eval)("("+X+")");continue}catch{}Q[K]=X}else Q[K]=G}return Q}function f9($,Z,J){let Q=Z.length;var X=Z.charCodeAt(0);X>=a&&X<=s&&(X+=D9);for(let V=J;V<=$.length-Q;V++){var Y=$.charCodeAt(V);if(Y>=a&&Y<=s&&(Y+=D9),Y!==X)continue;let G=!0;for(let K=1;K<Q;K++){let q=$.charCodeAt(V+K),F=Z.charCodeAt(K);if(q>=a&&q<=s&&(q+=D9),F>=a&&F<=s&&(F+=D9),q!==F){G=!1;break}}if(G)return V}return-1}function YJ($,Z,J){let Q=Z.length;var X=Z.charCodeAt(0);X>=a&&X<=s&&(X+=D9);for(let V=Math.min(J,$.length-Q);V>=0;V--){var Y=$.charCodeAt(V);if(Y>=a&&Y<=s&&(Y+=D9),Y!==X)continue;let G=!0;for(let K=1;K<Q;K++){let q=$.charCodeAt(V+K),F=Z.charCodeAt(K);if(q>=a&&q<=s&&(q+=D9),F>=a&&F<=s&&(F+=D9),q!==F){G=!1;break}}if(G)return V}return-1}var q6=-1;function t6($,Z,J){let Q=J.toLowerCase(),X="<"+Q,Y="</"+Q,V=1,G=Z,K=$.length;for(q6=-1;G<K&&V>0;){let W=f9($,X,G),O=f9($,Y,G);if(O===-1)return-1;if(W!==-1&&W<O){let U=x9($,W);U?(U.tag.toLowerCase()===Q&&!U.isClosing&&!U.selfClosing&&!F$(U.tag)&&V++,G=U.end):G=W+1}else{var q=O+Y.length,F=q<K?$.charCodeAt(q):62;if((F===c||F===N||F===b||F===x)&&(V--,V===0)){q6=O;let U=O+Y.length;for(;U<K&&$.charCodeAt(U)!==c;)U++;return U+1}G=O+1}}return-1}function e6($,Z,J,Q){if(Q.ignoreHTMLBlocks||Q.disableParsingRawHTML)return null;var X=j0($,Z);if(L0($,Z,X),D0>3&&!J.inHTML)return null;var Y=Z+z0;if($.charCodeAt(Y)!==e)return null;var V=$.indexOf(">",Y+1);if(V!==-1&&V<X){var G=$.slice(Y+1,V);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(G)||/^[^\s@]+@[^\s@]+$/.test(G))return null}var K=VJ($,Y);if(K>=1&&K<=5){var q=$.length;if(K===1){for(var F=$.length,W=0;W<K6.length;W++){var O=f9($,"</"+K6[W]+">",Y);O>=0&&O<F&&(F=O)}if(F<$.length){var U=$.indexOf(">",F);q=U>=0?Q0($,U+1):$.length}}else{var A=K===2?"-->":K===3?"?>":K===4?">":"]]>",D=$.indexOf(A,Y);D>=0&&(q=Q0($,D+A.length))}var z=$.slice(Y,q);if(K>=2)return{node:{type:j.htmlComment,text:z,raw:!0,endPos:q},end:q};var I="div",_=z.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);_&&(I=_[1]);var v=x9($,Y),k={},P;v&&!v.isClosing&&(k=n9(v.attrs,I,Q),P=v.whitespaceBeforeAttrs+v.rawAttrs);var M=[],S=I.toLowerCase(),L="</"+S,w=f9(z,L,0),R=z,y="";if(v&&v.isClosing)for(R=z.slice(v.end-Y);R.length>0&&R.charCodeAt(R.length-1)===x;)R=R.slice(0,-1);else if(v&&!v.isClosing){var E=v.end-Y;if(w!==-1)for(R=z.slice(E),R.charCodeAt(0)===x&&(R=R.slice(1));R.length>0&&R.charCodeAt(R.length-1)===x;)R=R.slice(0,-1);else for(R=z;R.length>0&&R.charCodeAt(R.length-1)===x;)R=R.slice(0,-1);if(w!==-1){var g=z.slice(E,w);if(y=g.trim(),y){var{inline:h,inHTML:m}=J;J.inline=!0,J.inHTML=!0,M=s0(y,0,y.length,J,Q),J.inline=h,J.inHTML=m}}}var u=v?v.isClosing:!1;return{node:{type:j.htmlBlock,tag:I,attrs:k,d:P,children:M,a:R,text:y,e:!0,b:u,endPos:q,canInterruptParagraph:!0},end:q}}if(K===6||K===7){var k0=f6($,Z),H=k0<$.length?k0:$.length,l=$.slice(Y,H),T=k0<$.length?Q0($,k0):$.length,C=x9($,Y);if(C){var G0=C.tag,K0=G0.toLowerCase(),S0=C.isClosing;if(S0){var X0=$.slice(C.end,H);return{node:{type:j.htmlBlock,tag:G0,attrs:{},children:[],a:X0,text:X0,e:!0,b:!0,endPos:H,canInterruptParagraph:K===6},end:T}}var B0=J.c||0,V0=$.slice(Y,H),o=-1,p=-1;if(!C.selfClosing&&!F$(G0)&&B0<10){for(var q0="</"+K0,x0=C.end-Y,B=1,d=x0;d<V0.length&&B>0;){var O0=f9(V0,"<"+K0,d),_0=f9(V0,q0,d);if(_0===-1)break;if(O0!==-1&&O0<_0){var t=O0+K0.length+1;if(t<V0.length){var n=V0.charCodeAt(t);(n===N||n===b||n===x||n===c||n===R0)&&B++}d=O0+1}else{var r=_0+q0.length;if(r<V0.length){var v0=V0.charCodeAt(r);if((v0===c||v0===N||v0===b||v0===x)&&(B--,B===0)){o=_0;for(var C0=r;C0<V0.length&&V0.charCodeAt(C0)!==c;)C0++;p=C0+1;break}}else if(B--,B===0){o=_0,p=V0.length;break}d=_0+1}}var E0=!1;if(o===-1&&K===6&&!C.isClosing&&!eZ.has(K0)){var F0=$.slice(C.end),N9=f9(F0,q0,0);if(N9!==-1){var j9=F0.slice(0,N9);if(j9.indexOf(`

`)!==-1){for(var V9=C.end+N9,i0=V9+q0.length;i0<$.length&&$.charCodeAt(i0)!==c;)i0++;if(i0<$.length&&$.charCodeAt(i0)===c){var P9=i0+1,B9=j0($,P9);H=B9,T=Q0($,B9),V0=$.slice(Y,H),l=$.slice(Y,H),o=V9-Y,p=P9-Y,E0=!0}}}}}var y9=C.rawAttrs.indexOf(`
`)!==-1||C.whitespaceBeforeAttrs.indexOf(`
`)!==-1,X9=!1;if(o!==-1){var Y9=V0.slice(p).trim();X9=Y9.length===0}var G9=!1,M0=H,u0=T;if(o!==-1){var N0=Y+p,p0=j0($,N0-1);if(N0<p0){for(var h0=N0;h0<p0&&($.charCodeAt(h0)===N||$.charCodeAt(h0)===b);)h0++;if(h0<p0&&$.charCodeAt(h0)===e){var T0=x9($,h0);T0&&!T0.isClosing&&(G9=!0,M0=N0,u0=N0,X9=!0)}}if(!G9){var m9=Q0($,p0);if(m9<H){for(var K9=m9;K9<H&&($.charCodeAt(K9)===N||$.charCodeAt(K9)===b);)K9++;if(K9<H&&$.charCodeAt(K9)===e){var C9=x9($,K9);C9&&(G9=!0,M0=p0,u0=m9,X9=!0)}}}if(!G9&&J.inHTML){G9=!0,M0=p0,u0=Q0($,p0);var b9=$.slice(N0,p0).trim();X9=b9.length===0}}var q9=[],d0="";if(o!==-1){d0=V0.slice(C.end-Y,o);var M9=d0.trim();if(M9){var{inline:f,inHTML:w0,c:Y0}=J;J.inHTML=!0,J.c=B0+1;var t0=K0==="p";if(t0)J.inline=!0,q9=s0(M9,0,M9.length,J,Q);else{var u9=d0.indexOf(`

`)!==-1,p9=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(M9),c$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(M9),QZ=u9||p9||J.inHTML&&c$;QZ||c$?(J.inline=!1,q9=h9(d0,J,Q)):(J.inline=!0,q9=s0(M9,0,M9.length,J,Q))}J.inline=f,J.inHTML=w0,J.c=Y0}}var O6=!1;if(K===6&&o!==-1&&!J.inHTML&&!y9){var l$=d0,XZ=/<[a-zA-Z][^>]*>/.test(l$),YZ=/\n\n/.test(l$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(l$);XZ&&!YZ&&(O6=!0)}var VZ=J.inHTML||K===7||y9||!X9||O6;if(VZ){var F9;if(o!==-1&&G9){var D6=!1;if(J.inHTML&&p<V0.length){for(var N$=p;N$<V0.length&&V0.charCodeAt(N$)!==x;)N$++;var o$=V0.slice(p,N$).trim();D6=o$.length>1&&o$.charCodeAt(0)===e&&o$.charCodeAt(1)!==R0}F9=D6?V0.slice(C.end-Y):d0}else(K===7||J.inHTML)&&o!==-1?(F9=V0.slice(C.end-Y),F9.charCodeAt(0)===x&&(F9=F9.slice(1))):G9?F9=$.slice(Y,M0):y9?F9=l:(F9=V0.slice(C.end-Y),F9.charCodeAt(0)===x&&(F9=F9.slice(1)));return{node:{type:j.htmlBlock,tag:G0,attrs:n9(C.attrs,G0,Q),d:C.whitespaceBeforeAttrs+C.rawAttrs,children:q9,a:F9,text:F9,e:!0,b:!1,endPos:M0,canInterruptParagraph:K===6},end:u0}}return{node:{type:j.htmlBlock,tag:G0,attrs:n9(C.attrs,G0,Q),d:C.whitespaceBeforeAttrs+C.rawAttrs,children:q9,a:E0?"":d0,text:d0,e:!1,b:!1,endPos:M0,canInterruptParagraph:K===6},end:u0}}var P$=l.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),GZ=P$?P$[2]:"div",H6=P$?P$[1]==="/":!1,r$=l;if(H6){var j6=l.indexOf(">");j6!==-1&&(r$=l.slice(j6+1))}return{node:{type:j.htmlBlock,tag:GZ,attrs:{},children:[],a:r$,text:r$,e:!0,b:H6,endPos:H,canInterruptParagraph:K===6},end:T}}var c0=x9($,Y);if(!c0)return null;var d9=c0.tag,i$=d9.toLowerCase(),B6=d9.charCodeAt(0),b$=B6>=a&&B6<=s;if(!b$&&!m$.has(i$)&&!v$.has(i$)&&!i$.includes("-"))return null;if(c0.isClosing)return{node:{type:j.htmlSelfClosing,tag:d9,attrs:{},endPos:c0.end,b:!0,a:$.slice(Y,c0.end)},end:c0.end};var bJ=!0,$$=t6($,c0.end,d9),D$=[];if($$!==-1){var KZ=q6,R$=$.slice(c0.end,KZ),H$=R$.trim();if(H$){var qZ=R$.indexOf(`

`)!==-1,FZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(H$),WZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(H$),zZ=J.inline,UZ=J.inHTML,OZ=J.c;J.inHTML=!0,J.c=(J.c||0)+1,qZ||FZ||WZ?(J.inline=!1,D$=h9(R$,J,Q)):(J.inline=!0,D$=s0(H$,0,H$.length,J,Q)),J.inline=zZ,J.inHTML=UZ,J.c=OZ}var DZ=j0($,$$),HZ=$.slice($$,DZ).trim(),a$=HZ?$$:Q0($,$$),M6=b$?$.slice(Y,$$):$.slice(Y,a$),jZ=b$?$$:a$;return{node:{type:j.htmlBlock,tag:d9,attrs:n9(c0.attrs,d9,Q),d:c0.whitespaceBeforeAttrs+c0.rawAttrs,children:D$,a:M6,text:b$?R$:M6,e:!0,b:!1,endPos:jZ,canInterruptParagraph:!1},end:a$}}var Y$=f6($,c0.end),BZ=Y$<$.length?Q0($,Y$):Y$,n$=$.slice(c0.end,Y$);if(n$.trim()){var{inline:MZ,inHTML:AZ,c:_Z}=J;J.inline=!1,J.inHTML=!0,J.c=(J.c||0)+1,D$=h9(n$,J,Q),J.inline=MZ,J.inHTML=AZ,J.c=_Z}var vZ=$.slice(c0.end,Y$);return{node:{type:j.htmlBlock,tag:d9,attrs:n9(c0.attrs,d9,Q),d:c0.whitespaceBeforeAttrs+c0.rawAttrs,children:D$,a:vZ,text:n$,e:!0,b:!1,endPos:Y$,canInterruptParagraph:!1},end:BZ}}function VJ($,Z){if($.charCodeAt(Z)!==e)return 0;var J=Z+1,Q=$.length;if($.charCodeAt(J)===l0&&$.charCodeAt(J+1)===i&&$.charCodeAt(J+2)===i)return 2;if($.charCodeAt(J)===Z$)return 3;if($.charCodeAt(J)===l0){var X=$.charCodeAt(J+1);if(X>=a&&X<=s)return 4;if($.slice(J+1,J+8)==="[CDATA[")return 5}for(var Y=$.charCodeAt(J)===R0,V=Y?J+1:J,G=V;G<Q;){var K=$.charCodeAt(G);if(K>=a&&K<=s||K>=H0&&K<=A0||K>=Z0&&K<=J0||K===i)G++;else break}if(G===V)return 0;var q=$.slice(V,G);if(v$.has(q.toLowerCase())){if(Y)return 0;var F=$.charCodeAt(G);return F===N||F===b||F===c||F===x||G>=Q?1:0}if(m$.has(q.toLowerCase())){if(Y){for(var W=G;W<Q&&($.charCodeAt(W)===N||$.charCodeAt(W)===b);)W++;return W<Q&&$.charCodeAt(W)===c?6:0}var O=G<Q?$.charCodeAt(G):-1;return O===N||O===b||O===c||O===x||O===R0||O===-1?6:0}if(Y){for(var z=G;z<Q&&($.charCodeAt(z)===N||$.charCodeAt(z)===b);)z++;if(z<Q&&$.charCodeAt(z)===c){var I=j0($,Z),_=$.slice(z+1,I).trim();if(_==="")return 7}}else{var U=j0($,Z),A=x9($,Z);if(A&&A.end<=U){var D=$.slice(A.end,U).trim();if(D==="")return 7}}return 0}function T6($,Z,J){for(var Q=0,X=$.length;Q<X&&($.charCodeAt(Q)===N||$.charCodeAt(Q)===b);)Q++;for(;X>Q&&($.charCodeAt(X-1)===N||$.charCodeAt(X-1)===b);)X--;Q<X&&$.charCodeAt(Q)===f0&&Q++,X>Q&&$.charCodeAt(X-1)===f0&&(X-2<Q||$.charCodeAt(X-2)!==y0)&&X--;for(var Y=[],V=Q,G=!1,K=[],q=Q;q<X;){var F=$.charCodeAt(q);if(F===y0&&q+1<X){$.charCodeAt(q+1)===f0?(G||(G=!0,K=[]),K.push($.slice(V,q)),K.push("|"),q+=2,V=q):q+=2;continue}if(F===W0){for(var W=0;q<X&&$.charCodeAt(q)===W0;)W++,q++;for(var O=!1;q<X&&!O;){for(var U=0;q<X&&$.charCodeAt(q)===W0;)U++,q++;U===W?O=!0:U===0&&q++}continue}if(F===f0){var A=G?(K.push($.slice(V,q)),K.join("")):$.slice(V,q);Y.push(A.trim()),q++,V=q,G=!1,K=[];continue}q++}var D=G?(K.push($.slice(V,X)),K.join("")):$.slice(V,X);return Y.push(D.trim()),Y.map(function(z){var I=z.indexOf("\\|")!==-1?z.replace(/\\\|/g,"|"):z;return s0(I,0,I.length,Z,J)})}function m6($,Z,J,Q){let X=j0($,Z);var Y=$.indexOf("|",Z);if(Y<0||Y>=X)return null;let V=Q0($,X);if(V>=$.length)return null;let G=j0($,V);if(!l6($,V,G))return null;let K=$.slice(Z,X),q=$.slice(V,G);for(var F=[],W=0,O=q.length;W<O&&(q.charCodeAt(W)===N||q.charCodeAt(W)===b);)W++;for(W<O&&q.charCodeAt(W)===f0&&W++;W<O;){for(;W<O&&(q.charCodeAt(W)===N||q.charCodeAt(W)===b);)W++;if(W>=O||q.charCodeAt(W)===f0)break;var U=q.charCodeAt(W)===o0;for(U&&W++;W<O&&q.charCodeAt(W)===i;)W++;var A=W<O&&q.charCodeAt(W)===o0;for(A&&W++,F.push(U&&A?"center":A?"right":U?"left":null);W<O&&(q.charCodeAt(W)===N||q.charCodeAt(W)===b);)W++;W<O&&q.charCodeAt(W)===f0&&W++}let D=T6(K,J,Q);if(F.length!==D.length)return null;let z=[],I=Q0($,G);for(;I<$.length;){let S=j0($,I),L=$.slice(I,S);if(H9($,I,S))break;if(L0($,I,S),D0<4){var _=$.charCodeAt(I+z0);if(_===c||_===_9||(_===i||_===P0||_===b0)&&s9($,I))break;if(_===W0||_===g0){for(var v=I+z0,k=0;v<S&&$.charCodeAt(v)===_;)k++,v++;if(k>=3)break}}z.push(T6(L,J,Q)),I=Q0($,S)}if((Q.streaming||Q.optimizeForStreaming)&&z.length===0)return null;for(var P=D.length,M=0;M<z.length;M++)if(z[M].length<P)for(;z[M].length<P;)z[M].push([]);else z[M].length>P&&(z[M].length=P);return{node:{type:j.table,header:D,cells:z,align:F},end:I}}function GJ($,Z,J){var Q=j0($,Z);if(L0($,Z,Q),D0>3)return null;var X=Z+z0;if($.charCodeAt(X)!==I0)return null;if(X+1<$.length&&$.charCodeAt(X+1)===W9){var Y=KJ($,X,J);return Y||null}J.refs||(J.refs={});var V=r6($,X,J.refs);return V===null?null:{node:{type:j.refCollection},end:V}}function KJ($,Z,J){var Q=$.length;if($.charCodeAt(Z)!==I0||Z+1>=Q||$.charCodeAt(Z+1)!==W9)return null;for(var X=Z+2,Y=X;X<Q&&$.charCodeAt(X)!==$9;){if($.charCodeAt(X)===x)return null;X++}if(X>=Q)return null;var V=("^"+$.slice(Y,X)).toLowerCase();if(X++,X>=Q||$.charCodeAt(X)!==o0)return null;for(X++;X<Q&&($.charCodeAt(X)===N||$.charCodeAt(X)===b);)X++;if(X<Q&&$.charCodeAt(X)===x)for(X++;X<Q&&($.charCodeAt(X)===N||$.charCodeAt(X)===b);)X++;var G=$.indexOf(`
`,X);G<0&&(G=Q);for(var K=$.slice(X,G).trim(),q=G<Q?G+1:Q;q<Q;){var F=j0($,q);if(L0($,q,F),D0>=2&&!H9($,q,F))K+=`
`+$.slice(q,F),q=Q0($,F);else if(H9($,q,F)){var W=Q0($,F);if(W<Q){var O=j0($,W);if(L0($,W,O),D0>=2){K+=`
`,q=Q0($,F);continue}}break}else break}return J.refs[V]||(J.refs[V]={target:K,title:void 0}),{node:{type:j.footnote},end:q}}function qJ($,Z,J,Q){let X=Z,Y=0,V=0,G=-1;for(;X<$.length;){let y=G>=0?G:j0($,X);if(G=-1,H9($,X,y))break;if(L0($,X,y),D0<4&&V>0&&!J.f){let g=$.charCodeAt(X+z0);if(g===e0||g===i){let h=X+z0;for(;h<y&&$.charCodeAt(h)===g;)h++;for(;h<y&&($.charCodeAt(h)===N||$.charCodeAt(h)===b);)h++;if(h>=y){Y=g===e0?1:2,X=Q0($,y);break}}}V=y;let E=Q0($,y);if(E<$.length){if($.charCodeAt(E)===q$){var K=j0($,E);X=Q0($,K),V=K;continue}let g=j0($,E);if(G=g,L0($,E,g),D0<4){let h=$.charCodeAt(E+z0);if(h===c){X=E;break}if(h===_9&&n6($,E,J,Q)){X=E;break}if(h===W0||h===g0){for(var q=E+z0,F=0;q<g&&$.charCodeAt(q)===h;)F++,q++;if(F>=3){X=E;break}}if(h===e){var W=E+z0+1,O=W<g?$.charCodeAt(W):0,U=O===l0||O===Z$;if(!U&&O===R0){for(var A=W+1,D=A;D<g&&($.charCodeAt(D)>=a&&$.charCodeAt(D)<=s||$.charCodeAt(D)>=H0&&$.charCodeAt(D)<=A0||$.charCodeAt(D)>=Z0&&$.charCodeAt(D)<=J0||$.charCodeAt(D)===i);)D++;D>A&&(U=m$.has($.slice(A,D).toLowerCase()))}else if(!U){for(var z=W;z<g&&($.charCodeAt(z)>=a&&$.charCodeAt(z)<=s||$.charCodeAt(z)>=H0&&$.charCodeAt(z)<=A0||$.charCodeAt(z)>=Z0&&$.charCodeAt(z)<=J0||$.charCodeAt(z)===i);)z++;if(z>W){var I=$.slice(W,z).toLowerCase();U=m$.has(I)||v$.has(I)}}if(U&&e6($,E,J,Q)){X=E;break}}if(h===i||h===P0||h===k9){let m=E+z0+1;if(m<g&&($.charCodeAt(m)===N||$.charCodeAt(m)===b)){var _=_$($,m,g);if(_<g&&!s9($,E)){X=E;break}}}if(h>=Z0&&h<=J0){let m=E+z0;for(;m<g&&$.charCodeAt(m)>=Z0&&$.charCodeAt(m)<=J0;)m++;if(m<g&&($.charCodeAt(m)===z9||$.charCodeAt(m)===O9)&&m-(E+z0)===1&&$.charCodeAt(E+z0)===49){var v=m+1;if(v<g&&($.charCodeAt(v)===N||$.charCodeAt(v)===b)){var k=_$($,v,g);if(k<g){X=E;break}}}}if(h===f0){let m=Q0($,g);if(m<$.length){let u=j0($,m);if(l6($,m,u)){X=E;break}}}if((h===i||h===P0||h===b0)&&s9($,E)){if(h!==i){X=E;break}let m=0,u=E+z0;for(;u<g&&$.charCodeAt(u)===i;)m++,u++;for(;u<g&&($.charCodeAt(u)===N||$.charCodeAt(u)===b);)u++;if(u<g){X=E;break}}}}X=Q0($,y)}for(var P=Y?V:X;P>Z&&($.charCodeAt(P-1)===x||$.charCodeAt(P-1)===A9||$.charCodeAt(P-1)===N||$.charCodeAt(P-1)===b);)P--;for(var M=Z;M<P&&($.charCodeAt(M)===N||$.charCodeAt(M)===b);)M++;if(M>=P)return null;for(var S=!1,L=M;L<P;L++)if($.charCodeAt(L)===q$){S=!0;break}var w=S?$.slice(M,P).replace(/\u001E/g,""):$.slice(M,P);if(!w)return null;let R=FJ(w,0,w.length,J,Q);if(Y){let E=(Q?.slugify||n0)(w);return{node:{type:j.heading,level:Y,children:R,id:E},end:X}}return{node:{type:j.paragraph,children:R},end:X}}function FJ($,Z,J,Q,X){var Y=$.indexOf(`
`,Z);if(Y<0||Y>=J)return s0($,Z,J,Q,X);for(var V="",G=Z,K=Z;K<J;){var q=$.charCodeAt(K);if(q===W0){var F=u$($,K,J);if(F>K){for(var W=!1,O=K;O<F;O++)if($.charCodeAt(O)===x){W=!0;break}W&&(V+=$.slice(G,K),V+=$.slice(K,F).replace(/\n/g," "),G=F),K=F;continue}}if(q===e){var U=$Z($,K,J);if(U>K){K=U;continue}}if(q===x){var A=!1,D=0;if(K>Z&&$.charCodeAt(K-1)===y0)A=!0,D=1;else{for(var z=0,I=K-1;I>=Z&&$.charCodeAt(I)===N;)z++,I--;z>=2&&(A=!0,D=z)}for(A?(V+=$.slice(G,K-D),V+=""):V+=$.slice(G,K+1),K++;K<J&&$.charCodeAt(K)===N;)K++;G=K;continue}K++}return G<J&&(V+=$.slice(G,J)),s0(V,0,V.length,Q,X)}function WJ($,Z,J){if($.charCodeAt(Z)!==W0)return null;let Q=T9($,Z,J,96),X=Z+Q;for(;X<J;){let Y=$.indexOf("`",X);if(Y<0||Y>=J)return null;let V=T9($,Y,J,96);if(V===Q){let G=$.slice(Z+Q,Y);return G=G.replace(/\n/g," "),G.length>0&&G[0]===" "&&G[G.length-1]===" "&&G.trim().length>0&&(G=G.slice(1,-1)),{node:{type:j.codeInline,text:G},end:Y+V}}X=Y+V}return null}function u$($,Z,J){if($.charCodeAt(Z)!==W0)return Z;let Q=T9($,Z,J,96),X=Z+Q;for(;X<J;){let Y=$.indexOf("`",X);if(Y<0||Y>=J)return Z;let V=T9($,Y,J,96);if(V===Q)return Y+V;X=Y+V}return Z}function $Z($,Z,J){if($.charCodeAt(Z)!==e)return Z;if(Z+1<J&&$.charCodeAt(Z+1)===R0){let q=Z+2;for(;q<J&&$.charCodeAt(q)!==c;)q++;return q<J?q+1:Z}if(Z+3<J&&$.charCodeAt(Z+1)===l0&&$.charCodeAt(Z+2)===i&&$.charCodeAt(Z+3)===i){let q=$.indexOf("-->",Z+4);return q>=0?q+3:Z}let Q=Z+1,X=Q;for(;Q<J;){let q=$.charCodeAt(Q);if(q>=a&&q<=s||q>=H0&&q<=A0||q>=Z0&&q<=J0||q===i)Q++;else break}if(Q===X)return Z;let Y=$.slice(X,Q).toLowerCase(),V=!1;for(;Q<J;){let q=$.charCodeAt(Q);if(q===c){Q++;break}if(q===R0&&Q+1<J&&$.charCodeAt(Q+1)===c){Q+=2,V=!0;break}if(q===r0||q===L9){var G=q;for(Q++;Q<J&&$.charCodeAt(Q)!==G;)Q++;Q<J&&Q++;continue}if(q===x)return Z;Q++}if(V||F$(Y))return Q;let K=1;for(;Q<J&&K>0;)if($.charCodeAt(Q)===e)if(Q+1<J&&$.charCodeAt(Q+1)===R0){let q=Q+2,F=q;for(;F<J&&($.charCodeAt(F)>=a&&$.charCodeAt(F)<=s||$.charCodeAt(F)>=H0&&$.charCodeAt(F)<=A0);)F++;if($.slice(q,F).toLowerCase()===Y){for(;F<J&&$.charCodeAt(F)!==c;)F++;if(F<J&&F++,K--,K===0)return F}Q=F}else{let q=Q+1,F=q;for(;F<J&&($.charCodeAt(F)>=a&&$.charCodeAt(F)<=s||$.charCodeAt(F)>=H0&&$.charCodeAt(F)<=A0);)F++;$.slice(q,F).toLowerCase()===Y&&K++,Q++}else Q++;return Q}function zJ($,Z,J,Q,X){if($.charCodeAt(Z)!==g0||Z+1>=J||$.charCodeAt(Z+1)!==g0)return null;let Y=Z+2;for(;Y+1<J;){let V=$.charCodeAt(Y);if(V===W0){let G=u$($,Y,J);if(G>Y){Y=G;continue}}if(V===g0&&$.charCodeAt(Y+1)===g0){let G=$.slice(Z+2,Y),K=s0(G,0,G.length,Q,X);return{node:{type:j.textFormatted,tag:"del",children:K},end:Y+2}}V===y0&&Y+1<J&&Y++,Y++}return null}function UJ($,Z,J,Q,X){if($.charCodeAt(Z)!==e0||Z+1>=J||$.charCodeAt(Z+1)!==e0)return null;let Y=Z+2;for(;Y+1<J;){let V=$.charCodeAt(Y);if(V===W0){let G=u$($,Y,J);if(G>Y){Y=G;continue}}if(V===e0&&$.charCodeAt(Y+1)===e0&&Y>Z+2){let G=$.slice(Z+2,Y),K=s0(G,0,G.length,Q,X);return{node:{type:j.textFormatted,tag:"mark",children:K},end:Y+2}}V===y0&&Y+1<J&&Y++,Y++}return null}var OJ=/[\p{P}\p{S}]/u;function C6($,Z,J){return $<Z9?!!(W6($)&U0):OJ.test(Z[J])}function u6($,Z,J){return $<Z9?!!(W6($)&O$):/\p{Zs}/u.test(Z[J])}function DJ($,Z,J){var Q=$.charCodeAt(Z);if(Q!==P0&&Q!==b0)return null;var X=T9($,Z,J,Q);if(X===0)return null;var Y=Z>0?$.charCodeAt(Z-1):32,V=Z+X<J?$.charCodeAt(Z+X):32,G=u6(Y,$,Z-1),K=u6(V,$,Z+X),q=Z>0?C6(Y,$,Z-1):!1,F=Z+X<J?C6(V,$,Z+X):!1,W=!K&&(!F||G||q),O=!G&&(!q||K||F),U,A;return Q===P0?(U=W,A=O):(U=W&&(!O||q),A=O&&(!W||F)),{len:X,canOpen:U,canClose:A}}function HJ($,Z,J,Q){if(Z.length!==0){for(var X=[],Y=0;Y<12;Y++)X[Y]=-1;for(var V=0;V<Z.length;){var G=Z[V];if(!G.active||!G.canClose){V++;continue}for(var K=G.ch===P0?0:1,q=K*6+G.len%3*2+(G.canOpen?1:0),F=X[q]!==void 0?X[q]:-1,W=-1,O=V-1;O>F;O--){var U=Z[O];if(!(!U.active||U.ch!==G.ch||!U.canOpen)&&!((G.canOpen||U.canClose)&&(U.len+G.len)%3===0&&U.len%3!==0)){W=O;break}}if(W<0){X[q]=V-1,!G.canOpen&&(G.active=!1),V++;continue}var A=Z[W],D=A.len>=2&&G.len>=2,z=D?2:1;A.len-=z,G.len-=z;var I=$[A.idx],_=$[G.idx];I.text=I.text.slice(0,I.text.length-z),_.text=_.text.slice(z);var v=A.idx+1,k=G.idx,P=$.slice(v,k),M={type:j.textFormatted,tag:D?"strong":"em",children:P};$.splice(v,k-v,M);for(var S=k-v-1,L=0;L<Z.length;L++)Z[L].idx>A.idx&&(Z[L].idx-=S);for(var w=W+1;w<V;w++)Z[w].active=!1;if(A.len===0&&(A.active=!1,I.text==="")){$.splice(A.idx,1);for(var R=0;R<Z.length;R++)Z[R].idx>A.idx?Z[R].idx--:Z[R].idx===A.idx&&(Z[R].idx=-1)}if(G.len===0){G.active=!1;var y=G.idx;if(_.text===""){$.splice(y,1);for(var E=0;E<Z.length;E++)Z[E].idx>y?Z[E].idx--:Z[E].idx===y&&(Z[E].idx=-1)}}else continue;V++}for(var g=0,h=0;h<$.length;h++){var m=$[h];if(m.type===j.text){var u=m;if(u.text==="")continue;if(g>0&&$[g-1].type===j.text){$[g-1].text+=u.text;continue}}$[g++]=m}$.length=g}}function p6($,Z,J,Q,X){let Y=$.charCodeAt(Z)===l0,V=Y?Z+1:Z;if($.charCodeAt(V)!==I0)return null;var G=$.indexOf("]",V+1);if(G<0||G>=J)return null;for(var K=V+1,q=-1,F=1;K<J&&F>0;){var W=$.charCodeAt(K);if(W===y0&&K+1<J){K+=2;continue}if(W===W0){var O=u$($,K,J);if(O>K){K=O;continue}}if(W===e){var U=ZZ($,K,J);if(U){K=U.end;continue}var A=$Z($,K,J);if(A>K){K=A;continue}}W===I0?F++:W===$9&&F--,K++}if(F!==0)return null;var D=K-1,z=$.slice(V+1,D),I=K<J?$.charCodeAt(K):0,_=!1;if(I===U9){var v=!0;for(K++;K<J&&($.charCodeAt(K)===N||$.charCodeAt(K)===x);)K++;var k="",P=K;if(K<J&&$.charCodeAt(K)===e){for(K++,P=K;P<J&&$.charCodeAt(P)!==c;){if($.charCodeAt(P)===y0&&P+1<J){P+=2;continue}if($.charCodeAt(P)===x){v=!1;break}P++}v&&(P>=J||$.charCodeAt(P)!==c)&&(v=!1),v&&(k=$.slice(K,P),P++)}else if(v){for(var M=0;P<J;){var S=$.charCodeAt(P);if(S===y0&&P+1<J){P+=2;continue}if(S===U9)M++;else if(S===O9){if(M===0)break;M--}else if(S===N||S===x)break;P++}k=$.slice(K,P)}if(v){for(K=P;K<J&&($.charCodeAt(K)===N||$.charCodeAt(K)===x);)K++;var L;if(K<J){var w=$.charCodeAt(K);if(w===r0||w===L9||w===U9){var R=w===U9?41:w;K++;for(var y=K;K<J&&$.charCodeAt(K)!==R;)$.charCodeAt(K)===y0&&K+1<J&&K++,K++;K>=J?v=!1:(L=$.slice(y,K),K++)}}if(v){for(;K<J&&($.charCodeAt(K)===N||$.charCodeAt(K)===x);)K++;(K>=J||$.charCodeAt(K)!==O9)&&(v=!1)}}if(v){K++,k=U$(k),L!==void 0&&(L=U$(L));var E=X?.sanitizer||i9,g=E(k,Y?"img":"a",Y?"src":"href"),h=g===null?null:k;if(Y){var m=s0(z,0,z.length,Q,X),u=C$(m);return{node:{type:j.image,target:h,alt:u,title:L},end:K}}else{var k0=Q.inAnchor;Q.inAnchor=!0;var H=k0?[{type:j.text,text:z}]:s0(z,0,z.length,Q,X);return Q.inAnchor=k0,!Q.inAnchor&&F6(H)?null:{node:{type:j.link,target:h,title:L,children:H},end:K}}}else K=D+1,_=!0}var l="",T=K;if(!_&&I===I0){var C=K+1;T=C;for(var G0=!1;T<J&&$.charCodeAt(T)!==$9;){if($.charCodeAt(T)===y0&&T+1<J){T+=2;continue}if($.charCodeAt(T)===I0){G0=!0;break}T++}if(G0||T>=J)return null;var K0=$.slice(C,T);if(K0.trim())l=h$(K0);else{if(x6(z))return null;l=h$(z)}T=T+1}else{if(x6(z))return null;l=h$(z)}var S0=Q.refs[l];if(!S0)return null;if(Y)return{node:{type:j.image,target:S0.target,alt:C$(s0(z,0,z.length,Q,X)),title:S0.title},end:T};var X0=Q.inAnchor;Q.inAnchor=!0;var H=X0?[{type:j.text,text:z}]:s0(z,0,z.length,Q,X);return Q.inAnchor=X0,!Q.inAnchor&&F6(H)?null:{node:{type:j.link,target:S0.target,title:S0.title,children:H},end:T}}function ZZ($,Z,J){if($.charCodeAt(Z)!==e)return null;for(var Q=Z+1;Q<J;){var X=$.charCodeAt(Q);if(X===c)break;if(X===N||X===x||X===A9||X===e)return null;Q++}if(Q>=J||$.charCodeAt(Q)!==c)return null;var Y=$.slice(Z+1,Q),V=Y.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return V?{node:{type:j.link,target:Y,children:[{type:j.text,text:Y}]},end:Q+1}:Y.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(Y)?{node:{type:j.link,target:"mailto:"+Y,children:[{type:j.text,text:Y}]},end:Q+1}:null}function jJ($,Z,J,Q){if($.charCodeAt(Z)!==I0||Z+1>=J||$.charCodeAt(Z+1)!==W9)return null;let X=Z+2;for(;X<J&&$.charCodeAt(X)!==$9&&$.charCodeAt(X)!==x;)X++;if(X>=J||$.charCodeAt(X)!==$9)return null;let Y=$.slice(Z+2,X);return Y?{node:{type:j.footnoteReference,target:"#"+n0(Y),text:Y},end:X+1}:null}function BJ($,Z,J,Q){if(Q.disableBareUrls)return null;var X="",Y=!1,V=$.charCodeAt(Z);if(V===K$||V===72?Z+8<=J&&$.charCodeAt(Z+1)===w$&&$.charCodeAt(Z+2)===w$&&$.charCodeAt(Z+3)===t$&&($.charCodeAt(Z+4)===P6&&$.charCodeAt(Z+5)===o0&&$.charCodeAt(Z+6)===R0&&$.charCodeAt(Z+7)===R0?X="https://":$.charCodeAt(Z+4)===o0&&$.charCodeAt(Z+5)===R0&&$.charCodeAt(Z+6)===R0&&(X="http://")):V===c9||V===70?Z+6<=J&&$.charCodeAt(Z+1)===w$&&$.charCodeAt(Z+2)===t$&&$.charCodeAt(Z+3)===o0&&$.charCodeAt(Z+4)===R0&&$.charCodeAt(Z+5)===R0&&(X="ftp://"):(V===l9||V===87)&&Z+4<=J&&$.charCodeAt(Z+1)===l9&&$.charCodeAt(Z+2)===l9&&$.charCodeAt(Z+3)===z9&&(X="www.",Y=!0),!X)return null;let G=Z+X.length;for(;G<J;){let M=$.charCodeAt(G);if(M===N||M===x||M===b||M===A9||M===e||M===c)break;G++}for(var K=0,q=0,F=Z;F<G;F++){var W=$.charCodeAt(F);W===U9?K++:W===O9&&q++}let O=G;for(;O>Z+X.length;){let M=$.charCodeAt(O-1);if(M===z9||M===e$||M===o0||M===l0||M===Z$||M===O9){if(M===O9){if(K>=q)break;q--}O--}else if(M===y$){for(var U=O-2;U>Z&&($.charCodeAt(U)>=a&&$.charCodeAt(U)<=s||$.charCodeAt(U)>=H0&&$.charCodeAt(U)<=A0||$.charCodeAt(U)>=Z0&&$.charCodeAt(U)<=J0);)U--;U>=Z&&$.charCodeAt(U)===R9?O=U:O--}else break}if(O<=Z+X.length)return null;var A=Z+(Y?4:X.length),D=$.indexOf("/",A);if((D<0||D>O)&&(D=O),Y&&$.indexOf(".",A)===-1)return null;for(var z=-1,I=-1,_=D-1;_>=A;_--)if($.charCodeAt(_)===z9)if(z<0)z=_;else{I=_;break}for(var v=I>=0?I+1:A,_=v;_<D;_++)if($.charCodeAt(_)===b0)return null;var k=$.slice(Z,O),P=Y?"http://"+k:k;return{node:{type:j.link,target:P,children:[{type:j.text,text:k}]},end:O}}function MJ($,Z,J,Q){if(Q.disableBareUrls)return null;for(var X=Z,Y=X;X<J;){var V=$.charCodeAt(X);if(V>=a&&V<=s||V>=H0&&V<=A0||V>=Z0&&V<=J0||V===z9||V===l0||V===_9||V===36||V===V$||V===R9||V===L9||V===P0||V===k9||V===R0||V===e0||V===Z$||V===W9||V===b0||V===W0||V===S9||V===f0||V===B$||V===g0||V===i)X++;else break}if(X===Y||X>=J||$.charCodeAt(X)!==G$)return null;X++;for(var G=X,K=-1;X<J;){var V=$.charCodeAt(X);if(V>=a&&V<=s||V>=H0&&V<=A0||V>=Z0&&V<=J0)X++;else if((V===i||V===b0)&&X>G)X++;else if(V===z9){if(X===G)break;var q=$.charCodeAt(X-1);if(q===i||q===b0)break;if(X+1<J){var F=$.charCodeAt(X+1);if(F>=a&&F<=s||F>=H0&&F<=A0||F>=Z0&&F<=J0)K=X,X++;else break}else break}else break}if(K<0)return null;var W=$.charCodeAt(X-1);if(!(W>=a&&W<=s||W>=H0&&W<=A0||W>=Z0&&W<=J0)||X<=K+1)return null;for(var O=-1,U=K-1;U>=G;U--)if($.charCodeAt(U)===z9){O=U;break}for(var A=O>=0?O+1:G,U=A;U<X;U++)if($.charCodeAt(U)===b0)return null;var D=$.slice(Z,X);return{node:{type:j.link,target:"mailto:"+D,children:[{type:j.text,text:D}]},end:X}}function F6($){for(var Z=0;Z<$.length;Z++)if($[Z].type===j.link||"children"in $[Z]&&Array.isArray($[Z].children)&&F6($[Z].children))return!0;return!1}function C$($){for(var Z="",J=0;J<$.length;J++){var Q=$[J];Q.type===j.text?Z+=Q.text:Q.type===j.breakLine?Z+=" ":Q.type===j.codeInline?Z+=Q.text:"children"in Q&&Array.isArray(Q.children)?Z+=C$(Q.children):Q.type===j.image?Z+=Q.alt||"":Q.type===j.link&&(Z+=C$(Q.children))}return Z}function X$($){let Z=$.includes("&")?Q$($):$;return{type:j.text,text:Z}}function AJ($,Z,J,Q,X){if($.charCodeAt(Z)!==e)return null;var Y=Z+1;if(Y>=J)return null;var V=$.charCodeAt(Y);if(V===l0&&Y+1<J&&$.charCodeAt(Y+1)===i&&Y+2<J&&$.charCodeAt(Y+2)===i){var G=Y+3;if(G<J&&$.charCodeAt(G)===c)return{node:{type:j.htmlComment,text:"",endsWithGreaterThan:!0},end:G+1};if(G+1<J&&$.charCodeAt(G)===i&&$.charCodeAt(G+1)===c)return{node:{type:j.htmlComment,text:"-",endsWithGreaterThan:!0},end:G+2};var K=$.indexOf("-->",G);return K!==-1&&K<=J-3?{node:{type:j.htmlComment,text:$.slice(Z+4,K)},end:K+3}:null}if(V===Z$){var q=$.indexOf("?>",Y+1);return q!==-1&&q<J?{node:{type:j.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(Z,q+2)},end:q+2}:null}if(V===l0&&Y+1<J){var F=$.charCodeAt(Y+1);if(F===I0&&$.slice(Y+1,Y+8)==="[CDATA["){var W=$.indexOf("]]>",Y+8);return W!==-1&&W<J?{node:{type:j.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(Z,W+3)},end:W+3}:null}if(F>=a&&F<=s){var O=$.indexOf(">",Y+2);return O!==-1&&O<J?{node:{type:j.htmlSelfClosing,tag:"!"+$.slice(Y+1,O),attrs:{},a:$.slice(Z,O+1)},end:O+1}:null}}if(V===R0){var U=Y+1;if(U>=J)return null;var A=$.charCodeAt(U);if(!(A>=a&&A<=s||A>=H0&&A<=A0))return null;for(U++;U<J;){var D=$.charCodeAt(U);if(D>=a&&D<=s||D>=H0&&D<=A0||D>=Z0&&D<=J0||D===i)U++;else break}for(;U<J&&($.charCodeAt(U)===N||$.charCodeAt(U)===b||$.charCodeAt(U)===x);)U++;if(U<J&&$.charCodeAt(U)===c){var z=$.slice(Y+1,U).trim();return{node:{type:j.htmlSelfClosing,tag:z,attrs:{},a:$.slice(Z,U+1),b:!0},end:U+1}}return null}if(!(V>=a&&V<=s||V>=H0&&V<=A0))return null;var I=x9($,Z);if(!I)return null;var _=I.tag,v=_.toLowerCase(),k=I.selfClosing;if(k||F$(_))return{node:{type:j.htmlSelfClosing,tag:_,attrs:n9(I.attrs,_,X),a:$.slice(Z,I.end)},end:I.end};var P=v$.has(v),M=t6($.slice(0,J),I.end,_);if(M===-1)return{node:{type:j.htmlSelfClosing,tag:_,attrs:n9(I.attrs,_,X),a:$.slice(Z,I.end)},end:I.end};var S=YJ($,"</"+v,M),L=$.slice(I.end,S),w=[];if(P)L.trim()&&(w=[{type:j.text,text:L}]);else{var R=L.trim();if(R){var{inAnchor:y,inline:E}=Q;v==="a"&&(Q.inAnchor=!0);var g=R.indexOf(`

`)!==-1||/^#{1,6}\s/.test(R);g?(Q.inline=!1,w=h9(R,Q,X)):w=s0(R,0,R.length,Q,X),Q.inAnchor=y,Q.inline=E}}return{node:{type:j.htmlBlock,tag:_,attrs:n9(I.attrs,_,X),d:I.rawAttrs,children:w,text:L,e:!1},end:M}}var _J=200,z$=0;function s0($,Z,J,Q,X){if(z$++,z$>_J)return z$--,[{type:j.text,text:$.slice(Z,J)}];let Y=Q;if(X.streaming||X.optimizeForStreaming){let t=function(r,v0){for(var C0=1,E0=v0+1;E0<r.length;E0++){var F0=r.charCodeAt(E0);if(F0===I0)C0++;else if(F0===$9&&(C0--,C0===0))return E0}return-1},B=$.slice(Z,J),d=B;for(var V=0,G=0,K=0,q=0,F=0,W=-1,O=-1,U=-1,A=-1,D=-1,z=0;z<B.length;z++){var I=B.charCodeAt(z);I===P0?z+1<B.length&&B.charCodeAt(z+1)===P0?(V++,W=z,z++):(G++,O=z):I===b0?z+1<B.length&&B.charCodeAt(z+1)===b0?(K++,U=z,z++):(q++,A=z):I===g0&&z+1<B.length&&B.charCodeAt(z+1)===g0&&(F++,D=z,z++)}var _=[];F%2===1&&D>=0&&_.push([D,2]),K%2===1&&U>=0&&_.push([U,2]),q%2===1&&A>=0&&_.push([A,1]),V%2===1&&W>=0&&_.push([W,2]),G%2===1&&O>=0&&_.push([O,1]),_.sort(function(r,v0){return v0[0]-r[0]});for(var v=0;v<_.length;v++){var k=_[v][0],P=_[v][1];B=B.slice(0,k)+B.slice(k+P)}let O0=0,_0=-1;for(let r=0;r<B.length;r++)B.charCodeAt(r)===W0&&(O0++,_0=r);if(O0%2===1&&_0!==-1){let r=!1,v0=-1,C0=0;for(;C0<B.length;)B.charCodeAt(C0)===W0&&(r?(r=!1,v0=-1):(v0=C0,r=!0)),C0++;r&&v0!==-1&&(B=B.slice(0,v0))}for(var M=!0;M;){M=!1;for(var S=-1,L=-1,w=-1,R=!1,y=0;y<B.length;y++){var E=B.charCodeAt(y);if(E===I0&&(y===0||B.charCodeAt(y-1)!==y0)){var g=y>0&&B.charCodeAt(y-1)===l0,h=g?y-1:y,m=t(B,y);if(m===-1)S=h,R=g,L=y+1,w=B.length;else{var u=m+1;if(u>=B.length)S=h,R=g,L=y+1,w=m;else if(B.charCodeAt(u)===U9){var k0=B.indexOf(")",u+1);k0===-1?(S=h,R=g,L=y+1,w=m,y=B.length):y=k0}else if(B.charCodeAt(u)===I0){var H=B.indexOf("]",u+1);H===-1?(S=h,R=g,L=y+1,w=m,y=B.length):y=H}else y=m}}}if(S>=0){var l=R?"":B.slice(L,w);B=B.slice(0,S)+l,M=!0}}let n=B.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(n&&n.index!==void 0){for(var T=!1,C=0,G0=0;G0<n.index;G0++)B.charCodeAt(G0)===W0&&C++;if(T=C%2===1,!T){let r=n[1];f9(B,"</"+r,0)===-1&&(B=B.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}B!==d&&($=$.slice(0,Z)+B,J=Z+B.length)}let K0=[];var S0=[];let X0=Z;var B0=X.disableAutoLink||X.disableBareUrls||Y.inAnchor?-1:$.indexOf("@",Z);for(B0>=J&&(B0=-1);Z<J;){let B=$.charCodeAt(Z),d=null;if(B===W0){if(d=WJ($,Z,J),!d){var V0=T9($,Z,J,W0);Z+=V0-1}}else if(B===P0||B===b0){var o=DJ($,Z,J);if(o){if(o.canOpen||o.canClose){Z>X0&&K0.push(X$($.slice(X0,Z)));var p=$.slice(Z,Z+o.len),q0=X$(p);S0.push({idx:K0.length,ch:B,len:o.len,canOpen:o.canOpen,canClose:o.canClose,active:!0}),K0.push(q0),Z+=o.len,X0=Z;continue}Z+=o.len-1}}else B===g0?d=zJ($,Z,J,Y,X):B===e0?d=UJ($,Z,J,Y,X):B===I0?(Z+1<J&&$.charCodeAt(Z+1)===W9&&(d=jJ($,Z,J,Y)),d||(d=p6($,Z,J,Y,X))):B===l0&&Z+1<J&&$.charCodeAt(Z+1)===I0?d=p6($,Z,J,Y,X):B===e?(d=ZZ($,Z,J),!d&&!X.disableParsingRawHTML&&!X.ignoreHTMLBlocks&&(d=AJ($,Z,J,Y,X))):(B===K$||B===l9||B===c9)&&!Y.inAnchor&&!X.disableAutoLink&&(Z===0||$.charCodeAt(Z-1)!==e)&&(d=BJ($,Z,J,X));if(!d&&B0>=0&&B0-Z<=64&&!Y.inAnchor&&!X.disableAutoLink&&!X.disableBareUrls&&(B>=a&&B<=s||B>=H0&&B<=A0||B>=Z0&&B<=J0)&&(d=MJ($,Z,J,X),!d&&Z>=B0&&(B0=$.indexOf("@",Z+1),B0>=J&&(B0=-1))),B===$6){Z>X0&&K0.push(X$($.slice(X0,Z))),K0.push({type:j.breakLine}),Z++,X0=Z;continue}if(d)Z>X0&&K0.push(X$($.slice(X0,Z))),K0.push(d.node),Z=d.end,X0=Z;else{if(B===y0&&Z+1<J){let O0=$.charCodeAt(Z+1);if(W6(O0)&U0){Z>X0&&K0.push(X$($.slice(X0,Z))),K0.push(X$($[Z+1])),Z+=2,X0=Z;continue}}if(Z++,B0<0||B0-Z>64)for(;Z<J;){var x0=$.charCodeAt(Z);if(x0<Z9&&!d6[x0])Z++;else break}}}if(J>X0){let B=$.slice(X0,J);(X.streaming||X.optimizeForStreaming)&&(B=B.replace(/\*\*([^*]+)$/,"$1"),B.match(/\*[^*]+$/)&&(B=B.replace(/\*([^*]+)$/,"$1")),B=B.replace(/__([^_]+)$/,"$1"),B.match(/_[^_]+$/)&&(B=B.replace(/_([^_]+)$/,"$1")),B=B.replace(/~~([^~]+)$/,"$1"),B=B.replace(/\[([^\]]+)$/,"$1"),B=B.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),B&&K0.push(X$(B))}return S0.length>0&&HJ(K0,S0,Q,X),z$--,K0}var vJ=500;function h9($,Z,J){var Q=Z.g||0;if(Q>vJ)return[{type:j.text,text:$}];Z.g=Q+1;let X=Z;if(J.streaming||J.optimizeForStreaming){var Y=$.length;Y>0&&$.charCodeAt(Y-1)===x&&Y--;for(var V=Y;V>0&&$.charCodeAt(V-1)!==x;)V--;if(V>0&&$.charCodeAt(V)===f0){for(var G=!0,K=V;K<Y;K++){var q=$.charCodeAt(K);if(q!==N&&q!==b&&q!==i&&q!==o0&&q!==f0){G=!1;break}}if(G){for(var F=V-1;F>0&&$.charCodeAt(F-1)!==x;)F--;$.charCodeAt(F)===f0&&($=$.slice(0,F).trimEnd())}}var W=$.trim(),O=W.lastIndexOf(`
`),U=O===-1?W:W.slice(O+1);if(U.length>0&&U.charCodeAt(0)===f0){for(var A=!1,D=!1,z=1;z<U.length;z++){var I=U.charCodeAt(z);I===f0&&(A=!0),I===i&&(D=!0)}A&&D&&($=O===-1?"":$.slice(0,$.lastIndexOf(U)).trimEnd())}for(var _=-1,v=-1,k=-1,P=$.length-1;P>=0;P--)if($.charCodeAt(P)===e){var M=P+1<$.length?$.charCodeAt(P+1):0;if(M>=a&&M<=s||M>=H0&&M<=A0){for(var S=P+2;S<$.length;){var L=$.charCodeAt(S);if(L>=a&&L<=s||L>=H0&&L<=A0||L>=Z0&&L<=J0)S++;else break}for(var w=S;w<$.length&&$.charCodeAt(w)!==c;)w++;if(w<$.length){for(var R=!1,y=w+1;y<$.length;y++)if($.charCodeAt(y)===e){R=!0;break}R||(_=P,v=S,k=w+1)}}break}if(_>=0){for(var E=0,g=0;g<_;g++)$.charCodeAt(g)===W0&&E++;if(E%2===0){var h=$.slice(_+1,v);f9($,"</"+h,0)===-1&&($=$.slice(0,_)+$.slice(k))}}var m=$.length;if(m>0){for(var u=$.lastIndexOf(`
`),k0=u===-1?0:u+1,H=m,l=k0,T=0;l<H&&$.charCodeAt(l)===N&&T<3;)l++,T++;if(l<H){var C=$.charCodeAt(l),G0=!1;if(C===P0||C===i||C===k9){var K0=l+1;if(K0>=H||$.charCodeAt(K0)===N||$.charCodeAt(K0)===b){for(var S0=K0;S0<H&&($.charCodeAt(S0)===N||$.charCodeAt(S0)===b);)S0++;S0>=H&&(G0=!0)}}else if(C>=Z0&&C<=J0){for(var X0=l;X0<H&&$.charCodeAt(X0)>=Z0&&$.charCodeAt(X0)<=J0;)X0++;if(X0<H&&($.charCodeAt(X0)===z9||$.charCodeAt(X0)===O9)){var B0=X0+1;if(B0>=H||$.charCodeAt(B0)===N||$.charCodeAt(B0)===b){for(var V0=B0;V0<H&&($.charCodeAt(V0)===N||$.charCodeAt(V0)===b);)V0++;V0>=H&&(G0=!0)}}}G0&&($=$.slice(0,k0).trimEnd())}}}if(Z.inline)return s0($,0,$.length,Z,J);let o=[],p=0,q0=$.length;if(p===0&&$.startsWith("---")){let t=V6($);if(t&&t.hasValidYaml){if(J.preserveFrontmatter!==!1){let n=$.slice(0,t.endPos).trimEnd();o.push({type:j.frontmatter,text:n})}p=t.endPos}}for(;p<q0;){for(var x0=$.indexOf(`
`,p),B=x0<0?q0:x0;p<q0&&H9($,p,B);)p=B<q0?B+1:B,p<q0&&(x0=$.indexOf(`
`,p),B=x0<0?q0:x0);if(p>=q0)break;$.charCodeAt(p),L0($,p,B);let t=null;if($.charCodeAt(p)!==q$&&D0>=4&&!Z.inHTML)t=JJ($,p);else if($.charCodeAt(p)!==q$){let n=p+z0,r=$.charCodeAt(n);r===_9?t=n6($,p,Z,J):r===c?t=QJ($,p,Z,J):r===W0||r===g0?t=ZJ($,p,Z):r===i||r===P0||r===b0?(t=s9($,p),!t&&(t=h6($,p,Z,J))):r===k9||r>=Z0&&r<=J0?t=h6($,p,Z,J):r===e?t=e6($,p,Z,J):r===f0?t=m6($,p,Z,J):r===I0&&(t=GJ($,p,Z))}if(!t){for(var d=!1,O0=p;O0<B;O0++)if($.charCodeAt(O0)===f0){d=!0;break}d&&(t=m6($,p,Z,J))}if(t||(t=qJ($,p,Z,J)),t)t.node.type!==j.refCollection&&o.push(t.node),p=t.end;else{var _0=$.indexOf(`
`,p);p=_0<0?q0:_0+1}}return Z.g=Q,o}function p$($,Z){z$=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=g$($);let J={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},Q={...Z,slugify:Z?.slugify?Y=>Z.slugify(Y,n0):n0,sanitizer:Z?.sanitizer||i9,tagfilter:Z?.tagfilter!==!1};o6($,J.refs,Q);let X=h9($,J,Q);return J.refs&&Object.keys(J.refs).length>0?[{type:j.refCollection,refs:J.refs},...X]:X}function gJ($,Z,J,Q){var X=x9($,Z);return X?{tagName:X.tag,tagLower:X.tag.toLowerCase(),attrs:X.rawAttrs,whitespaceBeforeAttrs:X.whitespaceBeforeAttrs,isSelfClosing:X.selfClosing,hasSpaceBeforeSlash:X.hasSpaceBeforeSlash,isClosing:X.isClosing,hasNewline:X.whitespaceBeforeAttrs.includes(`
`)||X.rawAttrs.includes(`
`),endPos:X.end}:null}function JZ($,Z,J){z$=0,$=g$($),!Z.refs&&(Z.refs={}),o6($,Z.refs,J);let Q=h9($,Z,J);return Z.refs&&Object.keys(Z.refs).length>0?[{type:j.refCollection,refs:Z.refs},...Q]:Q}var{hasKeys:z6}=f$;function e9($){if(!$)return $;for(var Z=!1,J=0,Q=$.length;J<Q;){var X=$.charCodeAt(J);if(X===R9||X===e||X===c||X===r0){Z=!0;break}J++}if(!Z)return $;var Y="";J=0;for(var V=0;J<Q;){var X=$.charCodeAt(J),G=null;X===R9?G="&amp;":X===e?G="&lt;":X===c?G="&gt;":X===r0&&(G="&quot;"),G&&(J>V&&(Y+=$.slice(V,J)),Y+=G,V=J+1),J++}return V<Q&&(Y+=$.slice(V)),Y}function U6($){for(var Z=!1,J=0,Q=$.length;J<Q;){var X=$.charCodeAt(J);if(X===R9||X===e||X===c||X===r0){Z=!0;break}J++}return Z?$.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&(?!([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+);)/g,"&amp;"):$}function I9($={}){var Z=!1;for(var J in $){Z=!0;break}if(!Z)return"";var Q="";for(var J in $){var X=$[J];if(X!=null)if(Q+=" ",X===!0)Q+=J;else if(X==="")Q+=J+'=""';else if(J==="style"&&typeof X=="object"&&X!==null){var Y="",V=!0;for(var G in X){var K=X[G];if(K!=null){V?V=!1:Y+="; ";for(var q="",F=0;F<G.length;F++){var W=G.charCodeAt(F);W>=a&&W<=s?q+="-"+String.fromCharCode(W+D9):q+=G[F]}Y+=q+": "+K}}Y&&(Q+='style="'+U6(Y)+'"')}else typeof X=="string"?Q+=J+'="'+U6(X)+'"':typeof X=="number"&&(Q+=J+'="'+X+'"')}return Q}function I$($,Z,J,Q){let X=E9($,J),Y=g9($,J);if(!Q||!z6(Q)){let q=I9(Y);return`<${X}${q}>${Z}</${X}>`}var V={...Y};for(var G in Q)V[G]=Q[G];let K=I9(V);return`<${X}${K}>${Z}</${X}>`}function d$($,Z){return $.type===j.footnote||$.type===j.ref||$.type===j.frontmatter&&!Z}function Q9($,Z={}){let J=Z.sanitizer||i9,Q=Z.slugify||n0;for(var X=Z.refs||{},Y=Z.overrides||{},V={},G=[],K=!1,q=0;q<$.length;q++){var F=$[q];if(F.type===j.refCollection&&!K){V=F.refs||{},K=!0;continue}d$(F,!!Z.preserveFrontmatter)||G.push(F)}for(var W in V)X[W]=V[W];var O={...Z,refs:X,overrides:Y};function U(H){var l=J(H,"a","href");return l===null||l===H?l:x$(l)}function A(H,l){var T=H||{};if(z6(l)){T={...T};for(var C in l)T[C]=l[C]}return T}function D(H){return H.length?Q9(H,O):""}function z(H,l={}){if(!H||typeof H!="object"||H.type===j.ref||H.type===j.refCollection||d$(H,!!Z.preserveFrontmatter))return"";switch(H.type){case j.blockQuote:{var T=H.children?Q9(H.children,O):"";return H.alert?(T=`<header>${e9(H.alert)}</header>`+T,I$("blockquote",T,Y,{class:"markdown-alert-"+Q(H.alert.toLowerCase(),n0)})):I$("blockquote",T,Y)}case j.breakLine:return`<br />
`;case j.breakThematic:return"<hr />";case j.frontmatter:return"<pre>"+e9(H.text)+"</pre>";case j.codeBlock:{var C=H.attrs||{};if(H.lang){C={...C};let Y0=Q$(H.lang),t0=C.class||C.className||"";C.class=t0?t0+" language-"+Y0:"language-"+Y0,delete C.className}let f=I9(C),w0=H.text||"";return`<pre><code${f}>${e9(w0)}</code></pre>`}case j.codeInline:return"<code>"+e9(H.text||"")+"</code>";case j.footnoteReference:{let f=J(H.target||"","a","href")||"",w0=e9(H.text||"");return`<a href="${e9(f)}"><sup>${w0}</sup></a>`}case j.gfmTask:return"<input"+(H.completed?' checked=""':"")+' disabled="" type="checkbox">';case j.heading:{let f=H.level||1,w0=H.id?.trim()?{id:H.id}:void 0;return I$("h"+f,H.children?Q9(H.children,O):"",Y,w0)}case j.htmlComment:{let f=H;return f.raw?f.text:f.endsWithGreaterThan?`<!--${H.text}>`:`<!--${H.text}-->`}case j.htmlBlock:{let f=H,w0=f.tag||"div",Y0=E9(w0,Y),t0=g9(w0,Y);var G0;if(f.d!==void 0){let p9=f.d;G0=(p9.length>0&&!/^[\s]/.test(p9)?" ":"")+p9+(z6(t0)?" "+I9(t0).trim():"")}else G0=I9(A(f.attrs,t0));if(Z.tagfilter&&A$(Y0))return f.b?`&lt;/${Y0}>`:`&lt;${Y0}${G0}>`;if(f.a){if(f.e){var v0=Z.tagfilter?W$(f.a):f.a;if(f.b)return`</${Y0}>${v0}`;var K0=Y0.toLowerCase(),S0=c6(K0);if(S0){for(var X0=f.a.length,B0=0;B0<X0&&f.a.charCodeAt(B0)===N;)B0++;if(B0<X0&&f.a.charCodeAt(B0)===e){var V0=f.a.indexOf(">",B0);if(V0!==-1){var o=f.a.slice(B0,V0+1);if(o.charCodeAt(1)>=H0&&o.charCodeAt(1)<=A0){for(var p=1,q0=p;q0<o.length&&o.charCodeAt(q0)>=H0&&o.charCodeAt(q0)<=A0;)q0++;var x0=o.slice(p,q0).toLowerCase();if(x0===K0){var B=f.a.slice(V0+1);return o+(Z.tagfilter?W$(B):B)}}}}var d="</"+K0+">",O0=f.a.indexOf(d)!==-1;return O0?`<${Y0}${G0}>${v0}`:`<${Y0}${G0}>${v0}</${Y0}>`}var _0=f.a.trim();if(_0.length>0&&_0.charCodeAt(0)===e){var t=_0.charCodeAt(1);if(t>=H0&&t<=A0||t>=a&&t<=s){for(var p=1,q0=p;q0<_0.length;){var n=_0.charCodeAt(q0);if(n>=H0&&n<=A0||n>=a&&n<=s||n>=Z0&&n<=J0||n===i)q0++;else break}var x0=_0.slice(p,q0).toLowerCase();if(x0===K0)return v0}}for(var r=0;r<v0.length&&v0.charCodeAt(r)===N;)r++;return`<${Y0}${G0}>${r>0?v0.slice(r):_0?v0:""}`}var v0=Z.tagfilter?W$(f.a):f.a;return`<${Y0}${G0}>${v0}</${Y0}>`}if(f.d&&f.d.includes(`
`)&&f.a){var C0=Z.tagfilter?W$(f.a):f.a;return`<${Y0}${G0}>${C0}</${Y0}>`}let u9=f.children?Q9(f.children,O):"";return f.b?`</${Y0}>${u9}`:u9.trim()?`<${Y0}${G0}>${u9}</${Y0}>`:`<${Y0}${G0}>${u9}`}case j.htmlSelfClosing:{let f=H,w0=f.tag||"div",Y0=E9(w0,Y);if(f.a)return Z.tagfilter&&A$(Y0)?f.a.replace(/^</,"&lt;"):f.a;if(f.b)return`</${Y0}>`;let t0=g9(w0,Y),u9=A(f.attrs,t0),p9=I9(u9);return Z.tagfilter&&A$(Y0)?`&lt;${Y0}${p9} />`:`<${Y0}${p9} />`}case j.image:{let f=E9("img",Y),w0=g9("img",Y),Y0=J(H.target||"","img","src")||"";var E0={...w0,alt:H.alt||""};return H.title&&(E0.title=H.title),`<${f} src="${e9(Y0)}"${I9(E0)} />`}case j.link:{let f=E9("a",Y);var E0={...g9("a",Y)};if(H.target!=null){let t0=U(x$(Q$(H.target)));t0!=null&&(E0.href=t0)}return H.title&&(E0.title=Q$(H.title)),`<${f}${I9(E0)}>${H.children?Q9(H.children,O):""}</${f}>`}case j.table:{let f=H,w0=f.align||[];for(var F0="",N9=f.header||[],j9=0;j9<N9.length;j9++){var V9=w0[j9];F0+="<th"+(V9?` align="${V9}"`:"")+">"+Q9(N9[j9],O)+"</th>"}for(var i0="",P9=f.cells||[],B9=0;B9<P9.length;B9++){var y9=P9[B9]||[];i0+="<tr>";for(var X9=0;X9<y9.length;X9++){var V9=w0[X9];i0+="<td"+(V9?` align="${V9}"`:"")+">"+Q9(y9[X9],O)+"</td>"}i0+="</tr>"}let Y0=E9("table",Y),t0=I9(g9("table",Y));return`<${Y0}${t0}><thead><tr>${F0}</tr></thead>${i0?`<tbody>${i0}</tbody>`:""}</${Y0}>`}case j.text:{var Y9=H.text||"";if(!Y9)return Y9;for(var G9=!1,M0=0,u0=Y9.length;M0<u0;){var n=Y9.charCodeAt(M0);if(n===R9||n===e||n===c||n===r0){G9=!0;break}M0++}if(!G9)return Y9;var N0="";M0=0;for(var p0=0;M0<u0;){var n=Y9.charCodeAt(M0),h0=null;n===R9?h0="&amp;":n===e?h0="&lt;":n===c?h0="&gt;":n===r0&&(h0="&quot;"),h0&&(M0>p0&&(N0+=Y9.slice(p0,M0)),N0+=h0,p0=M0+1),M0++}return p0<u0&&(N0+=Y9.slice(p0)),N0}case j.textFormatted:return I$(H.tag||"strong",H.children?Q9(H.children,O):"",Y);case j.orderedList:case j.unorderedList:{for(var T0="",m9=H.items||[],K9=0;K9<m9.length;K9++)T0+="<li>"+Q9(m9[K9],O)+"</li>";let f=H.type===j.orderedList?"ol":"ul",w0=H.type===j.orderedList&&H.start!=null&&H.start!==1?{start:H.start}:void 0;return I$(f,T0,Y,w0)}case j.paragraph:{var C9={...O,refs:{},wrapper:null};if(Z.forceInline)return H.children?Q9(H.children,C9):"";for(var T=H.children?Q9(H.children,C9):"",b9=!1,q9=0;q9<T.length-1;q9++)if(T.charCodeAt(q9)===N&&T.charCodeAt(q9+1)===x){b9=!0;break}if(b9){for(var N0="",M0=0,u0=T.length,d0=!1,M9=0;M0<u0;){var n=T.charCodeAt(M0);n===e?(d0=!0,M9=0):n===c?(d0=!1,M9=0):d0&&n===r0&&M9++,n===N&&M0+1<u0&&T.charCodeAt(M0+1)===x?(d0&&M9%2===1?N0+=` 
`:N0+=`
`,M0+=2):(N0+=T[M0],M0++)}T=N0}let w0=I9(g9("p",Y)),Y0=E9("p",Y);return`<${Y0}${w0}>${T}</${Y0}>`}default:return""}}function I(H,l={}){return!H||typeof H!="object"?"":Z.renderRule?Z.renderRule(()=>H.type===j.ref||H.type===j.refCollection||d$(H,!!Z.preserveFrontmatter)?"":z(H,l),H,D,l):H.type===j.ref||H.type===j.refCollection||d$(H,!!Z.preserveFrontmatter)?"":z(H,l)}var _="";if(Array.isArray($))for(var v=0;v<G.length;v++)_+=I(G[v],{key:v,refs:X});else _=I($,{refs:X});var k="";for(var W in X)if(W.charCodeAt(0)===W9){k||(k="<footer>");let l=W.slice(1),T=JZ(X[W].target,{inline:!0,refs:X},{...O,overrides:O.overrides,sanitizer:J,slugify:G0=>Q(G0,n0),tagfilter:O.tagfilter!==!1});for(var P=[],M=0;M<T.length;M++)T[M].type!==j.refCollection&&P.push(T[M]);let C=Q9(P,{...O,refs:{},forceInline:!0,wrapper:null});k+=`<div id="${U6(Q(l,n0))}">${e9(l)}: ${C}</div>`}if(k&&(k+="</footer>"),Z.wrapper===null)return _+k;let S=G.length>1,L=Z.wrapper!=null,w=L&&typeof Z.wrapper=="string";if(!(Z.forceWrapper||Z.forceInline&&L||S&&L))return _+k;var y=_;if((Z.forceInline||Z.forceWrapper&&w&&!Z.wrapperWasAutoSet)&&!S&&G.length===1&&G[0].type===j.paragraph){let H=G[0];H.children&&(y=Q9(H.children,{...O,refs:{},forceInline:!0,wrapper:null}))}let E=typeof Z.wrapper=="string"?Z.wrapper:Z.forceInline?"span":"div";var g="";if(Z.wrapperProps){var h={};for(var m in Z.wrapperProps){var u=Z.wrapperProps[m];if(u!=null){var k0=J(String(u),E,m);k0!==null&&(h[m]=k0)}}g=I9(h)}return`<${E}${g}>${y+k}</${E}>`}function NJ($,Z){let J=Z?.forceInline||!1,Q={...Z,overrides:Z?.overrides,sanitizer:Z?.sanitizer,slugify:Z?.slugify?F=>Z.slugify(F,n0):n0,tagfilter:Z?.tagfilter!==!1},X=p$($,{...Q,forceInline:J}),Y={...Z,forceInline:J};var V=!1;if(Z?.wrapper===void 0){for(var G=0,K=0;K<X.length;K++){var q=X[K];q.type!==j.refCollection&&q.type!==j.footnote&&q.type!==j.ref&&(q.type!==j.frontmatter||!Z?.preserveFrontmatter)&&G++}G>1||Z?.forceWrapper?(Y.wrapper="div",V=!0):J&&G>0&&(Y.wrapper="span",V=!0)}return Y.wrapperWasAutoSet=V,Q9(X,Y)}
