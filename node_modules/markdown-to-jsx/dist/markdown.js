var qZ=Object.defineProperty,FZ=($,Z)=>{for(var J in Z)qZ($,J,{get:Z[J],enumerable:!0,configurable:!0,set:V=>Z[J]=()=>V})},zZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},j=zZ,z6={};FZ(z6,{startsWith:()=>x$,slugify:()=>u9,skipWhitespace:()=>gZ,shouldFilterTag:()=>TZ,sanitizer:()=>H$,parseFrontmatterBounds:()=>m$,normalizeInput:()=>j$,isVoidElement:()=>b9,isUnicodeWhitespace:()=>LZ,isUnicodePunctuation:()=>SZ,isSpaceOrTabCode:()=>PZ,isDigitCode:()=>wZ,isAlphaCode:()=>bZ,isAlnumCode:()=>K6,isASCIIWhitespace:()=>IZ,isASCIIPunctuation:()=>NZ,inlineCharTypeTable:()=>_Z,htmlAttrsToJSXProps:()=>HZ,hasKeys:()=>EZ,getTag:()=>B$,getOverrideProps:()=>M$,get:()=>C$,findLineEnd:()=>kZ,extractPlainText:()=>F6,endsWith:()=>jZ,encodeUrlTarget:()=>hZ,decodeEntityReferences:()=>u$,cx:()=>xZ,containsTagfilterTag:()=>mZ,charClassTable:()=>q9,applyTagFilterToText:()=>uZ,VOID_ELEMENTS:()=>f$,SHOULD_RENDER_AS_BLOCK_R:()=>DZ,SANITIZE_R:()=>h$,NAMED_CODES_TO_UNICODE:()=>OZ,HTML_TO_JSX_MAP:()=>G6,HTML_CHAR_CODE_R:()=>Y6,CC_WHITESPACE:()=>I9,CC_SPACE_TAB:()=>U$,CC_PUNCTUATION:()=>P9,CC_NEWLINE:()=>T$,CC_DIGIT:()=>D$,CC_ALPHA_UPPER:()=>q6,CC_ALPHA:()=>V$,ATTRIBUTES_TO_SANITIZE:()=>BZ});import{NAMED_CODES_TO_UNICODE as WZ,decodeEntity as UZ}from"#entities";var I=32,P=9,Z9=13,g=10,e=96,_0=126,W0=91,J9=94,C=62,V9=35,$6=36,c9=37,p=45,C0=61,A0=92,O0=42,H0=95,K0=60,o9=64,p0=93,g0=33,F$=38,E0=58,S$=70,_9=102,r9=104,N9=119,z$=116,k$=112,Z6=115,J6=160,V6=12,g$=44,W$=59,T9=63,l0=46,j0=47,W9=39,K9=34,U9=43,I0=124,O9=123,J$=125,i0=40,a0=41,l9=30,E$=31,n=48,s=57,c=65,a=90,U0=97,D0=122,d0=128,Q9=32;function m$($){if(!x$($,"---"))return null;let Z=3;for(;Z<$.length&&($[Z]===" "||$[Z]==="	");)Z++;if(Z<$.length&&$[Z]==="\r"&&Z++,Z>=$.length||$[Z]!==`
`)return null;Z++;let J=!1;for(;Z<$.length;){let V=Z;for(;Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r";)Z++;if(Z>=$.length)break;let Q=Z;if($[Z]==="\r"&&Z++,Z<$.length&&$[Z]===`
`&&Z++,x$($,"---",V))return{endPos:Z,hasValidYaml:J};let X=$.indexOf(":",V);X!==-1&&X<Q&&(J=!0)}return null}var OZ=WZ,Y6=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,G6={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function HZ($){var Z={};for(var J in $){var V=J.toLowerCase(),Q=G6[V];if(Q)Z[Q]=$[J];else{var X=J.indexOf(":");X!==-1?Z[J.slice(0,X)+J[X+1].toUpperCase()+J.slice(X+2)]=$[J]:Z[J]=$[J]}}return Z}var DZ=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function u$($){return $.indexOf("&")===-1?$:$.replace(Y6,(Z,J)=>{var V=UZ(J);if(V)return V;if(J[0]==="#"){var Q=J[1]==="x"||J[1]==="X"?parseInt(J.slice(2),16):parseInt(J.slice(1),10);return Q===0||Q>=55296&&Q<=57343||Q>1114111?"\uFFFD":Q<=65535?String.fromCharCode(Q):String.fromCharCode(55296+(Q-65536>>10),56320+(Q-65536&1023))}return Z})}var h$=/(javascript|vbscript|data(?!:image)):/i;function H$($){if(h$.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(h$.test(Z))return null}catch{return null}return $}var T0={},c0,b0;for(c0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],b0=0;b0<c0.length;b0++)T0[c0[b0]]="a";for(T0[231]=T0[199]="c",T0[240]=T0[208]="d",c0=[200,201,202,203,233,232,234,235],b0=0;b0<c0.length;b0++)T0[c0[b0]]="e";for(c0=[207,239,206,238,205,237,204,236],b0=0;b0<c0.length;b0++)T0[c0[b0]]="i";for(T0[209]=T0[241]="n",c0=[248,216,339,338,213,245,212,244,211,243,210,242],b0=0;b0<c0.length;b0++)T0[c0[b0]]="o";for(c0=[220,252,219,251,218,250,217,249],b0=0;b0<c0.length;b0++)T0[c0[b0]]="u";T0[376]=T0[255]=T0[221]=T0[253]="y";function K6($){return $<d0&&(q9[$]&(V$|D$))!==0}function u9($){for(var Z=[],J=0;J<$.length;J++){var V=$.charCodeAt(J);if(K6(V))V>=c&&V<=a?Z.push(String.fromCharCode(V+Q9)):Z.push($[J]);else if(V===I||V===p)Z.push("-");else{var Q=T0[V];Q&&Z.push(Q)}}return Z.join("")}function x$($,Z,J){return $.startsWith(Z,J)}function jZ($,Z,J){return $.startsWith(Z,(J===void 0?$.length:J)-Z.length)}var f$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function b9($){let Z=$.toLowerCase();if(f$.has(Z))return!0;let J=Z.indexOf(":");return J!==-1?(Z=Z.slice(J+1),f$.has(Z)):!1}var BZ=["src","href","data","formAction","srcDoc","action"],I9=1,P9=2,V$=4,D$=8,T$=16,U$=32,q6=64,X6=1,MZ=2,AZ=3,vZ=4,q9=(function(){let $=new Uint8Array(128),Z;for($[P]=I9|U$,$[g]=I9|T$,$[V6]=I9,$[Z9]=I9|T$,$[I]=I9|U$,Z=g0;Z<=j0;Z++)$[Z]=P9;for(Z=E0;Z<=o9;Z++)$[Z]=P9;for(Z=W0;Z<=e;Z++)$[Z]=P9;for(Z=O9;Z<=_0;Z++)$[Z]=P9;for(Z=n;Z<=s;Z++)$[Z]=D$;for(Z=c;Z<=a;Z++)$[Z]=V$|q6;for(Z=U0;Z<=D0;Z++)$[Z]=V$;return $})(),_Z=(function(){let $=new Uint8Array(128);return $[A0]=MZ,$[W0]=vZ,$[O0]=$[H0]=$[_0]=$[C0]=AZ,$[e]=$[K0]=$[o9]=$[p0]=$[g]=$[I]=$[g0]=X6,$[_9]=$[r9]=$[N9]=X6,$})();function NZ($){return $<d0&&(q9[$]&P9)!==0}function IZ($){return $<d0&&(q9[$]&I9)!==0}function PZ($){return $<d0&&(q9[$]&U$)!==0}function bZ($){return $<d0&&(q9[$]&V$)!==0}function wZ($){return $<d0&&(q9[$]&D$)!==0}var RZ=/[\p{P}\p{S}]/u,yZ=/\p{Zs}/u;function LZ($){if(!$)return!0;let Z=$.charCodeAt(0);return Z<d0?(q9[Z]&I9)!==0:yZ.test($)}function SZ($){if(typeof $=="number")return $<d0&&(q9[$]&P9)!==0;if(!$)return!1;let Z=$.charCodeAt(0);return Z<d0?(q9[Z]&P9)!==0:RZ.test($)}function kZ($,Z){let J=$.indexOf(`
`,Z);return J===-1?$.length:J>0&&$.charCodeAt(J-1)===Z9?J-1:J}var m9=[];function j$($){var Z=$.indexOf("\r"),J=$.indexOf("\0");if(Z===-1&&J===-1)return $;var V=$.length;m9.length=0;var Q=0,X=0;for(Z===-1?X=J:J===-1?X=Z:X=Z<J?Z:J;X<V;X++){var Y=$.charCodeAt(X);Y===Z9?(Q<X&&m9.push($.slice(Q,X)),X+1<V&&$.charCodeAt(X+1)===g&&X++,m9.push(`
`),Q=X+1):Y===0&&(Q<X&&m9.push($.slice(Q,X)),m9.push("\uFFFD"),Q=X+1)}return Q<V&&m9.push($.slice(Q)),m9.join("")}function gZ($,Z,J){let V=J??$.length;for(;Z<V&&($[Z]===" "||$[Z]==="	");)Z++;return Z}function EZ($){if(!$)return!1;for(var Z in $)return!0;return!1}function C$($,Z,J){for(var V=$,Q=Z.split("."),X=0;X<Q.length&&(V=V?.[Q[X]],V!==void 0);)X++;return V||J}function hZ($){for(var Z=!1,J=0;J<$.length;J++){var V=$.charCodeAt(J);if(V<=I||V===K9||V===c9||V===K0||V===C||V===W0||V===A0||V===p0||V===J9||V===e||V>=123){Z=!0;break}}if(!Z)return $;for(var Q="",J=0;J<$.length;J++){var V=$.charCodeAt(J);if(V===c9&&J+2<$.length){var X=$.charCodeAt(J+1),Y=$.charCodeAt(J+2);if((X>=n&&X<=s||X>=c&&X<=S$||X>=U0&&X<=_9)&&(Y>=n&&Y<=s||Y>=c&&Y<=S$||Y>=U0&&Y<=_9)){Q+=$[J]+$[J+1]+$[J+2],J+=2;continue}}Q+=encodeURI($[J])}return Q}function xZ(...$){return $.filter(Boolean).join(" ")}function B$($,Z){if(!Z)return $;let J=C$(Z,$,void 0);return typeof J=="string"?J:typeof J=="object"&&J.component?J.component:$}function M$($,Z){if(!Z)return{};let J=C$(Z,$,void 0);return typeof J=="object"&&J.props?J.props:{}}function F6($,Z){for(var J="",V=0,Q=$.length;V<Q;V++){var X=$[V],Y=X.type;if(Y===Z.text||Y===Z.codeInline){var G=X.text;G&&(J+=G)}else Y===Z.textFormatted||Y===Z.link?X.children&&(J+=F6(X.children,Z)):Y===Z.image&&X.alt&&(J+=X.alt)}return J}var fZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),O$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function TZ($){return fZ.has($.toLowerCase())}function mZ($){return O$.lastIndex=0,O$.test($)}function uZ($){return O$.lastIndex=0,$.replace(O$,function(Z,J,V,Q){return"&lt;"+J+V+Q})}var uJ=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,CJ=/^<[A-Z]/,p$=["script","pre","style","textarea"],X$=new Set(p$),CZ=/<(?:pre|script|style|textarea)\b/i,pZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),v6=new Uint8Array(128);(function(){for(var $=[e,O0,H0,_0,C0,W0,g0,K0,A0,E$,r9,N9,_9],Z=0;Z<$.length;Z++)v6[$[Z]]=1})();var W6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function pJ($){return X$.has($)}function dJ($){return CZ.test($)}function _6($,Z,J){for(var V=Z,Q=J;V<Q&&($.charCodeAt(V)===I||$.charCodeAt(V)===P);)V++;if(V>=Q)return!1;$.charCodeAt(V)===I0&&V++;for(var X=0;V<Q;){for(;V<Q&&($.charCodeAt(V)===I||$.charCodeAt(V)===P);)V++;if(V>=Q)break;if($.charCodeAt(V)===I0&&X>0){for(var Y=V+1;Y<Q&&($.charCodeAt(Y)===I||$.charCodeAt(Y)===P);)Y++;if(Y>=Q)return!0}if($.charCodeAt(V)===E0&&V++,V>=Q||$.charCodeAt(V)!==p)return!1;for(;V<Q&&$.charCodeAt(V)===p;)V++;for(V<Q&&$.charCodeAt(V)===E0&&V++,X++;V<Q&&($.charCodeAt(V)===I||$.charCodeAt(V)===P);)V++;if(V<Q)if($.charCodeAt(V)===I0)V++;else return!1}return X>0}function H9($,Z){if($.charCodeAt(Z)!==K0)return null;let J=Z+1,V=$.length,Q=!1;$.charCodeAt(J)===j0&&(J++,Q=!0);let X=J,Y=$.charCodeAt(J);if(!(Y>=U0&&Y<=D0||Y>=c&&Y<=a))return null;for(;J<V&&($.charCodeAt(J)>=U0&&$.charCodeAt(J)<=D0||$.charCodeAt(J)>=c&&$.charCodeAt(J)<=a||$.charCodeAt(J)>=n&&$.charCodeAt(J)<=s||$.charCodeAt(J)===p);)J++;let G=$.slice(X,J);if(!G)return null;let K=J;for(;J<V&&($.charCodeAt(J)===I||$.charCodeAt(J)===P||$.charCodeAt(J)===g);)J++;let q=$.slice(K,J);if(J===K&&J<V){var F=$.charCodeAt(J);if(F!==C&&F!==j0)return null}let W=J,H={},O=!1;for(;J<V;){let L=$.charCodeAt(J);if(L===C){let y=$.slice(W,J);return{tag:G,attrs:H,selfClosing:!1,end:J+1,rawAttrs:y,whitespaceBeforeAttrs:q,isClosing:Q,hasSpaceBeforeSlash:O}}if(L===I||L===P||L===g){J++;continue}if(L===j0&&J+1<V&&$.charCodeAt(J+1)===C){let y=$.slice(W,J);return O=J>W&&$.charCodeAt(J-1)===I,{tag:G,attrs:H,selfClosing:!0,end:J+2,rawAttrs:y,whitespaceBeforeAttrs:q,isClosing:Q,hasSpaceBeforeSlash:O}}var B=J,U=$.charCodeAt(J);if(!(U>=U0&&U<=D0||U>=c&&U<=a||U===H0||U===E0))return null;for(J++;J<V;){var z=$.charCodeAt(J);if(z>=U0&&z<=D0||z>=c&&z<=a||z>=n&&z<=s||z===H0||z===l0||z===E0||z===p)J++;else break}for(var A=$.slice(B,J);J<V&&($.charCodeAt(J)===I||$.charCodeAt(J)===P);)J++;if($.charCodeAt(J)!==C0){H[A]="";continue}for(J++;J<V&&($.charCodeAt(J)===I||$.charCodeAt(J)===P);)J++;var v=$.charCodeAt(J);if(v===K9||v===W9){J++;for(var _=J;J<V&&$.charCodeAt(J)!==v;)J++;if(J>=V)return null;if(H[A]=$.slice(_,J),J++,J<V){var E=$.charCodeAt(J);if(E!==I&&E!==P&&E!==g&&E!==C&&E!==j0)return null}}else if(v===O9){var N=1,_=J;for(J++;J<V&&N>0;){var z=$.charCodeAt(J);z===O9?N++:z===J$&&N--,J++}H[A]=$.slice(_,J)}else{for(var _=J;J<V;){var M=$.charCodeAt(J);if(M===I||M===P||M===C||M===g||M===K9||M===W9||M===C0||M===K0||M===e)break;J++}if(J===_)return null;H[A]=$.slice(_,J)}}return null}function N6($,Z,J){for(var V=0,Q=$.length,X=!1;V<Q;){for(var Y=$.indexOf(`
`,V),G=Y<0?Q:Y,K=V,q=0;K<G&&q<4;)if($.charCodeAt(K)===I)q++,K++;else if($.charCodeAt(K)===P)q+=4,K++;else break;if(K>=G){X=!1,V=Y<0?Q:Y+1;continue}if(q<4){var F=$.charCodeAt(K);if(F===e||F===_0){for(var W=F,H=0,O=K;O<G&&$.charCodeAt(O)===W;)H++,O++;if(H>=3){X=!1;for(var B=Y<0?Q:Y+1;B<Q;){for(var U=B,z=0;U<Q&&z<4;){var A=$.charCodeAt(U);if(A===I)z++,U++;else if(A===P)z+=4,U++;else break}if(z<4&&U<Q&&$.charCodeAt(U)===W){for(var v=0;U<Q&&$.charCodeAt(U)===W;)v++,U++;if(v>=H){for(;U<Q&&($.charCodeAt(U)===I||$.charCodeAt(U)===P);)U++;if(U>=Q||$.charCodeAt(U)===g){V=U>=Q?Q:U+1;break}}}for(;B<Q&&$.charCodeAt(B)!==g;)B++;B<Q&&B++}B>=Q&&(V=Q);continue}}}for(var _=K;_<G&&$.charCodeAt(_)===C;){_++,_<G&&$.charCodeAt(_)===I&&_++;for(var E=0;_<G&&E<4;)if($.charCodeAt(_)===I)E++,_++;else if($.charCodeAt(_)===P)E+=4,_++;else break;if(E>=4)break;X=!1}if(!X&&q<4&&_<G&&$.charCodeAt(_)===W0&&!(_+1<Q&&$.charCodeAt(_+1)===J9)){var N=I6($,_,Z);if(N){V=N,X=!1;continue}}var M=$.charCodeAt(K);if(M===V9&&q<4)X=!1;else if(q<4&&(M===p||M===O0||M===H0)){for(var L=K,y=0;L<G;){var w=$.charCodeAt(L);if(w===M)y++;else if(w!==I&&w!==P)break;L++}X=!(y>=3&&L>=G)}else X=!0;V=Y<0?Q:Y+1}}function I6($,Z,J){let V=$.length;if($.charCodeAt(Z)!==W0)return null;let Q=Z+1<V&&$.charCodeAt(Z+1)===J9,X=Z+1;for(;X<V;){var Y=$.charCodeAt(X);if(Y===p0){X++;break}if(Y===W0)return null;Y===A0&&X+1<V&&X++,X++}if(X>V||$.charCodeAt(X-1)!==p0)return null;let G=$.slice(Z+1,X-1);if(G.length>999)return null;let K=A$(G);if(!K||X>=V||$.charCodeAt(X)!==E0)return null;X++;let q=!1;for(;X<V;){let k=$.charCodeAt(X);if(k===I||k===P)X++;else if(k===g&&!q)q=!0,X++;else break}if(Q){let k=$.indexOf(`
`,X),h=k<0?V:k,f=$.slice(X,h).trim();return J[K]={target:f,title:void 0},k<0?V:k+1}var F;if(X<V&&$.charCodeAt(X)===K0){X++;for(var W=X;X<V&&$.charCodeAt(X)!==C&&$.charCodeAt(X)!==g;)$.charCodeAt(X)===A0&&X+1<V&&X++,X++;if(X>=V||$.charCodeAt(X)!==C)return null;F=$.slice(W,X),X++;for(var H=$.indexOf(`
`,X),O=H<0?V:H,B=X;B<O&&($.charCodeAt(B)===I||$.charCodeAt(B)===P);)B++;if(B<O){if(B===X)return null;var U=$.charCodeAt(B);if(U!==K9&&U!==W9&&U!==i0)return null}}else{for(var W=X,z=0;X<V;){var Y=$.charCodeAt(X);if(Y===i0)z++;else if(Y===a0){if(z===0)break;z--}else{if(Y===I||Y===P||Y===g)break;Y===A0&&X+1<V&&X++}X++}if(F=$.slice(W,X),!F)return null}for(;X<V&&($.charCodeAt(X)===I||$.charCodeAt(X)===P);)X++;var A=$.indexOf(`
`,X),v=A<0?V:A,_,E=!1,N=X,M=X;if(X===v&&X<V)for(M=X+1;M<V&&($.charCodeAt(M)===I||$.charCodeAt(M)===P);)M++;if(M<V){var L=$.charCodeAt(M);if(L===K9||L===W9||L===i0){for(var y=L===i0?41:L,w=M+1,b=w;w<V;){var R=$.charCodeAt(w);if(R===y){for(var S=w+1;S<V&&($.charCodeAt(S)===I||$.charCodeAt(S)===P);)S++;(S>=V||$.charCodeAt(S)===g)&&(_=$.slice(b,w),E=!0,N=S<V?S+1:V);break}if(R===A0&&w+1<V){w+=2;continue}if(R===g&&w+1<V&&$.charCodeAt(w+1)===g)break;w++}if(!E&&M===X)return null}}if(E)return J[K]||(J[K]={target:a9(F),title:_!==void 0?a9(_):_}),N;for(;X<v&&($.charCodeAt(X)===I||$.charCodeAt(X)===P);)X++;return X<v?null:(J[K]||(J[K]={target:a9(F),title:_}),A<0?V:A+1)}var n9=1,P6=2,Z0=4,b6=8,dZ=16,X9=32,L9=64,d=new Uint8Array(128);d[I]=n9,d[P]=n9,d[g]=n9|P6,d[Z9]=n9|P6,d[V9]=X9|Z0,d[C]=X9|Z0,d[p]=X9|L9|Z0,d[U9]=X9|Z0,d[O0]=X9|L9|Z0,d[H0]=X9|L9|Z0,d[e]=X9|L9|Z0,d[_0]=X9|L9|Z0,d[K0]=X9|L9|Z0,d[W0]=L9|Z0,d[g0]=L9|Z0,d[I0]=X9|Z0;for(let $=n;$<=s;$++)d[$]=dZ|X9;for(let $=c;$<=a;$++)d[$]=b6;for(let $=U0;$<=D0;$++)d[$]=b6;d[A0]=Z0,d[p0]=Z0,d[i0]=Z0,d[a0]=Z0,d[E0]=Z0,d[K9]=Z0,d[W9]=Z0,d[F$]=Z0,d[C0]=Z0,d[$6]=Z0,d[c9]=Z0,d[g$]=Z0,d[l0]=Z0,d[j0]=Z0,d[W$]=Z0,d[T9]=Z0,d[o9]=Z0,d[J9]=Z0,d[O9]=Z0,d[J$]=Z0;function U6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var Z=0;Z<$.length;Z++){if($.charCodeAt(Z)===A0){Z++;continue}if($.charCodeAt(Z)===W0||$.charCodeAt(Z)===p0)return!0}return!1}function A$($){var Z=$.replace(/\s+/g," ").trim();return Z.indexOf("\u1E9E")!==-1?Z.replace(/\u1E9E/g,"ss").toLowerCase():Z.toLowerCase()}function o$($){return $<d0?d[$]:$===J6?n9:0}function a9($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function Q0($,Z){var J=$.indexOf(`
`,Z);return J<0?$.length:J}function l($,Z){let J=Q0($,Z);return J<$.length?J+1:J}function Q$($,Z,J){for(;Z<J;){let V=$.charCodeAt(Z);if(V!==I&&V!==P)break;Z++}return Z}function O6($,Z){let J=l($,Z);for(;J<$.length;){let V=Q0($,J);if(n0($,J,V))return J;J=l($,J)}return $.length}function B9($,Z,J,V){let Q=0;for(;Z+Q<J&&$.charCodeAt(Z+Q)===V;)Q++;return Q}var V0=0,$0=0;function v0($,Z,J){for(V0=0,$0=0;Z+$0<J;){let V=$.charCodeAt(Z+$0);if(V===P)V0+=4-V0%4;else if(V===I)V0++;else break;$0++}}function n0($,Z,J){return Q$($,Z,J)>=J}function w6($,Z,J,V){let Q=Q0($,Z);if(v0($,Z,Q),V0>3)return null;let X=Z+$0;if($.charCodeAt(X)!==V9)return null;let Y=B9($,X,Q,35);if(Y<1||Y>6||(X+=Y,X<Q&&$.charCodeAt(X)!==I&&$.charCodeAt(X)!==P))return null;X=Q$($,X,Q);for(var G=Q;G>X&&$.charCodeAt(G-1)===I;)G--;for(var K=G;G>X&&$.charCodeAt(G-1)===V9;)G--;if(G<K)if(G===X||$.charCodeAt(G-1)===I)for(;G>X&&$.charCodeAt(G-1)===I;)G--;else G=K;let q=$.slice(X,G),F=m0(q,0,q.length,J,V),H=(V?.slugify||u9)(q);return{node:{type:j.heading,level:Y,children:F,id:H},end:l($,Q)}}function y9($,Z){let J=Q0($,Z);if(v0($,Z,J),V0>3)return null;let V=Z+$0,Q=$.charCodeAt(V);if(Q!==p&&Q!==O0&&Q!==H0)return null;let X=0;for(;V<J;){let Y=$.charCodeAt(V);if(Y===Q)X++;else if(Y!==I&&Y!==P)return null;V++}return X<3?null:{node:{type:j.breakThematic},end:l($,J)}}function cZ($,Z,J){let V=Q0($,Z);if(v0($,Z,V),V0>3)return null;let Q=V0,X=$0,Y=Z+$0,G=$.charCodeAt(Y);if(G!==e&&G!==_0)return null;let K=B9($,Y,V,G);if(K<3)return null;Y+=K;let q=Q$($,Y,V),F=V;if(G===e){for(let w=q;w<V;w++)if($.charCodeAt(w)===e)return null}for(;F>q&&($.charCodeAt(F-1)===I||$.charCodeAt(F-1)===P);)F--;let W=$.slice(q,F),H="",O="",B=W.indexOf(" ");B===-1?H=W:(H=W.slice(0,B),O=W.slice(B+1).trim()),H=a9(H);var U=void 0;if(O){W6.lastIndex=0;for(var z;(z=W6.exec(O))!==null;)U||(U={}),U[z[1]]=z[2]!==void 0?z[2]:z[3]}let A=l($,V),v=A,_=$.length;for(;v<$.length;){let w=Q0($,v);if(v0($,v,w),V0<4){let b=v+$0;var E=B9($,b,w,G);if(E>=K){let R=b+E;if(n0($,R,w)){_=l($,w);break}}}v=l($,w)}var N;if(Q===0)N=v>A&&$.charCodeAt(v-1)===g?$.slice(A,v-1):$.slice(A,v);else{N="";for(var M=A;M<v;){var L=Q0($,M);v0($,M,L);var y=Math.min($0,Q);N+=$.slice(M+y,L)+`
`,M=l($,L)}N.length>0&&N.charCodeAt(N.length-1)===g&&(N=N.slice(0,-1))}return{node:{type:j.codeBlock,lang:H||void 0,text:N,infoString:O||void 0,attrs:U},end:_}}function oZ($,Z){let J=Q0($,Z);if(v0($,Z,J),V0<4)return null;let V="",Q=Z;for(;Q<$.length;){let O=Q0($,Q);if(v0($,Q,O),n0($,Q,O)){for(var X=0,Y=l($,O);Y<$.length;){var G=Q0($,Y);if(n0($,Y,G)){X++,Y=l($,G);continue}if(v0($,Y,G),V0>=4){for(var K=0;K<=X;K++)V+=`
`;Q=Y;break}break}if(Q!==Y)break;continue}if(V0<4)break;let B=0,U=0;var q=0;for(let z=Q;z<O&&U<4;z++){if($.charCodeAt(z)===P){var F=4-U%4;U+F>4&&(q=U+F-4),U+=F}else U++;B++}var W="";if(q>0)for(var H=0;H<q;H++)W+=" ";W+=$.slice(Q+B,O),V+=W+`
`,Q=l($,O)}for(;V.length>0&&V.charCodeAt(V.length-1)===g;)V=V.slice(0,-1);for(;V.length>0&&V.charCodeAt(V.length-1)===g;)V=V.slice(0,-1);return V?{node:{type:j.codeBlock,text:V},end:Q}:null}function rZ($,Z,J,V){let Q=Q0($,Z);if(v0($,Z,Q),V0>3)return null;let X=Z+$0;if($.charCodeAt(X)!==C)return null;let Y="",G=Z,K,q=!1,F=!1,W=!1;for(;G<$.length;){let T=Q0($,G);v0($,G,T);let w0=G+$0;if($.charCodeAt(w0)===C){let m=w0+1;var H=V0+1,O=!1;if(m<T){var B=$.charCodeAt(m);B===I?(m++,H++,O=!0):B===P&&(O=!0)}for(var U="",z=!1,A=m;A<T;A++)if($.charCodeAt(A)===P){z=!0;break}if(z){var v=H;if(O&&m<T&&$.charCodeAt(m)===P){for(var _=4-v%4,E=0;E<_-1;E++)U+=" ";v+=_,m++}for(var N=m;N<T;N++)if($.charCodeAt(N)===P){for(var M=4-v%4,L=0;L<M;L++)U+=" ";v+=M}else U+=$[N],v++}else U=$.slice(m,T);if(!Y&&!K){let q0=U.match(/^\[!([A-Z]+)\]\s*$/);if(q0){K=q0[1],G=l($,T);continue}}Y+=U+`
`;var y=U.trimStart();y.startsWith("```")||y.startsWith("~~~")?W=!W:U.startsWith("    ")||U.startsWith("	")?W=!0:y.length>0&&!W&&(W=!1),F=y.length>0,G=l($,T)}else if(Y&&!n0($,G,T)&&F){if(V0<4){var w=G+$0,b=w<T?$.charCodeAt(w):0;if(b===V9||b===C||b===e||b===_0||b===K0||(b===p||b===O0||b===H0)&&y9($,G)||(b===p||b===O0||b===U9)&&w+1<T&&($.charCodeAt(w+1)===I||$.charCodeAt(w+1)===P))break;if(b>=n&&b<=s){for(var R=w;R<T&&$.charCodeAt(R)>=n&&$.charCodeAt(R)<=s;)R++;if(R<T&&($.charCodeAt(R)===l0||$.charCodeAt(R)===a0))break}}if(W)break;Y+=$.slice(G,T)+`
`,q=!0,G=l($,T)}else break}if(!Y&&!K)return null;var{inBlockQuote:S,f:k}=J;J.inBlockQuote=!0,q&&(J.f=!0);let h=j9(Y||"",J,V);J.inBlockQuote=S,J.f=k;let f={type:j.blockQuote,children:h};return K&&(f.alert=K),{node:f,end:G}}function R6($,Z,J){for(var V=0,Q=Z;Q<J;Q++)$.charCodeAt(Q)===P?V+=4-V%4:V++;return V}function w9($,Z,J){if(v0($,Z,J),V0>3)return null;var V=Z+$0;if(V>=J)return null;var Q=$.charCodeAt(V),X=V0,Y=V;if(Q===p||Q===O0||Q===U9){if(Y=V+1,Y<J&&$.charCodeAt(Y)!==I&&$.charCodeAt(Y)!==P&&$.charCodeAt(Y)!==g)return null}else if(Q>=n&&Q<=s){for(var G=V;G<J&&G-V<9;){var K=$.charCodeAt(G);if(K<n||K>s)break;G++}if(G>V&&G<J){var q=$.charCodeAt(G);if(q===l0||q===a0){if(Y=G+1,Y<J&&$.charCodeAt(Y)!==I&&$.charCodeAt(Y)!==P&&$.charCodeAt(Y)!==g)return null}else return null}else return null}else return null;var F=Y,W=R6($,Z,Y),H=0,O=F,B=W;if(F>=J)return{ordered:Q>=n&&Q<=s,marker:Q>=n&&Q<=s?$[G]:$[V],start:Q>=n&&Q<=s?parseInt($.slice(V,G),10):void 0,contentStart:F,contentCol:W+1,markerCol:X,isEmpty:!0};for(;O<J&&($.charCodeAt(O)===I||$.charCodeAt(O)===P);){if($.charCodeAt(O)===P){var U=4-B%4;B+=U}else B++;O++,H++}var z=O>=J,A=B-W;return z||A>4?(B=W+1,O=F+1,H=1):H===0&&(B=W+1,O=F,H=1),{ordered:Q>=n&&Q<=s,marker:Q>=n&&Q<=s?$[G]:$[V],start:Q>=n&&Q<=s?parseInt($.slice(V,G),10):void 0,contentStart:O,contentCol:B,markerCol:X,isEmpty:z}}var v$=0;function lZ($,Z,J,V){var Q=0,X=Z;for(v$=0;X<J&&Q<V;){var Y=$.charCodeAt(X);if(Y===P){var G=4-Q%4;if(Q+G>V){v$=Q+G-V,X++,Q=V;break}Q+=G}else if(Y===I)Q++;else break;X++}return X}function H6($,Z,J,V){var Q=Q0($,Z),X=w9($,Z,Q);if(!X)return null;var Y=[],G=Z,K=X.contentCol,q="",F=X.isEmpty,W=!1,H=!1;if(!X.isEmpty){for(var O=!1,B=X.contentStart;B<Q;B++)if($.charCodeAt(B)===P){O=!0;break}if(O){var U="",z=R6($,Z,X.contentStart),A=z-X.contentCol;if(A>0)for(var v=0;v<A;v++)U+=" ";for(var _=X.contentStart;_<Q;_++)if($.charCodeAt(_)===P){for(var E=4-z%4,N=0;N<E;N++)U+=" ";z+=E}else U+=$[_],z++;q=U+`
`}else q=$.slice(X.contentStart,Q)+`
`}for(G=l($,Q);G<$.length;){var M=Q0($,G);v0($,G,M);var L=$.charCodeAt(G+$0);if(V0<K&&(L===p||L===O0||L===H0)&&V0<=3&&y9($,G))break;var y=w9($,G,M);if(y&&y.ordered===X.ordered&&y.marker===X.marker&&y.markerCol<K){Y.push({contentCol:K,raw:q,hasBlankAfter:W,isEmpty:F}),W&&(H=!0),K=y.contentCol,F=y.isEmpty,W=!1,q=y.isEmpty?"":$.slice(y.contentStart,M)+`
`,G=l($,M);continue}if(n0($,G,M)){q+=`
`,G=l($,M);for(var w=!1,b=0;b<q.length;b++){var R=q.charCodeAt(b);if(R!==g&&R!==Z9&&R!==I&&R!==P){w=!0;break}}if(F&&!w)if(G<$.length){var S=Q0($,G),k=w9($,G,S);if(!k||k.ordered!==X.ordered||k.marker!==X.marker)break;W=!0}else break;if(G<$.length){var h=Q0($,G);v0($,G,h);var f=$.charCodeAt(G+$0);if((f===p||f===O0||f===H0)&&V0<=3&&y9($,G))break;var T=w9($,G,h);if(T&&T.ordered===X.ordered&&T.marker===X.marker&&T.markerCol<K){W=!0;continue}if(!n0($,G,h)&&V0<K)break}continue}if(V0>=K){var w0=lZ($,G,M,K);if(v$>0){for(var m="",q0=K,z0=0;z0<v$;z0++)m+=" ",q0++;for(var o=w0;o<M;o++)if($.charCodeAt(o)===P){for(var N0=4-q0%4,F0=0;F0<N0;F0++)m+=" ";q0+=N0}else m+=$[o],q0++;q+=m+`
`}else q+=$.slice(w0,M)+`
`;G=l($,M);continue}for(var P0=!1,J0=0;J0<q.length;J0++){var B0=q.charCodeAt(J0);if(B0!==g&&B0!==Z9&&B0!==I&&B0!==P){P0=!0;break}}if(!W&&P0&&!F){var X0=G+$0,i=$.charCodeAt(X0),u=i===V9||i===C||i===K0||i===e||i===_0||(i===p||i===O0||i===H0||i===U9)&&(y9($,G)!==null||w9($,G,M)!==null)||i>=n&&i<=s&&w9($,G,M)!==null;if(!u){q+=""+$.slice(X0,M)+`
`,G=l($,M);continue}}break}if(Y.push({contentCol:K,raw:q,hasBlankAfter:W,isEmpty:F}),Y.length===0)return null;var M0=H;if(!M0)for(var L0=0;L0<Y.length;L0++){if(Y[L0].hasBlankAfter&&L0<Y.length-1){M0=!0;break}if(!Y[L0].isEmpty){for(var D=Y[L0].raw,x=D.length,Y0=0,R0=!1,t=!1,y0=!1,r=!1,h0=0,x0=0,u0=-1;Y0<x;){var G0=D.indexOf(`
`,Y0);if(G0<0&&(G0=x),r){v0(D,Y0,G0);for(var S9=D.slice(Y0+$0,G0),k9=0;k9<S9.length&&S9.charCodeAt(k9)===h0;)k9++;k9>=x0&&S9.slice(k9).trim()===""&&(r=!1),Y0=G0<x?G0+1:x;continue}if(n0(D,Y0,G0)){u0>=0?y0=!0:R0&&(t=!0),Y0=G0<x?G0+1:x;continue}if(v0(D,Y0,G0),u0>=0){if(V0>=u0){Y0=G0<x?G0+1:x;continue}var g9=w9(D,Y0,G0);if(g9&&g9.markerCol<u0&&g9.contentCol<=u0){Y0=G0<x?G0+1:x;continue}if(g9){Y0=G0<x?G0+1:x;continue}u0=-1,y0&&(t=!0,y0=!1)}var Y9=D.slice(Y0+$0,G0),E9=Y9.charCodeAt(0);if((E9===e||E9===_0)&&V0<=3){for(var M9=0;M9<Y9.length&&Y9.charCodeAt(M9)===E9;)M9++;if(M9>=3){if(t&&R0){M0=!0;break}r=!0,h0=E9,x0=M9,R0=!0,Y0=G0<x?G0+1:x;continue}}var p9=V0<=3?w9(D,Y0,G0):null;if(p9&&R0){if(t){M0=!0;break}u0=p9.contentCol,y0=!1,Y0=G0<x?G0+1:x,R0=!0;continue}if(t){M0=!0;break}R0=!0,Y0=G0<x?G0+1:x}if(M0)break}}for(var F9=[],s9=0;s9<Y.length;s9++){for(var G9=Y[s9],s0=G9.raw,$9=s0.length;$9>0&&s0.charCodeAt($9-1)===g;)$9--;var f0=$9<s0.length?s0.slice(0,$9):s0,t0=null;if(f0.length>=3&&f0.charCodeAt(0)===W0){var o0=f0[1];(o0===" "||o0==="x"||o0==="X")&&f0.charCodeAt(2)===p0&&(t0={type:j.gfmTask,completed:o0==="x"||o0==="X"},f0=f0.slice(3))}var S0;if(G9.isEmpty&&f0.trim()==="")S0=[];else if(M0){var t9=J.inList;J.inList=!0,S0=j9(f0,J,V),J.inList=t9}else{var z9=J.inList;if(J.inList=!0,S0=j9(f0,J,V),J.inList=z9,S0.length===1&&S0[0].type===j.paragraph)S0=S0[0].children;else{for(var e9=[],h9=0;h9<S0.length;h9++)if(S0[h9].type===j.paragraph)for(var A9=S0[h9].children,e0=0;e0<A9.length;e0++)e9.push(A9[e0]);else e9.push(S0[h9]);S0=e9}}t0?F9.push([t0,{type:j.text,text:" "},...S0]):F9.push(S0)}return{node:{type:X.ordered?j.orderedList:j.unorderedList,start:X.ordered?X.start:void 0,items:F9},end:G}}var _$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function R9($,Z,J){let V={};for(let[Y,G]of Object.entries($)){let K=Y,q=Y.toLowerCase();if(q==="style"&&typeof G=="string"){let F={},W=[],H=0,O=0;for(let U=0;U<G.length;U++){let z=G.charCodeAt(U);z===i0?H++:z===a0?H--:z===W$&&H===0&&(W.push(G.slice(O,U)),O=U+1)}O<G.length&&W.push(G.slice(O));let B=!1;W.forEach(U=>{let z=U.indexOf(":");if(z===-1)return;let A=U.slice(0,z).trim(),v=U.slice(z+1).trim();if(A&&v){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(v)){B=!0;return}let _=A.indexOf("-")!==-1?A.replace(/-([a-z])/g,(E,N)=>N.toUpperCase()):A;F[_]=v}}),!B&&Object.keys(F).length>0&&(V[K]=F)}else if((q==="href"||q==="src")&&J?.sanitizer){let F=J.sanitizer(G,Z,q);F!==null&&(V[K]=F)}else if(G==="")V[K]=!0;else if(G.length>=2&&G.charCodeAt(0)===O9&&G.charCodeAt(G.length-1)===J$){var Q=G.slice(1,-1);if(Q.length>0){var X=Q.charCodeAt(0);if(X===W0||X===O9)try{V[K]=JSON.parse(Q);continue}catch{}}if(Q==="true"){V[K]=!0;continue}if(Q==="false"){V[K]=!1;continue}if(J?.evalUnserializableExpressions)try{V[K]=(0,eval)("("+Q+")");continue}catch{}V[K]=Q}else V[K]=G}return V}function D9($,Z,J){let V=Z.length;var Q=Z.charCodeAt(0);Q>=c&&Q<=a&&(Q+=Q9);for(let Y=J;Y<=$.length-V;Y++){var X=$.charCodeAt(Y);if(X>=c&&X<=a&&(X+=Q9),X!==Q)continue;let G=!0;for(let K=1;K<V;K++){let q=$.charCodeAt(Y+K),F=Z.charCodeAt(K);if(q>=c&&q<=a&&(q+=Q9),F>=c&&F<=a&&(F+=Q9),q!==F){G=!1;break}}if(G)return Y}return-1}function iZ($,Z,J){let V=Z.length;var Q=Z.charCodeAt(0);Q>=c&&Q<=a&&(Q+=Q9);for(let Y=Math.min(J,$.length-V);Y>=0;Y--){var X=$.charCodeAt(Y);if(X>=c&&X<=a&&(X+=Q9),X!==Q)continue;let G=!0;for(let K=1;K<V;K++){let q=$.charCodeAt(Y+K),F=Z.charCodeAt(K);if(q>=c&&q<=a&&(q+=Q9),F>=c&&F<=a&&(F+=Q9),q!==F){G=!1;break}}if(G)return Y}return-1}var d$=-1;function y6($,Z,J){let V=J.toLowerCase(),Q="<"+V,X="</"+V,Y=1,G=Z,K=$.length;for(d$=-1;G<K&&Y>0;){let W=D9($,Q,G),H=D9($,X,G);if(H===-1)return-1;if(W!==-1&&W<H){let O=H9($,W);O?(O.tag.toLowerCase()===V&&!O.isClosing&&!O.selfClosing&&!b9(O.tag)&&Y++,G=O.end):G=W+1}else{var q=H+X.length,F=q<K?$.charCodeAt(q):62;if((F===C||F===I||F===P||F===g)&&(Y--,Y===0)){d$=H;let O=H+X.length;for(;O<K&&$.charCodeAt(O)!==C;)O++;return O+1}G=H+1}}return-1}function L6($,Z,J,V){if(V.ignoreHTMLBlocks||V.disableParsingRawHTML)return null;var Q=Q0($,Z);if(v0($,Z,Q),V0>3&&!J.inHTML)return null;var X=Z+$0;if($.charCodeAt(X)!==K0)return null;var Y=$.indexOf(">",X+1);if(Y!==-1&&Y<Q){var G=$.slice(X+1,Y);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(G)||/^[^\s@]+@[^\s@]+$/.test(G))return null}var K=aZ($,X);if(K>=1&&K<=5){var q=$.length;if(K===1){for(var F=$.length,W=0;W<p$.length;W++){var H=D9($,"</"+p$[W]+">",X);H>=0&&H<F&&(F=H)}if(F<$.length){var O=$.indexOf(">",F);q=O>=0?l($,O+1):$.length}}else{var B=K===2?"-->":K===3?"?>":K===4?">":"]]>",U=$.indexOf(B,X);U>=0&&(q=l($,U+B.length))}var z=$.slice(X,q);if(K>=2)return{node:{type:j.htmlComment,text:z,raw:!0,endPos:q},end:q};var A="div",v=z.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);v&&(A=v[1]);var _=H9($,X),E={},N;_&&!_.isClosing&&(E=R9(_.attrs,A,V),N=_.whitespaceBeforeAttrs+_.rawAttrs);var M=[],L=A.toLowerCase(),y="</"+L,w=D9(z,y,0),b=z,R="";if(_&&_.isClosing)for(b=z.slice(_.end-X);b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);else if(_&&!_.isClosing){var S=_.end-X;if(w!==-1)for(b=z.slice(S),b.charCodeAt(0)===g&&(b=b.slice(1));b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);else for(b=z;b.length>0&&b.charCodeAt(b.length-1)===g;)b=b.slice(0,-1);if(w!==-1){var k=z.slice(S,w);if(R=k.trim(),R){var{inline:h,inHTML:f}=J;J.inline=!0,J.inHTML=!0,M=m0(R,0,R.length,J,V),J.inline=h,J.inHTML=f}}}var T=_?_.isClosing:!1;return{node:{type:j.htmlBlock,tag:A,attrs:E,e:N,children:M,a:b,text:R,c:!0,d:T,endPos:q,canInterruptParagraph:!0},end:q}}if(K===6||K===7){var w0=O6($,Z),m=w0<$.length?w0:$.length,q0=$.slice(X,m),z0=w0<$.length?l($,w0):$.length,o=H9($,X);if(o){var N0=o.tag,F0=N0.toLowerCase(),P0=o.isClosing;if(P0){var J0=$.slice(o.end,m);return{node:{type:j.htmlBlock,tag:N0,attrs:{},children:[],a:J0,text:J0,c:!0,d:!0,endPos:m,canInterruptParagraph:K===6},end:z0}}var B0=J.b||0,X0=$.slice(X,m),i=-1,u=-1;if(!o.selfClosing&&!b9(N0)&&B0<10){for(var M0="</"+F0,L0=o.end-X,D=1,x=L0;x<X0.length&&D>0;){var Y0=D9(X0,"<"+F0,x),R0=D9(X0,M0,x);if(R0===-1)break;if(Y0!==-1&&Y0<R0){var t=Y0+F0.length+1;if(t<X0.length){var y0=X0.charCodeAt(t);(y0===I||y0===P||y0===g||y0===C||y0===j0)&&D++}x=Y0+1}else{var r=R0+M0.length;if(r<X0.length){var h0=X0.charCodeAt(r);if((h0===C||h0===I||h0===P||h0===g)&&(D--,D===0)){i=R0;for(var x0=r;x0<X0.length&&X0.charCodeAt(x0)!==C;)x0++;u=x0+1;break}}else if(D--,D===0){i=R0,u=X0.length;break}x=R0+1}}var u0=!1;if(i===-1&&K===6&&!o.isClosing&&!pZ.has(F0)){var G0=$.slice(o.end),S9=D9(G0,M0,0);if(S9!==-1){var k9=G0.slice(0,S9);if(k9.indexOf(`

`)!==-1){for(var g9=o.end+S9,Y9=g9+M0.length;Y9<$.length&&$.charCodeAt(Y9)!==C;)Y9++;if(Y9<$.length&&$.charCodeAt(Y9)===C){var E9=Y9+1,M9=Q0($,E9);m=M9,z0=l($,M9),X0=$.slice(X,m),q0=$.slice(X,m),i=g9-X,u=E9-X,u0=!0}}}}}var p9=o.rawAttrs.indexOf(`
`)!==-1||o.whitespaceBeforeAttrs.indexOf(`
`)!==-1,F9=!1;if(i!==-1){var s9=X0.slice(u).trim();F9=s9.length===0}var G9=!1,s0=m,$9=z0;if(i!==-1){var f0=X+u,t0=Q0($,f0-1);if(f0<t0){for(var o0=f0;o0<t0&&($.charCodeAt(o0)===I||$.charCodeAt(o0)===P);)o0++;if(o0<t0&&$.charCodeAt(o0)===K0){var S0=H9($,o0);S0&&!S0.isClosing&&(G9=!0,s0=f0,$9=f0,F9=!0)}}if(!G9){var t9=l($,t0);if(t9<m){for(var z9=t9;z9<m&&($.charCodeAt(z9)===I||$.charCodeAt(z9)===P);)z9++;if(z9<m&&$.charCodeAt(z9)===K0){var e9=H9($,z9);e9&&(G9=!0,s0=t0,$9=t9,F9=!0)}}}if(!G9&&J.inHTML){G9=!0,s0=t0,$9=l($,t0);var h9=$.slice(f0,t0).trim();F9=h9.length===0}}var A9=[],e0="";if(i!==-1){e0=X0.slice(o.end-X,i);var x9=e0.trim();if(x9){var{inline:f6,inHTML:T6,b:m6}=J;J.inHTML=!0,J.b=B0+1;var u6=F0==="p";if(u6)J.inline=!0,A9=m0(x9,0,x9.length,J,V);else{var C6=e0.indexOf(`

`)!==-1,p6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(x9),l$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(x9),d6=C6||p6||J.inHTML&&l$;d6||l$?(J.inline=!1,A9=j9(e0,J,V)):(J.inline=!0,A9=m0(x9,0,x9.length,J,V))}J.inline=f6,J.inHTML=T6,J.b=m6}}var i$=!1;if(K===6&&i!==-1&&!J.inHTML&&!p9){var P$=e0,c6=/<[a-zA-Z][^>]*>/.test(P$),o6=/\n\n/.test(P$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(P$);c6&&!o6&&(i$=!0)}var r6=J.inHTML||K===7||p9||!F9||i$;if(r6){var r0;if(i!==-1&&G9){var a$=!1;if(J.inHTML&&u<X0.length){for(var Y$=u;Y$<X0.length&&X0.charCodeAt(Y$)!==g;)Y$++;var b$=X0.slice(u,Y$).trim();a$=b$.length>1&&b$.charCodeAt(0)===K0&&b$.charCodeAt(1)!==j0}r0=a$?X0.slice(o.end-X):e0}else(K===7||J.inHTML)&&i!==-1?(r0=X0.slice(o.end-X),r0.charCodeAt(0)===g&&(r0=r0.slice(1))):G9?r0=$.slice(X,s0):p9?r0=q0:(r0=X0.slice(o.end-X),r0.charCodeAt(0)===g&&(r0=r0.slice(1)));return{node:{type:j.htmlBlock,tag:N0,attrs:R9(o.attrs,N0,V),e:o.whitespaceBeforeAttrs+o.rawAttrs,children:A9,a:r0,text:r0,c:!0,d:!1,endPos:s0,canInterruptParagraph:K===6},end:$9}}return{node:{type:j.htmlBlock,tag:N0,attrs:R9(o.attrs,N0,V),e:o.whitespaceBeforeAttrs+o.rawAttrs,children:A9,a:u0?"":e0,text:e0,c:!1,d:!1,endPos:s0,canInterruptParagraph:K===6},end:$9}}var G$=q0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),l6=G$?G$[2]:"div",n$=G$?G$[1]==="/":!1,w$=q0;if(n$){var s$=q0.indexOf(">");s$!==-1&&(w$=q0.slice(s$+1))}return{node:{type:j.htmlBlock,tag:l6,attrs:{},children:[],a:w$,text:w$,c:!0,d:n$,endPos:m,canInterruptParagraph:K===6},end:z0}}var k0=H9($,X);if(!k0)return null;var v9=k0.tag,R$=v9.toLowerCase(),t$=v9.charCodeAt(0),K$=t$>=c&&t$<=a;if(!K$&&!_$.has(R$)&&!X$.has(R$)&&!R$.includes("-"))return null;if(k0.isClosing)return{node:{type:j.htmlSelfClosing,tag:v9,attrs:{},endPos:k0.end,d:!0,a:$.slice(X,k0.end)},end:k0.end};var hJ=!0,f9=y6($,k0.end,v9),$$=[];if(f9!==-1){var i6=d$,q$=$.slice(k0.end,i6),Z$=q$.trim();if(Z$){var a6=q$.indexOf(`

`)!==-1,n6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(Z$),s6=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(Z$),t6=J.inline,e6=J.inHTML,$Z=J.b;J.inHTML=!0,J.b=(J.b||0)+1,a6||n6||s6?(J.inline=!1,$$=j9(q$,J,V)):(J.inline=!0,$$=m0(Z$,0,Z$.length,J,V)),J.inline=t6,J.inHTML=e6,J.b=$Z}var ZZ=Q0($,f9),JZ=$.slice(f9,ZZ).trim(),y$=JZ?f9:l($,f9),e$=K$?$.slice(X,f9):$.slice(X,y$),VZ=K$?f9:y$;return{node:{type:j.htmlBlock,tag:v9,attrs:R9(k0.attrs,v9,V),e:k0.whitespaceBeforeAttrs+k0.rawAttrs,children:$$,a:e$,text:K$?q$:e$,c:!0,d:!1,endPos:VZ,canInterruptParagraph:!1},end:y$}}var d9=O6($,k0.end),QZ=d9<$.length?l($,d9):d9,L$=$.slice(k0.end,d9);if(L$.trim()){var{inline:XZ,inHTML:YZ,b:GZ}=J;J.inline=!1,J.inHTML=!0,J.b=(J.b||0)+1,$$=j9(L$,J,V),J.inline=XZ,J.inHTML=YZ,J.b=GZ}var KZ=$.slice(k0.end,d9);return{node:{type:j.htmlBlock,tag:v9,attrs:R9(k0.attrs,v9,V),e:k0.whitespaceBeforeAttrs+k0.rawAttrs,children:$$,a:KZ,text:L$,c:!0,d:!1,endPos:d9,canInterruptParagraph:!1},end:QZ}}function aZ($,Z){if($.charCodeAt(Z)!==K0)return 0;var J=Z+1,V=$.length;if($.charCodeAt(J)===g0&&$.charCodeAt(J+1)===p&&$.charCodeAt(J+2)===p)return 2;if($.charCodeAt(J)===T9)return 3;if($.charCodeAt(J)===g0){var Q=$.charCodeAt(J+1);if(Q>=c&&Q<=a)return 4;if($.slice(J+1,J+8)==="[CDATA[")return 5}for(var X=$.charCodeAt(J)===j0,Y=X?J+1:J,G=Y;G<V;){var K=$.charCodeAt(G);if(K>=c&&K<=a||K>=U0&&K<=D0||K>=n&&K<=s||K===p)G++;else break}if(G===Y)return 0;var q=$.slice(Y,G);if(X$.has(q.toLowerCase())){if(X)return 0;var F=$.charCodeAt(G);return F===I||F===P||F===C||F===g||G>=V?1:0}if(_$.has(q.toLowerCase())){if(X){for(var W=G;W<V&&($.charCodeAt(W)===I||$.charCodeAt(W)===P);)W++;return W<V&&$.charCodeAt(W)===C?6:0}var H=G<V?$.charCodeAt(G):-1;return H===I||H===P||H===C||H===g||H===j0||H===-1?6:0}if(X){for(var z=G;z<V&&($.charCodeAt(z)===I||$.charCodeAt(z)===P);)z++;if(z<V&&$.charCodeAt(z)===C){var A=Q0($,Z),v=$.slice(z+1,A).trim();if(v==="")return 7}}else{var O=Q0($,Z),B=H9($,Z);if(B&&B.end<=O){var U=$.slice(B.end,O).trim();if(U==="")return 7}}return 0}function D6($,Z,J){for(var V=0,Q=$.length;V<Q&&($.charCodeAt(V)===I||$.charCodeAt(V)===P);)V++;for(;Q>V&&($.charCodeAt(Q-1)===I||$.charCodeAt(Q-1)===P);)Q--;V<Q&&$.charCodeAt(V)===I0&&V++,Q>V&&$.charCodeAt(Q-1)===I0&&(Q-2<V||$.charCodeAt(Q-2)!==A0)&&Q--;for(var X=[],Y=V,G=!1,K=[],q=V;q<Q;){var F=$.charCodeAt(q);if(F===A0&&q+1<Q){$.charCodeAt(q+1)===I0?(G||(G=!0,K=[]),K.push($.slice(Y,q)),K.push("|"),q+=2,Y=q):q+=2;continue}if(F===e){for(var W=0;q<Q&&$.charCodeAt(q)===e;)W++,q++;for(var H=!1;q<Q&&!H;){for(var O=0;q<Q&&$.charCodeAt(q)===e;)O++,q++;O===W?H=!0:O===0&&q++}continue}if(F===I0){var B=G?(K.push($.slice(Y,q)),K.join("")):$.slice(Y,q);X.push(B.trim()),q++,Y=q,G=!1,K=[];continue}q++}var U=G?(K.push($.slice(Y,Q)),K.join("")):$.slice(Y,Q);return X.push(U.trim()),X.map(function(z){var A=z.indexOf("\\|")!==-1?z.replace(/\\\|/g,"|"):z;return m0(A,0,A.length,Z,J)})}function j6($,Z,J,V){let Q=Q0($,Z);var X=$.indexOf("|",Z);if(X<0||X>=Q)return null;let Y=l($,Q);if(Y>=$.length)return null;let G=Q0($,Y);if(!_6($,Y,G))return null;let K=$.slice(Z,Q),q=$.slice(Y,G);for(var F=[],W=0,H=q.length;W<H&&(q.charCodeAt(W)===I||q.charCodeAt(W)===P);)W++;for(W<H&&q.charCodeAt(W)===I0&&W++;W<H;){for(;W<H&&(q.charCodeAt(W)===I||q.charCodeAt(W)===P);)W++;if(W>=H||q.charCodeAt(W)===I0)break;var O=q.charCodeAt(W)===E0;for(O&&W++;W<H&&q.charCodeAt(W)===p;)W++;var B=W<H&&q.charCodeAt(W)===E0;for(B&&W++,F.push(O&&B?"center":B?"right":O?"left":null);W<H&&(q.charCodeAt(W)===I||q.charCodeAt(W)===P);)W++;W<H&&q.charCodeAt(W)===I0&&W++}let U=D6(K,J,V);if(F.length!==U.length)return null;let z=[],A=l($,G);for(;A<$.length;){let L=Q0($,A),y=$.slice(A,L);if(n0($,A,L))break;if(v0($,A,L),V0<4){var v=$.charCodeAt(A+$0);if(v===C||v===V9||(v===p||v===O0||v===H0)&&y9($,A))break;if(v===e||v===_0){for(var _=A+$0,E=0;_<L&&$.charCodeAt(_)===v;)E++,_++;if(E>=3)break}}z.push(D6(y,J,V)),A=l($,L)}if((V.streaming||V.optimizeForStreaming)&&z.length===0)return null;for(var N=U.length,M=0;M<z.length;M++)if(z[M].length<N)for(;z[M].length<N;)z[M].push([]);else z[M].length>N&&(z[M].length=N);return{node:{type:j.table,header:U,cells:z,align:F},end:A}}function nZ($,Z,J){var V=Q0($,Z);if(v0($,Z,V),V0>3)return null;var Q=Z+$0;if($.charCodeAt(Q)!==W0)return null;if(Q+1<$.length&&$.charCodeAt(Q+1)===J9){var X=sZ($,Q,J);return X||null}J.refs||(J.refs={});var Y=I6($,Q,J.refs);return Y===null?null:{node:{type:j.refCollection},end:Y}}function sZ($,Z,J){var V=$.length;if($.charCodeAt(Z)!==W0||Z+1>=V||$.charCodeAt(Z+1)!==J9)return null;for(var Q=Z+2,X=Q;Q<V&&$.charCodeAt(Q)!==p0;){if($.charCodeAt(Q)===g)return null;Q++}if(Q>=V)return null;var Y=("^"+$.slice(X,Q)).toLowerCase();if(Q++,Q>=V||$.charCodeAt(Q)!==E0)return null;for(Q++;Q<V&&($.charCodeAt(Q)===I||$.charCodeAt(Q)===P);)Q++;if(Q<V&&$.charCodeAt(Q)===g)for(Q++;Q<V&&($.charCodeAt(Q)===I||$.charCodeAt(Q)===P);)Q++;var G=$.indexOf(`
`,Q);G<0&&(G=V);for(var K=$.slice(Q,G).trim(),q=G<V?G+1:V;q<V;){var F=Q0($,q);if(v0($,q,F),V0>=2&&!n0($,q,F))K+=`
`+$.slice(q,F),q=l($,F);else if(n0($,q,F)){var W=l($,F);if(W<V){var H=Q0($,W);if(v0($,W,H),V0>=2){K+=`
`,q=l($,F);continue}}break}else break}return J.refs[Y]||(J.refs[Y]={target:K,title:void 0}),{node:{type:j.footnote},end:q}}function tZ($,Z,J,V){let Q=Z,X=0,Y=0,G=-1;for(;Q<$.length;){let R=G>=0?G:Q0($,Q);if(G=-1,n0($,Q,R))break;if(v0($,Q,R),V0<4&&Y>0&&!J.f){let k=$.charCodeAt(Q+$0);if(k===C0||k===p){let h=Q+$0;for(;h<R&&$.charCodeAt(h)===k;)h++;for(;h<R&&($.charCodeAt(h)===I||$.charCodeAt(h)===P);)h++;if(h>=R){X=k===C0?1:2,Q=l($,R);break}}}Y=R;let S=l($,R);if(S<$.length){if($.charCodeAt(S)===l9){var K=Q0($,S);Q=l($,K),Y=K;continue}let k=Q0($,S);if(G=k,v0($,S,k),V0<4){let h=$.charCodeAt(S+$0);if(h===C){Q=S;break}if(h===V9&&w6($,S,J,V)){Q=S;break}if(h===e||h===_0){for(var q=S+$0,F=0;q<k&&$.charCodeAt(q)===h;)F++,q++;if(F>=3){Q=S;break}}if(h===K0){var W=S+$0+1,H=W<k?$.charCodeAt(W):0,O=H===g0||H===T9;if(!O&&H===j0){for(var B=W+1,U=B;U<k&&($.charCodeAt(U)>=c&&$.charCodeAt(U)<=a||$.charCodeAt(U)>=U0&&$.charCodeAt(U)<=D0||$.charCodeAt(U)>=n&&$.charCodeAt(U)<=s||$.charCodeAt(U)===p);)U++;U>B&&(O=_$.has($.slice(B,U).toLowerCase()))}else if(!O){for(var z=W;z<k&&($.charCodeAt(z)>=c&&$.charCodeAt(z)<=a||$.charCodeAt(z)>=U0&&$.charCodeAt(z)<=D0||$.charCodeAt(z)>=n&&$.charCodeAt(z)<=s||$.charCodeAt(z)===p);)z++;if(z>W){var A=$.slice(W,z).toLowerCase();O=_$.has(A)||X$.has(A)}}if(O&&L6($,S,J,V)){Q=S;break}}if(h===p||h===O0||h===U9){let f=S+$0+1;if(f<k&&($.charCodeAt(f)===I||$.charCodeAt(f)===P)){var v=Q$($,f,k);if(v<k&&!y9($,S)){Q=S;break}}}if(h>=n&&h<=s){let f=S+$0;for(;f<k&&$.charCodeAt(f)>=n&&$.charCodeAt(f)<=s;)f++;if(f<k&&($.charCodeAt(f)===l0||$.charCodeAt(f)===a0)&&f-(S+$0)===1&&$.charCodeAt(S+$0)===49){var _=f+1;if(_<k&&($.charCodeAt(_)===I||$.charCodeAt(_)===P)){var E=Q$($,_,k);if(E<k){Q=S;break}}}}if(h===I0){let f=l($,k);if(f<$.length){let T=Q0($,f);if(_6($,f,T)){Q=S;break}}}if((h===p||h===O0||h===H0)&&y9($,S)){if(h!==p){Q=S;break}let f=0,T=S+$0;for(;T<k&&$.charCodeAt(T)===p;)f++,T++;for(;T<k&&($.charCodeAt(T)===I||$.charCodeAt(T)===P);)T++;if(T<k){Q=S;break}}}}Q=l($,R)}for(var N=X?Y:Q;N>Z&&($.charCodeAt(N-1)===g||$.charCodeAt(N-1)===Z9||$.charCodeAt(N-1)===I||$.charCodeAt(N-1)===P);)N--;for(var M=Z;M<N&&($.charCodeAt(M)===I||$.charCodeAt(M)===P);)M++;if(M>=N)return null;for(var L=!1,y=M;y<N;y++)if($.charCodeAt(y)===l9){L=!0;break}var w=L?$.slice(M,N).replace(/\u001E/g,""):$.slice(M,N);if(!w)return null;let b=eZ(w,0,w.length,J,V);if(X){let S=(V?.slugify||u9)(w);return{node:{type:j.heading,level:X,children:b,id:S},end:Q}}return{node:{type:j.paragraph,children:b},end:Q}}function eZ($,Z,J,V,Q){var X=$.indexOf(`
`,Z);if(X<0||X>=J)return m0($,Z,J,V,Q);for(var Y="",G=Z,K=Z;K<J;){var q=$.charCodeAt(K);if(q===e){var F=I$($,K,J);if(F>K){for(var W=!1,H=K;H<F;H++)if($.charCodeAt(H)===g){W=!0;break}W&&(Y+=$.slice(G,K),Y+=$.slice(K,F).replace(/\n/g," "),G=F),K=F;continue}}if(q===K0){var O=S6($,K,J);if(O>K){K=O;continue}}if(q===g){var B=!1,U=0;if(K>Z&&$.charCodeAt(K-1)===A0)B=!0,U=1;else{for(var z=0,A=K-1;A>=Z&&$.charCodeAt(A)===I;)z++,A--;z>=2&&(B=!0,U=z)}for(B?(Y+=$.slice(G,K-U),Y+=""):Y+=$.slice(G,K+1),K++;K<J&&$.charCodeAt(K)===I;)K++;G=K;continue}K++}return G<J&&(Y+=$.slice(G,J)),m0(Y,0,Y.length,V,Q)}function $J($,Z,J){if($.charCodeAt(Z)!==e)return null;let V=B9($,Z,J,96),Q=Z+V;for(;Q<J;){let X=$.indexOf("`",Q);if(X<0||X>=J)return null;let Y=B9($,X,J,96);if(Y===V){let G=$.slice(Z+V,X);return G=G.replace(/\n/g," "),G.length>0&&G[0]===" "&&G[G.length-1]===" "&&G.trim().length>0&&(G=G.slice(1,-1)),{node:{type:j.codeInline,text:G},end:X+Y}}Q=X+Y}return null}function I$($,Z,J){if($.charCodeAt(Z)!==e)return Z;let V=B9($,Z,J,96),Q=Z+V;for(;Q<J;){let X=$.indexOf("`",Q);if(X<0||X>=J)return Z;let Y=B9($,X,J,96);if(Y===V)return X+Y;Q=X+Y}return Z}function S6($,Z,J){if($.charCodeAt(Z)!==K0)return Z;if(Z+1<J&&$.charCodeAt(Z+1)===j0){let q=Z+2;for(;q<J&&$.charCodeAt(q)!==C;)q++;return q<J?q+1:Z}if(Z+3<J&&$.charCodeAt(Z+1)===g0&&$.charCodeAt(Z+2)===p&&$.charCodeAt(Z+3)===p){let q=$.indexOf("-->",Z+4);return q>=0?q+3:Z}let V=Z+1,Q=V;for(;V<J;){let q=$.charCodeAt(V);if(q>=c&&q<=a||q>=U0&&q<=D0||q>=n&&q<=s||q===p)V++;else break}if(V===Q)return Z;let X=$.slice(Q,V).toLowerCase(),Y=!1;for(;V<J;){let q=$.charCodeAt(V);if(q===C){V++;break}if(q===j0&&V+1<J&&$.charCodeAt(V+1)===C){V+=2,Y=!0;break}if(q===K9||q===W9){var G=q;for(V++;V<J&&$.charCodeAt(V)!==G;)V++;V<J&&V++;continue}if(q===g)return Z;V++}if(Y||b9(X))return V;let K=1;for(;V<J&&K>0;)if($.charCodeAt(V)===K0)if(V+1<J&&$.charCodeAt(V+1)===j0){let q=V+2,F=q;for(;F<J&&($.charCodeAt(F)>=c&&$.charCodeAt(F)<=a||$.charCodeAt(F)>=U0&&$.charCodeAt(F)<=D0);)F++;if($.slice(q,F).toLowerCase()===X){for(;F<J&&$.charCodeAt(F)!==C;)F++;if(F<J&&F++,K--,K===0)return F}V=F}else{let q=V+1,F=q;for(;F<J&&($.charCodeAt(F)>=c&&$.charCodeAt(F)<=a||$.charCodeAt(F)>=U0&&$.charCodeAt(F)<=D0);)F++;$.slice(q,F).toLowerCase()===X&&K++,V++}else V++;return V}function ZJ($,Z,J,V,Q){if($.charCodeAt(Z)!==_0||Z+1>=J||$.charCodeAt(Z+1)!==_0)return null;let X=Z+2;for(;X+1<J;){let Y=$.charCodeAt(X);if(Y===e){let G=I$($,X,J);if(G>X){X=G;continue}}if(Y===_0&&$.charCodeAt(X+1)===_0){let G=$.slice(Z+2,X),K=m0(G,0,G.length,V,Q);return{node:{type:j.textFormatted,tag:"del",children:K},end:X+2}}Y===A0&&X+1<J&&X++,X++}return null}function JJ($,Z,J,V,Q){if($.charCodeAt(Z)!==C0||Z+1>=J||$.charCodeAt(Z+1)!==C0)return null;let X=Z+2;for(;X+1<J;){let Y=$.charCodeAt(X);if(Y===e){let G=I$($,X,J);if(G>X){X=G;continue}}if(Y===C0&&$.charCodeAt(X+1)===C0&&X>Z+2){let G=$.slice(Z+2,X),K=m0(G,0,G.length,V,Q);return{node:{type:j.textFormatted,tag:"mark",children:K},end:X+2}}Y===A0&&X+1<J&&X++,X++}return null}var VJ=/[\p{P}\p{S}]/u;function B6($,Z,J){return $<d0?!!(o$($)&Z0):VJ.test(Z[J])}function M6($,Z,J){return $<d0?!!(o$($)&n9):/\p{Zs}/u.test(Z[J])}function QJ($,Z,J){var V=$.charCodeAt(Z);if(V!==O0&&V!==H0)return null;var Q=B9($,Z,J,V);if(Q===0)return null;var X=Z>0?$.charCodeAt(Z-1):32,Y=Z+Q<J?$.charCodeAt(Z+Q):32,G=M6(X,$,Z-1),K=M6(Y,$,Z+Q),q=Z>0?B6(X,$,Z-1):!1,F=Z+Q<J?B6(Y,$,Z+Q):!1,W=!K&&(!F||G||q),H=!G&&(!q||K||F),O,B;return V===O0?(O=W,B=H):(O=W&&(!H||q),B=H&&(!W||F)),{len:Q,canOpen:O,canClose:B}}function XJ($,Z,J,V){if(Z.length!==0){for(var Q=[],X=0;X<12;X++)Q[X]=-1;for(var Y=0;Y<Z.length;){var G=Z[Y];if(!G.active||!G.canClose){Y++;continue}for(var K=G.ch===O0?0:1,q=K*6+G.len%3*2+(G.canOpen?1:0),F=Q[q]!==void 0?Q[q]:-1,W=-1,H=Y-1;H>F;H--){var O=Z[H];if(!(!O.active||O.ch!==G.ch||!O.canOpen)&&!((G.canOpen||O.canClose)&&(O.len+G.len)%3===0&&O.len%3!==0)){W=H;break}}if(W<0){Q[q]=Y-1,!G.canOpen&&(G.active=!1),Y++;continue}var B=Z[W],U=B.len>=2&&G.len>=2,z=U?2:1;B.len-=z,G.len-=z;var A=$[B.idx],v=$[G.idx];A.text=A.text.slice(0,A.text.length-z),v.text=v.text.slice(z);var _=B.idx+1,E=G.idx,N=$.slice(_,E),M={type:j.textFormatted,tag:U?"strong":"em",children:N};$.splice(_,E-_,M);for(var L=E-_-1,y=0;y<Z.length;y++)Z[y].idx>B.idx&&(Z[y].idx-=L);for(var w=W+1;w<Y;w++)Z[w].active=!1;if(B.len===0&&(B.active=!1,A.text==="")){$.splice(B.idx,1);for(var b=0;b<Z.length;b++)Z[b].idx>B.idx?Z[b].idx--:Z[b].idx===B.idx&&(Z[b].idx=-1)}if(G.len===0){G.active=!1;var R=G.idx;if(v.text===""){$.splice(R,1);for(var S=0;S<Z.length;S++)Z[S].idx>R?Z[S].idx--:Z[S].idx===R&&(Z[S].idx=-1)}}else continue;Y++}for(var k=0,h=0;h<$.length;h++){var f=$[h];if(f.type===j.text){var T=f;if(T.text==="")continue;if(k>0&&$[k-1].type===j.text){$[k-1].text+=T.text;continue}}$[k++]=f}$.length=k}}function A6($,Z,J,V,Q){let X=$.charCodeAt(Z)===g0,Y=X?Z+1:Z;if($.charCodeAt(Y)!==W0)return null;var G=$.indexOf("]",Y+1);if(G<0||G>=J)return null;for(var K=Y+1,q=-1,F=1;K<J&&F>0;){var W=$.charCodeAt(K);if(W===A0&&K+1<J){K+=2;continue}if(W===e){var H=I$($,K,J);if(H>K){K=H;continue}}if(W===K0){var O=k6($,K,J);if(O){K=O.end;continue}var B=S6($,K,J);if(B>K){K=B;continue}}W===W0?F++:W===p0&&F--,K++}if(F!==0)return null;var U=K-1,z=$.slice(Y+1,U),A=K<J?$.charCodeAt(K):0,v=!1;if(A===i0){var _=!0;for(K++;K<J&&($.charCodeAt(K)===I||$.charCodeAt(K)===g);)K++;var E="",N=K;if(K<J&&$.charCodeAt(K)===K0){for(K++,N=K;N<J&&$.charCodeAt(N)!==C;){if($.charCodeAt(N)===A0&&N+1<J){N+=2;continue}if($.charCodeAt(N)===g){_=!1;break}N++}_&&(N>=J||$.charCodeAt(N)!==C)&&(_=!1),_&&(E=$.slice(K,N),N++)}else if(_){for(var M=0;N<J;){var L=$.charCodeAt(N);if(L===A0&&N+1<J){N+=2;continue}if(L===i0)M++;else if(L===a0){if(M===0)break;M--}else if(L===I||L===g)break;N++}E=$.slice(K,N)}if(_){for(K=N;K<J&&($.charCodeAt(K)===I||$.charCodeAt(K)===g);)K++;var y;if(K<J){var w=$.charCodeAt(K);if(w===K9||w===W9||w===i0){var b=w===i0?41:w;K++;for(var R=K;K<J&&$.charCodeAt(K)!==b;)$.charCodeAt(K)===A0&&K+1<J&&K++,K++;K>=J?_=!1:(y=$.slice(R,K),K++)}}if(_){for(;K<J&&($.charCodeAt(K)===I||$.charCodeAt(K)===g);)K++;(K>=J||$.charCodeAt(K)!==a0)&&(_=!1)}}if(_){K++,E=a9(E),y!==void 0&&(y=a9(y));var S=Q?.sanitizer||H$,k=S(E,X?"img":"a",X?"src":"href"),h=k===null?null:E;if(X){var f=m0(z,0,z.length,V,Q),T=N$(f);return{node:{type:j.image,target:h,alt:T,title:y},end:K}}else{var w0=V.inAnchor;V.inAnchor=!0;var m=w0?[{type:j.text,text:z}]:m0(z,0,z.length,V,Q);return V.inAnchor=w0,!V.inAnchor&&c$(m)?null:{node:{type:j.link,target:h,title:y,children:m},end:K}}}else K=U+1,v=!0}var q0="",z0=K;if(!v&&A===W0){var o=K+1;z0=o;for(var N0=!1;z0<J&&$.charCodeAt(z0)!==p0;){if($.charCodeAt(z0)===A0&&z0+1<J){z0+=2;continue}if($.charCodeAt(z0)===W0){N0=!0;break}z0++}if(N0||z0>=J)return null;var F0=$.slice(o,z0);if(F0.trim())q0=A$(F0);else{if(U6(z))return null;q0=A$(z)}z0=z0+1}else{if(U6(z))return null;q0=A$(z)}var P0=V.refs[q0];if(!P0)return null;if(X)return{node:{type:j.image,target:P0.target,alt:N$(m0(z,0,z.length,V,Q)),title:P0.title},end:z0};var J0=V.inAnchor;V.inAnchor=!0;var m=J0?[{type:j.text,text:z}]:m0(z,0,z.length,V,Q);return V.inAnchor=J0,!V.inAnchor&&c$(m)?null:{node:{type:j.link,target:P0.target,title:P0.title,children:m},end:z0}}function k6($,Z,J){if($.charCodeAt(Z)!==K0)return null;for(var V=Z+1;V<J;){var Q=$.charCodeAt(V);if(Q===C)break;if(Q===I||Q===g||Q===Z9||Q===K0)return null;V++}if(V>=J||$.charCodeAt(V)!==C)return null;var X=$.slice(Z+1,V),Y=X.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return Y?{node:{type:j.link,target:X,children:[{type:j.text,text:X}]},end:V+1}:X.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(X)?{node:{type:j.link,target:"mailto:"+X,children:[{type:j.text,text:X}]},end:V+1}:null}function YJ($,Z,J,V){if($.charCodeAt(Z)!==W0||Z+1>=J||$.charCodeAt(Z+1)!==J9)return null;let Q=Z+2;for(;Q<J&&$.charCodeAt(Q)!==p0&&$.charCodeAt(Q)!==g;)Q++;if(Q>=J||$.charCodeAt(Q)!==p0)return null;let X=$.slice(Z+2,Q);return X?{node:{type:j.footnoteReference,target:"#"+u9(X),text:X},end:Q+1}:null}function GJ($,Z,J,V){if(V.disableBareUrls)return null;var Q="",X=!1,Y=$.charCodeAt(Z);if(Y===r9||Y===72?Z+8<=J&&$.charCodeAt(Z+1)===z$&&$.charCodeAt(Z+2)===z$&&$.charCodeAt(Z+3)===k$&&($.charCodeAt(Z+4)===Z6&&$.charCodeAt(Z+5)===E0&&$.charCodeAt(Z+6)===j0&&$.charCodeAt(Z+7)===j0?Q="https://":$.charCodeAt(Z+4)===E0&&$.charCodeAt(Z+5)===j0&&$.charCodeAt(Z+6)===j0&&(Q="http://")):Y===_9||Y===70?Z+6<=J&&$.charCodeAt(Z+1)===z$&&$.charCodeAt(Z+2)===k$&&$.charCodeAt(Z+3)===E0&&$.charCodeAt(Z+4)===j0&&$.charCodeAt(Z+5)===j0&&(Q="ftp://"):(Y===N9||Y===87)&&Z+4<=J&&$.charCodeAt(Z+1)===N9&&$.charCodeAt(Z+2)===N9&&$.charCodeAt(Z+3)===l0&&(Q="www.",X=!0),!Q)return null;let G=Z+Q.length;for(;G<J;){let M=$.charCodeAt(G);if(M===I||M===g||M===P||M===Z9||M===K0||M===C)break;G++}for(var K=0,q=0,F=Z;F<G;F++){var W=$.charCodeAt(F);W===i0?K++:W===a0&&q++}let H=G;for(;H>Z+Q.length;){let M=$.charCodeAt(H-1);if(M===l0||M===g$||M===E0||M===g0||M===T9||M===a0){if(M===a0){if(K>=q)break;q--}H--}else if(M===W$){for(var O=H-2;O>Z&&($.charCodeAt(O)>=c&&$.charCodeAt(O)<=a||$.charCodeAt(O)>=U0&&$.charCodeAt(O)<=D0||$.charCodeAt(O)>=n&&$.charCodeAt(O)<=s);)O--;O>=Z&&$.charCodeAt(O)===F$?H=O:H--}else break}if(H<=Z+Q.length)return null;var B=Z+(X?4:Q.length),U=$.indexOf("/",B);if((U<0||U>H)&&(U=H),X&&$.indexOf(".",B)===-1)return null;for(var z=-1,A=-1,v=U-1;v>=B;v--)if($.charCodeAt(v)===l0)if(z<0)z=v;else{A=v;break}for(var _=A>=0?A+1:B,v=_;v<U;v++)if($.charCodeAt(v)===H0)return null;var E=$.slice(Z,H),N=X?"http://"+E:E;return{node:{type:j.link,target:N,children:[{type:j.text,text:E}]},end:H}}function KJ($,Z,J,V){if(V.disableBareUrls)return null;for(var Q=Z,X=Q;Q<J;){var Y=$.charCodeAt(Q);if(Y>=c&&Y<=a||Y>=U0&&Y<=D0||Y>=n&&Y<=s||Y===l0||Y===g0||Y===V9||Y===36||Y===c9||Y===F$||Y===W9||Y===O0||Y===U9||Y===j0||Y===C0||Y===T9||Y===J9||Y===H0||Y===e||Y===O9||Y===I0||Y===J$||Y===_0||Y===p)Q++;else break}if(Q===X||Q>=J||$.charCodeAt(Q)!==o9)return null;Q++;for(var G=Q,K=-1;Q<J;){var Y=$.charCodeAt(Q);if(Y>=c&&Y<=a||Y>=U0&&Y<=D0||Y>=n&&Y<=s)Q++;else if((Y===p||Y===H0)&&Q>G)Q++;else if(Y===l0){if(Q===G)break;var q=$.charCodeAt(Q-1);if(q===p||q===H0)break;if(Q+1<J){var F=$.charCodeAt(Q+1);if(F>=c&&F<=a||F>=U0&&F<=D0||F>=n&&F<=s)K=Q,Q++;else break}else break}else break}if(K<0)return null;var W=$.charCodeAt(Q-1);if(!(W>=c&&W<=a||W>=U0&&W<=D0||W>=n&&W<=s)||Q<=K+1)return null;for(var H=-1,O=K-1;O>=G;O--)if($.charCodeAt(O)===l0){H=O;break}for(var B=H>=0?H+1:G,O=B;O<Q;O++)if($.charCodeAt(O)===H0)return null;var U=$.slice(Z,Q);return{node:{type:j.link,target:"mailto:"+U,children:[{type:j.text,text:U}]},end:Q}}function c$($){for(var Z=0;Z<$.length;Z++)if($[Z].type===j.link||"children"in $[Z]&&Array.isArray($[Z].children)&&c$($[Z].children))return!0;return!1}function N$($){for(var Z="",J=0;J<$.length;J++){var V=$[J];V.type===j.text?Z+=V.text:V.type===j.breakLine?Z+=" ":V.type===j.codeInline?Z+=V.text:"children"in V&&Array.isArray(V.children)?Z+=N$(V.children):V.type===j.image?Z+=V.alt||"":V.type===j.link&&(Z+=N$(V.children))}return Z}function C9($){let Z=$.includes("&")?u$($):$;return{type:j.text,text:Z}}function qJ($,Z,J,V,Q){if($.charCodeAt(Z)!==K0)return null;var X=Z+1;if(X>=J)return null;var Y=$.charCodeAt(X);if(Y===g0&&X+1<J&&$.charCodeAt(X+1)===p&&X+2<J&&$.charCodeAt(X+2)===p){var G=X+3;if(G<J&&$.charCodeAt(G)===C)return{node:{type:j.htmlComment,text:"",endsWithGreaterThan:!0},end:G+1};if(G+1<J&&$.charCodeAt(G)===p&&$.charCodeAt(G+1)===C)return{node:{type:j.htmlComment,text:"-",endsWithGreaterThan:!0},end:G+2};var K=$.indexOf("-->",G);return K!==-1&&K<=J-3?{node:{type:j.htmlComment,text:$.slice(Z+4,K)},end:K+3}:null}if(Y===T9){var q=$.indexOf("?>",X+1);return q!==-1&&q<J?{node:{type:j.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(Z,q+2)},end:q+2}:null}if(Y===g0&&X+1<J){var F=$.charCodeAt(X+1);if(F===W0&&$.slice(X+1,X+8)==="[CDATA["){var W=$.indexOf("]]>",X+8);return W!==-1&&W<J?{node:{type:j.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(Z,W+3)},end:W+3}:null}if(F>=c&&F<=a){var H=$.indexOf(">",X+2);return H!==-1&&H<J?{node:{type:j.htmlSelfClosing,tag:"!"+$.slice(X+1,H),attrs:{},a:$.slice(Z,H+1)},end:H+1}:null}}if(Y===j0){var O=X+1;if(O>=J)return null;var B=$.charCodeAt(O);if(!(B>=c&&B<=a||B>=U0&&B<=D0))return null;for(O++;O<J;){var U=$.charCodeAt(O);if(U>=c&&U<=a||U>=U0&&U<=D0||U>=n&&U<=s||U===p)O++;else break}for(;O<J&&($.charCodeAt(O)===I||$.charCodeAt(O)===P||$.charCodeAt(O)===g);)O++;if(O<J&&$.charCodeAt(O)===C){var z=$.slice(X+1,O).trim();return{node:{type:j.htmlSelfClosing,tag:z,attrs:{},a:$.slice(Z,O+1),d:!0},end:O+1}}return null}if(!(Y>=c&&Y<=a||Y>=U0&&Y<=D0))return null;var A=H9($,Z);if(!A)return null;var v=A.tag,_=v.toLowerCase(),E=A.selfClosing;if(E||b9(v))return{node:{type:j.htmlSelfClosing,tag:v,attrs:R9(A.attrs,v,Q),a:$.slice(Z,A.end)},end:A.end};var N=X$.has(_),M=y6($.slice(0,J),A.end,v);if(M===-1)return{node:{type:j.htmlSelfClosing,tag:v,attrs:R9(A.attrs,v,Q),a:$.slice(Z,A.end)},end:A.end};var L=iZ($,"</"+_,M),y=$.slice(A.end,L),w=[];if(N)y.trim()&&(w=[{type:j.text,text:y}]);else{var b=y.trim();if(b){var{inAnchor:R,inline:S}=V;_==="a"&&(V.inAnchor=!0);var k=b.indexOf(`

`)!==-1||/^#{1,6}\s/.test(b);k?(V.inline=!1,w=j9(b,V,Q)):w=m0(b,0,b.length,V,Q),V.inAnchor=R,V.inline=S}}return{node:{type:j.htmlBlock,tag:v,attrs:R9(A.attrs,v,Q),e:A.rawAttrs,children:w,text:y,c:!1},end:M}}var FJ=200,i9=0;function m0($,Z,J,V,Q){if(i9++,i9>FJ)return i9--,[{type:j.text,text:$.slice(Z,J)}];let X=V;if(Q.streaming||Q.optimizeForStreaming){let t=function(r,h0){for(var x0=1,u0=h0+1;u0<r.length;u0++){var G0=r.charCodeAt(u0);if(G0===W0)x0++;else if(G0===p0&&(x0--,x0===0))return u0}return-1},D=$.slice(Z,J),x=D;for(var Y=0,G=0,K=0,q=0,F=0,W=-1,H=-1,O=-1,B=-1,U=-1,z=0;z<D.length;z++){var A=D.charCodeAt(z);A===O0?z+1<D.length&&D.charCodeAt(z+1)===O0?(Y++,W=z,z++):(G++,H=z):A===H0?z+1<D.length&&D.charCodeAt(z+1)===H0?(K++,O=z,z++):(q++,B=z):A===_0&&z+1<D.length&&D.charCodeAt(z+1)===_0&&(F++,U=z,z++)}var v=[];F%2===1&&U>=0&&v.push([U,2]),K%2===1&&O>=0&&v.push([O,2]),q%2===1&&B>=0&&v.push([B,1]),Y%2===1&&W>=0&&v.push([W,2]),G%2===1&&H>=0&&v.push([H,1]),v.sort(function(r,h0){return h0[0]-r[0]});for(var _=0;_<v.length;_++){var E=v[_][0],N=v[_][1];D=D.slice(0,E)+D.slice(E+N)}let Y0=0,R0=-1;for(let r=0;r<D.length;r++)D.charCodeAt(r)===e&&(Y0++,R0=r);if(Y0%2===1&&R0!==-1){let r=!1,h0=-1,x0=0;for(;x0<D.length;)D.charCodeAt(x0)===e&&(r?(r=!1,h0=-1):(h0=x0,r=!0)),x0++;r&&h0!==-1&&(D=D.slice(0,h0))}for(var M=!0;M;){M=!1;for(var L=-1,y=-1,w=-1,b=!1,R=0;R<D.length;R++){var S=D.charCodeAt(R);if(S===W0&&(R===0||D.charCodeAt(R-1)!==A0)){var k=R>0&&D.charCodeAt(R-1)===g0,h=k?R-1:R,f=t(D,R);if(f===-1)L=h,b=k,y=R+1,w=D.length;else{var T=f+1;if(T>=D.length)L=h,b=k,y=R+1,w=f;else if(D.charCodeAt(T)===i0){var w0=D.indexOf(")",T+1);w0===-1?(L=h,b=k,y=R+1,w=f,R=D.length):R=w0}else if(D.charCodeAt(T)===W0){var m=D.indexOf("]",T+1);m===-1?(L=h,b=k,y=R+1,w=f,R=D.length):R=m}else R=f}}}if(L>=0){var q0=b?"":D.slice(y,w);D=D.slice(0,L)+q0,M=!0}}let y0=D.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(y0&&y0.index!==void 0){for(var z0=!1,o=0,N0=0;N0<y0.index;N0++)D.charCodeAt(N0)===e&&o++;if(z0=o%2===1,!z0){let r=y0[1];D9(D,"</"+r,0)===-1&&(D=D.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}D!==x&&($=$.slice(0,Z)+D,J=Z+D.length)}let F0=[];var P0=[];let J0=Z;var B0=Q.disableAutoLink||Q.disableBareUrls||X.inAnchor?-1:$.indexOf("@",Z);for(B0>=J&&(B0=-1);Z<J;){let D=$.charCodeAt(Z),x=null;if(D===e){if(x=$J($,Z,J),!x){var X0=B9($,Z,J,e);Z+=X0-1}}else if(D===O0||D===H0){var i=QJ($,Z,J);if(i){if(i.canOpen||i.canClose){Z>J0&&F0.push(C9($.slice(J0,Z)));var u=$.slice(Z,Z+i.len),M0=C9(u);P0.push({idx:F0.length,ch:D,len:i.len,canOpen:i.canOpen,canClose:i.canClose,active:!0}),F0.push(M0),Z+=i.len,J0=Z;continue}Z+=i.len-1}}else D===_0?x=ZJ($,Z,J,X,Q):D===C0?x=JJ($,Z,J,X,Q):D===W0?(Z+1<J&&$.charCodeAt(Z+1)===J9&&(x=YJ($,Z,J,X)),x||(x=A6($,Z,J,X,Q))):D===g0&&Z+1<J&&$.charCodeAt(Z+1)===W0?x=A6($,Z,J,X,Q):D===K0?(x=k6($,Z,J),!x&&!Q.disableParsingRawHTML&&!Q.ignoreHTMLBlocks&&(x=qJ($,Z,J,X,Q))):(D===r9||D===N9||D===_9)&&!X.inAnchor&&!Q.disableAutoLink&&(Z===0||$.charCodeAt(Z-1)!==K0)&&(x=GJ($,Z,J,Q));if(!x&&B0>=0&&B0-Z<=64&&!X.inAnchor&&!Q.disableAutoLink&&!Q.disableBareUrls&&(D>=c&&D<=a||D>=U0&&D<=D0||D>=n&&D<=s)&&(x=KJ($,Z,J,Q),!x&&Z>=B0&&(B0=$.indexOf("@",Z+1),B0>=J&&(B0=-1))),D===E$){Z>J0&&F0.push(C9($.slice(J0,Z))),F0.push({type:j.breakLine}),Z++,J0=Z;continue}if(x)Z>J0&&F0.push(C9($.slice(J0,Z))),F0.push(x.node),Z=x.end,J0=Z;else{if(D===A0&&Z+1<J){let Y0=$.charCodeAt(Z+1);if(o$(Y0)&Z0){Z>J0&&F0.push(C9($.slice(J0,Z))),F0.push(C9($[Z+1])),Z+=2,J0=Z;continue}}if(Z++,B0<0||B0-Z>64)for(;Z<J;){var L0=$.charCodeAt(Z);if(L0<d0&&!v6[L0])Z++;else break}}}if(J>J0){let D=$.slice(J0,J);(Q.streaming||Q.optimizeForStreaming)&&(D=D.replace(/\*\*([^*]+)$/,"$1"),D.match(/\*[^*]+$/)&&(D=D.replace(/\*([^*]+)$/,"$1")),D=D.replace(/__([^_]+)$/,"$1"),D.match(/_[^_]+$/)&&(D=D.replace(/_([^_]+)$/,"$1")),D=D.replace(/~~([^~]+)$/,"$1"),D=D.replace(/\[([^\]]+)$/,"$1"),D=D.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),D&&F0.push(C9(D))}return P0.length>0&&XJ(F0,P0,V,Q),i9--,F0}var zJ=500;function j9($,Z,J){var V=Z.g||0;if(V>zJ)return[{type:j.text,text:$}];Z.g=V+1;let Q=Z;if(J.streaming||J.optimizeForStreaming){var X=$.length;X>0&&$.charCodeAt(X-1)===g&&X--;for(var Y=X;Y>0&&$.charCodeAt(Y-1)!==g;)Y--;if(Y>0&&$.charCodeAt(Y)===I0){for(var G=!0,K=Y;K<X;K++){var q=$.charCodeAt(K);if(q!==I&&q!==P&&q!==p&&q!==E0&&q!==I0){G=!1;break}}if(G){for(var F=Y-1;F>0&&$.charCodeAt(F-1)!==g;)F--;$.charCodeAt(F)===I0&&($=$.slice(0,F).trimEnd())}}var W=$.trim(),H=W.lastIndexOf(`
`),O=H===-1?W:W.slice(H+1);if(O.length>0&&O.charCodeAt(0)===I0){for(var B=!1,U=!1,z=1;z<O.length;z++){var A=O.charCodeAt(z);A===I0&&(B=!0),A===p&&(U=!0)}B&&U&&($=H===-1?"":$.slice(0,$.lastIndexOf(O)).trimEnd())}for(var v=-1,_=-1,E=-1,N=$.length-1;N>=0;N--)if($.charCodeAt(N)===K0){var M=N+1<$.length?$.charCodeAt(N+1):0;if(M>=c&&M<=a||M>=U0&&M<=D0){for(var L=N+2;L<$.length;){var y=$.charCodeAt(L);if(y>=c&&y<=a||y>=U0&&y<=D0||y>=n&&y<=s)L++;else break}for(var w=L;w<$.length&&$.charCodeAt(w)!==C;)w++;if(w<$.length){for(var b=!1,R=w+1;R<$.length;R++)if($.charCodeAt(R)===K0){b=!0;break}b||(v=N,_=L,E=w+1)}}break}if(v>=0){for(var S=0,k=0;k<v;k++)$.charCodeAt(k)===e&&S++;if(S%2===0){var h=$.slice(v+1,_);D9($,"</"+h,0)===-1&&($=$.slice(0,v)+$.slice(E))}}var f=$.length;if(f>0){for(var T=$.lastIndexOf(`
`),w0=T===-1?0:T+1,m=f,q0=w0,z0=0;q0<m&&$.charCodeAt(q0)===I&&z0<3;)q0++,z0++;if(q0<m){var o=$.charCodeAt(q0),N0=!1;if(o===O0||o===p||o===U9){var F0=q0+1;if(F0>=m||$.charCodeAt(F0)===I||$.charCodeAt(F0)===P){for(var P0=F0;P0<m&&($.charCodeAt(P0)===I||$.charCodeAt(P0)===P);)P0++;P0>=m&&(N0=!0)}}else if(o>=n&&o<=s){for(var J0=q0;J0<m&&$.charCodeAt(J0)>=n&&$.charCodeAt(J0)<=s;)J0++;if(J0<m&&($.charCodeAt(J0)===l0||$.charCodeAt(J0)===a0)){var B0=J0+1;if(B0>=m||$.charCodeAt(B0)===I||$.charCodeAt(B0)===P){for(var X0=B0;X0<m&&($.charCodeAt(X0)===I||$.charCodeAt(X0)===P);)X0++;X0>=m&&(N0=!0)}}}N0&&($=$.slice(0,w0).trimEnd())}}}if(Z.inline)return m0($,0,$.length,Z,J);let i=[],u=0,M0=$.length;if(u===0&&$.startsWith("---")){let t=m$($);if(t&&t.hasValidYaml){if(J.preserveFrontmatter!==!1){let y0=$.slice(0,t.endPos).trimEnd();i.push({type:j.frontmatter,text:y0})}u=t.endPos}}for(;u<M0;){for(var L0=$.indexOf(`
`,u),D=L0<0?M0:L0;u<M0&&n0($,u,D);)u=D<M0?D+1:D,u<M0&&(L0=$.indexOf(`
`,u),D=L0<0?M0:L0);if(u>=M0)break;$.charCodeAt(u),v0($,u,D);let t=null;if($.charCodeAt(u)!==l9&&V0>=4&&!Z.inHTML)t=oZ($,u);else if($.charCodeAt(u)!==l9){let y0=u+$0,r=$.charCodeAt(y0);r===V9?t=w6($,u,Z,J):r===C?t=rZ($,u,Z,J):r===e||r===_0?t=cZ($,u,Z):r===p||r===O0||r===H0?(t=y9($,u),!t&&(t=H6($,u,Z,J))):r===U9||r>=n&&r<=s?t=H6($,u,Z,J):r===K0?t=L6($,u,Z,J):r===I0?t=j6($,u,Z,J):r===W0&&(t=nZ($,u,Z))}if(!t){for(var x=!1,Y0=u;Y0<D;Y0++)if($.charCodeAt(Y0)===I0){x=!0;break}x&&(t=j6($,u,Z,J))}if(t||(t=tZ($,u,Z,J)),t)t.node.type!==j.refCollection&&i.push(t.node),u=t.end;else{var R0=$.indexOf(`
`,u);u=R0<0?M0:R0+1}}return Z.g=V,i}function r$($,Z){i9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=j$($);let J={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},V={...Z,slugify:Z?.slugify?X=>Z.slugify(X,u9):u9,sanitizer:Z?.sanitizer||H$,tagfilter:Z?.tagfilter!==!1};N6($,J.refs,V);let Q=j9($,J,V);return J.refs&&Object.keys(J.refs).length>0?[{type:j.refCollection,refs:J.refs},...Q]:Q}function cJ($,Z,J,V){var Q=H9($,Z);return Q?{tagName:Q.tag,tagLower:Q.tag.toLowerCase(),attrs:Q.rawAttrs,whitespaceBeforeAttrs:Q.whitespaceBeforeAttrs,isSelfClosing:Q.selfClosing,hasSpaceBeforeSlash:Q.hasSpaceBeforeSlash,isClosing:Q.isClosing,hasNewline:Q.whitespaceBeforeAttrs.includes(`
`)||Q.rawAttrs.includes(`
`),endPos:Q.end}:null}function oJ($,Z,J){i9=0,$=j$($),!Z.refs&&(Z.refs={}),N6($,Z.refs,J);let V=j9($,Z,J);return Z.refs&&Object.keys(Z.refs).length>0?[{type:j.refCollection,refs:Z.refs},...V]:V}function nJ($,Z){let J=r$($,Z);return g6(J,Z)}function g6($,Z){let J=Array.isArray($)?$:[$];for(var V=Z?.overrides||{},Q={},X=[],Y=!1,G=0;G<J.length;G++){var K=J[G];K.type===j.refCollection&&!Y?(Q=K.refs||{},Y=!0,X.push(K)):K.type!==j.footnote&&K.type!==j.ref&&(K.type!==j.frontmatter||Z?.preserveFrontmatter!==!1)&&X.push(K)}function q(U){return U.type===j.ref||U.type===j.footnote||U.type===j.frontmatter&&Z?.preserveFrontmatter===!1?"":WJ(U,H)}function F(U,z={}){return!U||typeof U!="object"?"":Z?.renderRule?Z.renderRule(()=>q(U),U,W,z):q(U)}function W(U){return U.map(z=>F(z,{})).join("")}let H={options:Z||{},references:new Map,referenceIndex:1,overrides:V,renderChild:F},O=X.filter(U=>U.type!==j.refCollection),B=X.map((U,z)=>{let A=U.type===j.refCollection?void 0:O.indexOf(U);return F(U,{key:A,refs:Q})}).join(`

`);if(H.options.useReferenceLinks&&H.references.size>0){let U=Array.from(H.references.entries()).map(([z,{url:A,title:v}])=>v?`[${z}]: ${A} "${v}"`:`[${z}]: ${A}`).join(`
`);return B+`

`+U}return B}var sJ=g6;function WJ($,Z){switch($.type){case j.text:return UJ($);case j.paragraph:return OJ($,Z);case j.heading:return HJ($,Z);case j.breakThematic:return DJ($);case j.breakLine:return jJ($);case j.codeBlock:return BJ($);case j.codeInline:return E6($);case j.textFormatted:return MJ($,Z);case j.link:return AJ($,Z);case j.image:return vJ($,Z);case j.orderedList:return _J($,Z);case j.unorderedList:return NJ($,Z);case j.blockQuote:return IJ($,Z);case j.table:return PJ($,Z);case j.htmlBlock:return bJ($,Z);case j.htmlSelfClosing:return wJ($,Z);case j.htmlComment:return RJ($);case j.footnote:return yJ($);case j.footnoteReference:return LJ($);case j.frontmatter:return SJ($);case j.gfmTask:return kJ($);case j.ref:return gJ($);case j.refCollection:return EJ($);default:return""}}function UJ($){return $.text}function OJ($,Z){return $.children.map(J=>Z.renderChild(J,{})).join("")}function HJ($,Z){let J=$.children.map(V=>Z.renderChild(V,{})).join("");return Z.options.useSetextHeaders&&($.level===1||$.level===2)?`${J}
${($.level===1?"=":"-").repeat(J.length)}`:`${"#".repeat($.level)}${Z.options.enforceAtxHeadings!==!1?" ":""}${J}`}function DJ($){return"---"}function jJ($){return`  
`}function BJ($){return`${$.lang?`\`\`\`${$.lang}
`:"```\n"}${$.text}
\`\`\``}function E6($){return $.text.indexOf("`")!==-1?`\`\`${$.text}\`\``:`\`${$.text}\``}function MJ($,Z){let J=$.children.map(V=>Z.renderChild(V,{})).join("");switch($.tag){case"em":case"i":return`*${J}*`;case"strong":case"b":return`**${J}**`;case"del":case"s":return`~~${J}~~`;case"code":return E6({type:j.codeInline,text:J});default:return J}}function AJ($,Z){let J=$.children.map(X=>Z.renderChild(X,{})).join(""),V=$.target||"",Q=$.title;if(Z.options.useReferenceLinks){let X=h6(V,Z);return Z.references.has(X)||Z.references.set(X,{url:V,title:Q}),`[${J}][${X}]`}return Q?`[${J}](${V} "${Q}")`:`[${J}](${V})`}function vJ($,Z){let J=$.alt||"",V=$.target,Q=$.title;if(Z.options.useReferenceLinks){let X=h6(V,Z);return Z.references.has(X)||Z.references.set(X,{url:V,title:Q}),`![${J}][${X}]`}return Q?`![${J}](${V} "${Q}")`:`![${J}](${V})`}function _J($,Z){let J=$.start||1;return $.items.map((V,Q)=>{let X=V.map(Y=>Z.renderChild(Y,{})).join("");return`${J+Q}. ${X.replace(/\n/g,`
    `)}`}).join(`
`)}function NJ($,Z){return $.items.map(J=>`- ${J.map(Q=>Z.renderChild(Q,{})).join("").replace(/\n/g,`
  `)}`).join(`
`)}function IJ($,Z){return $.children.map(J=>Z.renderChild(J,{})).join(`

`).split(`
`).map(J=>J.trim()?`> ${J}`:">").join(`
`)}function PJ($,Z){let J=$.header.map(X=>X.map(Y=>Z.renderChild(Y,{})).join("")).join(" | "),V=$.align.length>0?$.align.map(X=>X==="left"?":---":X==="right"?"---:":X==="center"?":---:":"---").join("|"):Array($.header.length).fill("---").join("|"),Q=$.cells.map(X=>X.map(Y=>Y.map(G=>Z.renderChild(G,{})).join("")).join(" | ")).join(`
`);return`${J}
${V}
${Q}`}function bJ($,Z){let J=$.tag||"div",V=B$(J,Z.overrides),Q=M$(J,Z.overrides),X={...$.attrs||{},...Q},Y=x6(X),G=b9(V);if($.c&&($.a||$.text)){let F=$.a||$.text;return`<${V}${Y}>${F}`}if($.text)return`<${V}${Y}>${$.text}`;let K=$.children?`
${$.children.map(F=>Z.renderChild(F,{})).join(`
`)}
`:"",q=G?"":`</${V}>`;return`<${V}${Y}>${K}${q}`}function wJ($,Z){let J=$.tag||"div",V=B$(J,Z.overrides),Q=M$(J,Z.overrides),X={...$.attrs||{},...Q},Y=x6(X);return`<${V}${Y} />`}function RJ($){return`<!--${$.text}-->`}function yJ($){return""}function LJ($){return`[^${$.text}]`}function SJ($){return`---
${$.text}
---`}function kJ($){return $.completed?"[x]":"[ ]"}function gJ($){return""}function EJ($){return Object.entries($.refs).map(([Z,{target:J,title:V}])=>V?`[${Z}]: ${J} "${V}"`:`[${Z}]: ${J}`).join(`
`)}function h6($,Z){return`ref${Z.referenceIndex++}`}function x6($){return Object.entries($||{}).map(([Z,J])=>{let V=Z==="className"?"class":Z;return typeof J=="boolean"?J?` ${V}`:"":` ${V}="${String(J).replace(/"/g,"&quot;")}"`}).join("")}export{r$ as parser,sJ as markdown,nJ as compiler,g6 as astToMarkdown,j as RuleType};
